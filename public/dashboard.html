<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NativePath - Internal Pricing Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background: #000000;
            color: #ffffff;
            overflow-x: hidden;
            overflow-y: auto;
            min-height: 100vh;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
            width: 100%;
        }

        /* Modern Collapsible Sidebar */
        .sidebar {
            position: fixed;
            top: 16px;
            left: 16px;
            bottom: 16px;
            width: 72px;
            background: linear-gradient(180deg, rgba(30,30,30,0.95) 0%, rgba(20,20,20,0.98) 100%);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 8px;
            padding: 20px 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            z-index: 100;
            backdrop-filter: blur(20px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
            display: flex;
            flex-direction: column;
        }

        .sidebar:hover, .sidebar.pinned {
            width: 260px;
        }

        /* Logo */
        .sidebar-logo {
            display: flex;
            align-items: center;
            padding: 8px;
            margin-bottom: 24px;
            white-space: nowrap;
        }
        .sidebar-logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #1db954 0%, #1ed760 100%);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }
        .sidebar-logo-text {
            font-size: 18px;
            font-weight: 700;
            margin-left: 14px;
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.2s ease 0.1s;
        }
        .sidebar:hover .sidebar-logo-text,
        .sidebar.pinned .sidebar-logo-text {
            opacity: 1;
            transform: translateX(0);
        }

        /* Navigation */
        .sidebar-nav {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border-radius: 6px;
            color: #888;
            text-decoration: none;
            transition: all 0.2s ease;
            cursor: pointer;
            white-space: nowrap;
            position: relative;
        }
        .nav-item:hover {
            background: rgba(255,255,255,0.06);
            color: #fff;
        }
        .nav-item.active {
            background: rgba(29,185,84,0.15);
            color: #1db954;
        }
        .nav-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 20px;
            background: #1db954;
            border-radius: 0 3px 3px 0;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .nav-label {
            margin-left: 14px;
            font-size: 14px;
            font-weight: 500;
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.2s ease 0.05s;
        }
        .sidebar:hover .nav-label,
        .sidebar.pinned .nav-label {
            opacity: 1;
            transform: translateX(0);
        }

        /* Section Divider */
        .nav-section {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid rgba(255,255,255,0.06);
        }
        .nav-section-label {
            font-size: 10px;
            color: #555;
            font-weight: 600;
            letter-spacing: 0.5px;
            padding: 0 12px;
            margin-bottom: 8px;
            opacity: 0;
            transition: opacity 0.2s ease 0.1s;
        }
        .sidebar:hover .nav-section-label,
        .sidebar.pinned .nav-section-label {
            opacity: 1;
        }

        /* Sidebar Footer */
        .sidebar-footer {
            margin-top: auto;
            padding-top: 16px;
            border-top: 1px solid rgba(255,255,255,0.06);
        }

        /* User Profile */
        .user-profile {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 12px;
        }
        .user-profile:hover {
            background: rgba(255,255,255,0.05);
        }
        .user-avatar {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            flex-shrink: 0;
            color: #fff;
        }
        .user-info {
            margin-left: 12px;
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.2s ease 0.1s;
        }
        .sidebar:hover .user-info,
        .sidebar.pinned .user-info {
            opacity: 1;
            transform: translateX(0);
        }
        .user-name {
            font-size: 13px;
            font-weight: 600;
            color: #fff;
        }
        .user-role {
            font-size: 11px;
            color: #666;
        }

        /* Pin Button */
        .pin-button {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            border-radius: 4px;
            color: #666;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            opacity: 0;
            white-space: nowrap;
        }
        .sidebar:hover .pin-button {
            opacity: 1;
        }
        .pin-button:hover {
            background: rgba(255,255,255,0.05);
            color: #888;
        }
        .pin-button.pinned {
            color: #1db954;
        }
        .pin-button .pin-icon {
            margin-right: 10px;
            font-size: 14px;
            transition: transform 0.2s;
        }
        .pin-button.pinned .pin-icon {
            transform: rotate(45deg);
        }

        .section-title {
            padding: 8px 16px;
            color: #b3b3b3;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .channel-list {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .channel-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 16px;
            color: #b3b3b3;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .channel-item:hover {
            color: #ffffff;
            background: #1a1a1a;
        }

        .channel-item.active {
            color: #ffffff;
            background: #282828;
        }

        .channel-badge {
            background: #1db954;
            color: #000;
            padding: 2px 8px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 700;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            background: linear-gradient(180deg, #0f0f0f 0%, #0a0a0a 100%);
            overflow-y: auto;
            position: relative;
            min-height: 100vh;
            border-radius: 6px;
            margin: 16px;
            margin-left: 104px;
            transition: margin-left 0.3s ease;
        }

        .sidebar:hover ~ .main-content,
        .sidebar.pinned ~ .main-content {
            margin-left: 292px;
        }

        .view {
            display: none;
        }

        .view.active {
            display: block;
        }

        .content-header {
            background: #0a0a0a;
            padding: 32px;
            position: sticky;
            top: 0;
            z-index: 10;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 16px;
        }

        .header-title {
            font-size: 36px;
            font-weight: 900;
            margin-bottom: 8px;
            letter-spacing: -1px;
        }

        .header-subtitle {
            color: #b3b3b3;
            font-size: 14px;
            font-weight: 500;
        }

        .filter-bar {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.07);
            border: none;
            border-radius: 8px;
            color: #ffffff;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.04);
        }

        .filter-btn.active {
            background: #3b82f6;
            color: #fff;
        }

        .content-body {
            padding: 0 32px 32px;
        }

        /* Product Grid */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-top: 24px;
        }

        @media (max-width: 1400px) {
            .product-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 900px) {
            .product-grid {
                grid-template-columns: 1fr;
            }
        }

        .product-card {
            background: #181818;
            border-radius: 6px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.3, 0, 0.4, 1);
            position: relative;
            overflow: hidden;
        }

        .product-card:hover {
            background: #282828;
            transform: translateY(-4px);
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: #3b82f6;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .product-card:hover::before {
            opacity: 1;
        }

        .product-image {
            width: 100%;
            aspect-ratio: 1;
            background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%);
            border-radius: 4px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            opacity: 0.6;
        }

        .product-name {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 4px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .product-sku {
            color: #b3b3b3;
            font-size: 12px;
            margin-bottom: 12px;
        }

        .product-prices {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 16px;
        }

        .price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .price-row:last-child {
            border-bottom: none;
        }

        .price-label {
            color: #b3b3b3;
        }

        .price-value {
            font-weight: 700;
            color: #1db954;
        }

        .price-value.discount {
            color: #1db954;
        }

        .price-original {
            text-decoration: line-through;
            color: #666;
            font-size: 14px;
            font-weight: 400;
            margin-right: 8px;
        }

        .product-margin {
            background: rgba(29, 185, 84, 0.1);
            color: #1db954;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 700;
            text-align: center;
            margin-top: 8px;
        }

        /* Promotions Section */
        .promo-section {
            margin-top: 48px;
        }

        .section-header {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 16px;
            letter-spacing: -0.5px;
        }

        .promo-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 16px;
        }

        .promo-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
            border-radius: 6px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .promo-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(135deg, var(--promo-color) 0%, transparent 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .promo-card:hover::before {
            opacity: 0.1;
        }

        .promo-card:hover {
            border-color: var(--promo-color);
            transform: scale(1.02);
        }

        .promo-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            position: relative;
            z-index: 1;
        }

        .promo-icon {
            font-size: 32px;
        }

        .promo-status {
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .promo-status.active {
            background: #3b82f6;
            color: #fff;
        }

        .promo-status.upcoming {
            background: rgba(255, 255, 255, 0.1);
            color: #b3b3b3;
        }

        .promo-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .promo-date {
            color: #b3b3b3;
            font-size: 13px;
            margin-bottom: 16px;
            position: relative;
            z-index: 1;
        }

        .promo-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            position: relative;
            z-index: 1;
        }

        .promo-stat {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 8px;
        }

        .promo-stat-label {
            color: #b3b3b3;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 4px;
        }

        .promo-stat-value {
            font-size: 18px;
            font-weight: 700;
            color: var(--promo-color);
        }




        /* Promo Calendar */
        .calendar-container {
            background: #181818;
            border-radius: 6px;
            padding: 24px;
            margin-top: 24px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .calendar-title {
            font-size: 24px;
            font-weight: 700;
        }

        .calendar-nav {
            display: flex;
            gap: 12px;
        }

        .calendar-nav button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #ffffff;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .calendar-nav button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .calendar-legend {
            display: flex;
            gap: 24px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: #b3b3b3;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .calendar-day-header {
            text-align: center;
            color: #b3b3b3;
            font-size: 12px;
            font-weight: 700;
            padding: 8px;
            text-transform: uppercase;
        }

        .calendar-day {
            min-height: 100px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 8px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .calendar-day:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .calendar-day.other-month {
            opacity: 0.3;
        }

        .calendar-day-number {
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .promo-label {
            font-size: 10px;
            padding: 4px 6px;
            border-radius: 4px;
            margin-bottom: 2px;
            font-weight: 600;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.2s;
        }

        .promo-label:hover {
            transform: scale(1.05);
            z-index: 10;
            white-space: normal;
        }

        .promo-label.prep {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border-left: 3px solid #ffc107;
        }

        .promo-label.live {
            background: rgba(29, 185, 84, 0.2);
            color: #1db954;
            border-left: 3px solid #1db954;
        }

        .promo-label.completed {
            background: rgba(107, 196, 232, 0.2);
            color: #6BC4E8;
            border-left: 3px solid #6BC4E8;
        }

        /* Request Form */
        .request-form-container {
            background: #181818;
            border-radius: 6px;
            padding: 32px;
            margin-top: 24px;
            max-width: 800px;
            display: none;
        }

        .request-form-container.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .form-subtitle {
            color: #b3b3b3;
            margin-bottom: 32px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            color: #ffffff;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            padding: 12px 16px;
            color: #ffffff;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.2s;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #1db954;
            background: rgba(255, 255, 255, 0.08);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        /* Date input with white calendar icon */
        input[type="date"] {
            color-scheme: dark;
            background-color: rgba(255,255,255,0.05);
        }
        input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(1) brightness(100);
            cursor: pointer;
            opacity: 1;
            background-color: transparent;
        }
        input[type="date"]::-webkit-datetime-edit {
            color: #fff;
        }
        input[type="date"]::-webkit-datetime-edit-fields-wrapper {
            color: #fff;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .submit-btn, .request-promo-btn, .cancel-btn {
            background: #3b82f6;
            color: #fff;
            border: none;
            padding: 14px 32px;
            border-radius: 24px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-btn:hover, .request-promo-btn:hover {
            background: #2563eb;
            transform: scale(1.04);
        }

        .cancel-btn {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            margin-left: 12px;
        }

        .cancel-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .approval-status {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .approval-status.pending {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
        }

        .approval-status.approved {
            background: rgba(29, 185, 84, 0.2);
            color: #1db954;
        }

        .approval-status.rejected {
            background: rgba(233, 20, 41, 0.2);
            color: #dc2626;
        }

        /* Price comparison table */
        .price-table {
            width: 100%;
            background: #181818;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 16px;
        }

        .price-table-header {
            display: grid;
            grid-template-columns: 2fr repeat(4, 1fr);
            background: rgba(255, 255, 255, 0.05);
            padding: 16px;
            font-weight: 700;
            font-size: 12px;
            text-transform: uppercase;
            color: #b3b3b3;
        }

        .price-table-row {
            display: grid;
            grid-template-columns: 2fr repeat(4, 1fr);
            padding: 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            align-items: center;
            transition: all 0.2s;
            cursor: pointer;
        }

        .price-table-row:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .price-cell {
            display: flex;
            flex-direction: column;
        }

        .price-cell-value {
            font-size: 18px;
            font-weight: 700;
            color: #1db954;
        }

        .price-cell-bundle {
            font-size: 11px;
            color: #b3b3b3;
            margin-top: 2px;
        }

        .price-alert {
            background: rgba(233, 20, 41, 0.1);
            border-left: 4px solid #dc2626;
        }

        .price-mismatch {
            color: #dc2626;
        }

        /* Scanner status */
        .scanner-card {
            background: #181818;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 16px;
        }

        .scanner-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .scanner-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: pulse-dot 2s infinite;
        }

        .status-dot.scanning {
            background: #ffc107;
        }

        .status-dot.success {
            background: #1db954;
        }

        .status-dot.error {
            background: #dc2626;
        }

        @keyframes pulse-dot {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.2);
            }
        }

        .scan-btn {
            background: #1db954;
            color: #000;
            border: none;
            padding: 10px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }

        .scan-btn:hover {
            background: #1ed760;
            transform: scale(1.04);
        }

        .scan-results {
            display: grid;
            gap: 8px;
            margin-top: 16px;
        }

        .scan-result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }

        /* Promo Detail Panel */
        .promo-detail-panel {
            background: #181818;
            border-radius: 6px;
            padding: 24px;
            margin-top: 24px;
        }

        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 24px;
        }

        .detail-title {
            font-size: 24px;
            font-weight: 700;
        }

        .phase-badge {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .phase-badge.prep {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
        }

        .phase-badge.live {
            background: rgba(29, 185, 84, 0.2);
            color: #1db954;
        }

        .timeline-section {
            margin-top: 24px;
        }

        .timeline-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .timeline {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
        }

        .timeline-item {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid var(--phase-color);
        }

        .timeline-item-title {
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            color: var(--phase-color);
            margin-bottom: 8px;
        }

        .timeline-item-date {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .timeline-item-days {
            font-size: 12px;
            color: #b3b3b3;
        }

        .channels-section {
            margin-top: 24px;
        }

        .channel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 16px;
        }

        .channel-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 16px;
        }

        .channel-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .channel-name {
            font-size: 16px;
            font-weight: 700;
        }

        .channel-status {
            font-size: 11px;
            padding: 4px 8px;
            border-radius: 4px;
            background: rgba(29, 185, 84, 0.2);
            color: #1db954;
        }

        .channel-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .channel-metric {
            display: flex;
            flex-direction: column;
        }

        .channel-metric-label {
            font-size: 11px;
            color: #b3b3b3;
            text-transform: uppercase;
        }

        .channel-metric-value {
            font-size: 16px;
            font-weight: 700;
            color: #1db954;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .timeline {
                flex-direction: column;
            }
            
            .sidebar {
                width: 60px;
                top: 10px;
                left: 10px;
                bottom: 10px;
                padding: 12px 8px;
            }
            .sidebar:hover, .sidebar.pinned {
                width: 220px;
            }
            .main-content {
                margin-left: 86px;
                margin: 10px 10px 10px 86px;
            }
            .sidebar.pinned ~ .main-content {
                margin-left: 240px;
            }
        }

        /* Scrollbar */
        .main-content::-webkit-scrollbar {
            width: 12px;
        }

        .main-content::-webkit-scrollbar-track {
            background: transparent;
        }

        .main-content::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 6px;
        }

        .main-content::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        /* Login Screen Styles */
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }
        
        .login-overlay.hidden {
            display: none;
        }
        
        .login-container {
            width: 100%;
            max-width: 400px;
            padding: 20px;
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 32px;
        }
        
        .login-header h1 {
            font-size: 32px;
            font-weight: bold;
            color: #fff;
            margin-bottom: 8px;
        }
        
        .login-header p {
            color: #888;
        }
        
        .login-box {
            background: #181818;
            border-radius: 6px;
            padding: 32px;
        }
        
        .login-error {
            background: rgba(239,68,68,0.2);
            border: 1px solid #ef4444;
            color: #f87171;
            padding: 8px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            font-size: 14px;
            display: none;
        }
        
        .login-error.show {
            display: block;
        }
        
        .login-field {
            margin-bottom: 16px;
        }
        
        .login-field label {
            display: block;
            color: #888;
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .login-field input {
            width: 100%;
            background: #282828;
            border: 1px solid #444;
            border-radius: 8px;
            padding: 12px 16px;
            color: #fff;
            font-size: 16px;
            box-sizing: border-box;
        }
        
        .login-field input:focus {
            outline: none;
            border-color: #1db954;
        }
        
        .login-btn {
            width: 100%;
            background: #1db954;
            color: #000;
            font-weight: bold;
            padding: 14px 0;
            border-radius: 8px;
            border: none;
            font-size: 16px;
            cursor: pointer;
            margin-top: 8px;
        }
        
        .login-btn:hover {
            background: #1ed760;
        }
        
        .login-hint {
            color: #666;
            font-size: 13px;
            margin-top: 16px;
            text-align: center;
        }
        
        .login-hint span {
            color: #fff;
        }

        /* User info in sidebar */
        .user-info {
            padding: 16px;
            border-top: 1px solid rgba(255,255,255,0.1);
            margin-top: auto;
        }
        
        .user-info-content {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            background: #1db954;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: bold;
            font-size: 14px;
        }
        
        .user-details {
            flex: 1;
        }
        
        .user-name {
            font-weight: 600;
            font-size: 14px;
            color: #fff;
        }
        
        .user-role {
            font-size: 11px;
            color: #888;
        }
        
        .logout-btn {
            background: none;
            border: none;
            color: #888;
            cursor: pointer;
            font-size: 13px;
            padding: 0;
        }
        
        .logout-btn:hover {
            color: #fff;
        }

        /* Emoji nav icons */
        .nav-emoji {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        /* Modern Product Cards */
        .filter-chip {
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 8px;
            color: #888;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .filter-chip:hover, .filter-chip.active {
            background: rgba(29, 185, 84, 0.15);
            border-color: rgba(29, 185, 84, 0.3);
            color: #1db954;
        }

        .product-card {
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 6px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .product-card:hover {
            background: rgba(255,255,255,0.04);
            border-color: rgba(29, 185, 84, 0.3);
        }

        .product-status {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
        }
        .product-status.active { background: rgba(29, 185, 84, 0.15); color: #1db954; }
        .product-status.low-stock { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .product-status.discontinued { background: rgba(239, 68, 68, 0.15); color: #ef4444; }

        .product-tag {
            padding: 4px 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
            font-size: 11px;
            color: #888;
        }

        .product-link {
            padding: 6px 10px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 6px;
            color: #60a5fa;
            text-decoration: none;
            font-size: 11px;
        }
        .product-link:hover { background: rgba(59, 130, 246, 0.2); }

        .modal-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.85);
            backdrop-filter: blur(4px);
            z-index: 10005;
            overflow-y: auto;
            padding: 40px 20px;
        }

        .modal-content.modern {
            max-width: 680px;
            margin: 0 auto;
            background: #0a0a0a;
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 8px;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.05);
            border: none;
            color: #888;
            font-size: 18px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10;
        }
        .modal-close:hover { background: rgba(255,255,255,0.1); color: #fff; }

        .modal-section { margin-bottom: 20px; }
        .modal-section h4 { font-size: 12px; color: #666; margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }

        .variant-item {
            display: flex;
            justify-content: space-between;
            padding: 12px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .offer-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-size: 13px;
        }
        .offer-item:last-child { border-bottom: none; }

        .quick-link {
            padding: 10px 14px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 8px;
            color: #60a5fa;
            text-decoration: none;
            font-size: 12px;
            display: inline-block;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .btn-edit {
            padding: 12px 20px;
            background: rgba(59, 130, 246, 0.15);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 4px;
            color: #60a5fa;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
        }
        .btn-edit:hover { background: rgba(59, 130, 246, 0.25); }

        .btn-save {
            width: 100%;
            padding: 14px;
            background: #1db954;
            border: none;
            border-radius: 4px;
            color: #000;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }

        .edit-form .form-group { margin-bottom: 16px; }
        .edit-form label { display: block; font-size: 12px; color: #666; margin-bottom: 6px; }
        .edit-form input, .edit-form select {
            width: 100%;
            padding: 12px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: #fff;
            font-size: 14px;
        }
        .edit-form .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .edit-form .form-note {
            background: rgba(59, 130, 246, 0.1);
            border-radius: 8px;
            padding: 12px;
            font-size: 12px;
            color: #888;
            margin-bottom: 16px;
        }

        /* Minimal Product List Styles */
        .product-row {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 14px 18px;
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .product-row:hover {
            background: rgba(255,255,255,0.04);
            border-color: rgba(29, 185, 84, 0.4);
        }
        .product-row.discontinued { opacity: 0.5; }

        .product-row-icon {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.05);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }

        .product-row-info { flex: 1; min-width: 0; }
        .product-row-name { font-size: 14px; font-weight: 600; margin-bottom: 2px; }
        .product-row-meta { font-size: 12px; color: #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        .product-row-stats { display: flex; gap: 24px; }
        .product-row-stat { text-align: right; min-width: 60px; }
        .stat-val { font-size: 14px; font-weight: 600; display: block; }
        .stat-val.green { color: #1db954; }
        .stat-val.yellow { color: #eab308; }
        .stat-lbl { font-size: 10px; color: #666; }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
        }
        .status-dot.active { background: #1db954; }
        .status-dot.warning { background: #eab308; }
        .status-dot.discontinued { background: #ef4444; }

        /* Product Modal Styles */
        .product-modal-content {
            max-width: 620px;
            margin: 40px auto;
            background: #111;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            position: relative;
            overflow: hidden;
        }

        .modal-close-btn {
            position: absolute;
            top: 16px;
            right: 16px;
            width: 32px;
            height: 32px;
            background: rgba(255,255,255,0.05);
            border: none;
            border-radius: 50%;
            color: #888;
            font-size: 18px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-close-btn:hover { background: rgba(255,255,255,0.1); color: #fff; }

        .product-modal-header {
            display: flex;
            gap: 16px;
            padding: 24px;
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }

        .product-modal-icon {
            width: 64px;
            height: 64px;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            flex-shrink: 0;
        }

        .product-modal-title { flex: 1; }
        .product-modal-title h2 { font-size: 20px; font-weight: 600; margin-bottom: 4px; }
        .product-modal-title p { font-size: 12px; color: #666; margin-bottom: 10px; }

        .product-modal-tags { display: flex; gap: 6px; flex-wrap: wrap; }
        .modal-tag {
            padding: 4px 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
            font-size: 11px;
            color: #888;
        }

        .product-modal-status {
            padding: 6px 14px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            height: fit-content;
        }
        .product-modal-status.active { background: rgba(29, 185, 84, 0.15); color: #1db954; }
        .product-modal-status.low-stock { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .product-modal-status.discontinued { background: rgba(239, 68, 68, 0.15); color: #ef4444; }

        .product-modal-stats {
            display: flex;
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }
        .modal-stat-box {
            flex: 1;
            padding: 16px;
            text-align: center;
            border-right: 1px solid rgba(255,255,255,0.08);
        }
        .modal-stat-box:last-child { border-right: none; }
        .modal-stat-value { font-size: 18px; font-weight: 600; display: block; margin-bottom: 2px; }
        .modal-stat-value.green { color: #1db954; }
        .modal-stat-value.blue { color: #3b82f6; }
        .modal-stat-label { font-size: 10px; color: #666; }

        .product-modal-section {
            padding: 20px 24px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .product-modal-section:last-of-type { border-bottom: none; }
        .product-modal-section h4 {
            font-size: 11px;
            color: #666;
            font-weight: 600;
            letter-spacing: 0.5px;
            margin-bottom: 14px;
        }

        .sales-stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }
        .sales-stat { }
        .sales-stat-value { font-size: 20px; font-weight: 600; display: block; margin-bottom: 2px; }
        .sales-stat-value.green { color: #1db954; }
        .sales-stat-label { font-size: 11px; color: #666; }

        .variants-list, .offers-list { display: flex; flex-direction: column; gap: 8px; }
        .variant-row, .offer-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 14px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            font-size: 13px;
        }
        .variant-sku, .offer-code { color: #888; font-family: monospace; }
        .variant-name, .offer-campaign { flex: 1; text-align: center; }
        .variant-price { font-weight: 600; }
        .offer-status { font-size: 12px; }
        .offer-status.active { color: #1db954; }

        .quick-links-row { display: flex; gap: 8px; flex-wrap: wrap; }
        .quick-link-btn {
            padding: 10px 14px;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 8px;
            color: #60a5fa;
            text-decoration: none;
            font-size: 12px;
            transition: all 0.2s;
        }
        .quick-link-btn:hover { background: rgba(59, 130, 246, 0.2); }

        .product-modal-admin {
            padding: 20px 24px;
            border-top: 1px solid rgba(255,255,255,0.08);
        }
        .edit-product-btn {
            padding: 12px 20px;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 8px;
            color: #60a5fa;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
        }
        .edit-product-btn:hover { background: rgba(59, 130, 246, 0.2); }

        .edit-modal-content {
            max-width: 420px;
            margin: 60px auto;
            background: #111;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            padding: 24px;
            position: relative;
        }
        .form-row-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px; }
        .form-group { margin-bottom: 16px; }
        .form-group label { display: block; font-size: 12px; color: #666; margin-bottom: 6px; }
        .form-group input, .form-group select {
            width: 100%;
            padding: 10px 12px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: #fff;
            font-size: 13px;
        }
        .form-note {
            background: rgba(59, 130, 246, 0.08);
            border-radius: 8px;
            padding: 12px;
            font-size: 12px;
            color: #888;
            margin-bottom: 16px;
        }
        .save-btn {
            width: 100%;
            padding: 12px;
            background: #1db954;
            border: none;
            border-radius: 8px;
            color: #000;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }
        .save-btn:hover { background: #1ed760; }

        /* Products Tab Switcher */
        .products-tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 24px;
            background: rgba(255,255,255,0.03);
            padding: 4px;
            border-radius: 4px;
            width: fit-content;
        }
        .products-tab {
            padding: 10px 20px;
            background: transparent;
            border: none;
            color: #888;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s;
        }
        .products-tab:hover { color: #fff; }
        .products-tab.active {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }
        .products-tab-content { display: none; }
        .products-tab-content.active { display: block; }

        /* Status Badge in Row */
        .product-row-status-badge {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            margin-right: 16px;
        }
        .product-row-status-badge.active { background: rgba(29, 185, 84, 0.15); color: #1db954; }
        .product-row-status-badge.low-stock { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .product-row-status-badge.discontinued { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .product-row-status-badge.reformulated { background: rgba(139, 92, 246, 0.15); color: #a78bfa; }

        /* Launch Calendar - Modernized to match Campaign Calendar */
        .launch-calendar {
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.03);
            border-radius: 10px;
            overflow: hidden;
        }
        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            background: rgba(255,255,255,0.02);
            border-bottom: 1px solid rgba(255,255,255,0.03);
        }
        .calendar-header div {
            padding: 14px;
            text-align: center;
            font-size: 11px;
            color: #666;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
        }
        .calendar-day {
            height: 90px;
            padding: 10px;
            border-right: 1px solid rgba(255,255,255,0.02);
            border-bottom: 1px solid rgba(255,255,255,0.02);
            position: relative;
            transition: all 0.15s ease;
            cursor: pointer;
            overflow: hidden;
        }
        .calendar-day:hover {
            background: rgba(255,255,255,0.04);
        }
        .calendar-day:nth-child(7n) { border-right: none; }
        .calendar-day.other-month { 
            opacity: 0.25; 
            cursor: default;
        }
        .calendar-day.other-month:hover { background: transparent; }
        .calendar-day.today { 
            background: rgba(29, 185, 84, 0.08);
        }
        .calendar-day.today::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #1db954, #4ade80);
        }
        .calendar-day-num {
            font-size: 13px;
            color: #888;
            margin-bottom: 6px;
            font-weight: 500;
            display: block;
        }
        .calendar-day.today .calendar-day-num {
            color: #1db954;
            font-weight: 700;
        }
        .calendar-launch {
            font-size: 10px;
            padding: 4px 8px;
            border-radius: 4px;
            margin-bottom: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            cursor: pointer;
            transition: transform 0.1s ease;
            font-weight: 500;
            display: block;
        }
        .calendar-launch:hover {
            transform: scale(1.02);
        }
        .calendar-launch.on-track { 
            background: linear-gradient(135deg, rgba(29, 185, 84, 0.35) 0%, rgba(21, 128, 61, 0.35) 100%); 
            color: #4ade80;
            border-left: 2px solid #1db954;
        }
        .calendar-launch.delayed { 
            background: linear-gradient(135deg, rgba(234, 179, 8, 0.3) 0%, rgba(161, 98, 7, 0.3) 100%); 
            color: #fbbf24;
            border-left: 2px solid #eab308;
        }
        .calendar-launch.planning { 
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(29, 78, 216, 0.3) 100%); 
            color: #60a5fa;
            border-left: 2px solid #3b82f6;
        }

        /* Launch List Items */
        .launch-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 14px 18px;
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 4px;
            transition: all 0.2s;
        }
        .launch-item:hover {
            background: rgba(255,255,255,0.04);
            border-color: rgba(255,255,255,0.1);
        }
        .launch-item.delayed { border-left: 3px solid #eab308; }
        .launch-item-date {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 50px;
            padding: 8px 12px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
        }
        .launch-day { font-size: 20px; font-weight: 700; line-height: 1; }
        .launch-month { font-size: 10px; color: #888; margin-top: 2px; }
        .launch-item-info { flex: 1; }
        .launch-item-name { font-size: 14px; font-weight: 600; margin-bottom: 2px; }
        .launch-item-meta { font-size: 12px; color: #666; }
        .launch-delay-reason { font-size: 11px; color: #eab308; margin-top: 4px; }
        .launch-item-status {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
        }
        .launch-item-status.on-track { background: rgba(29, 185, 84, 0.15); color: #1db954; }
        .launch-item-status.delayed { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .launch-item-status.planning { background: rgba(59, 130, 246, 0.15); color: #60a5fa; }
        .launch-edit-btn {
            background: rgba(255,255,255,0.05);
            border: none;
            padding: 6px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
        }
        .launch-edit-btn:hover { background: rgba(255,255,255,0.1); }

        /* Modal Tabs */
        .product-modal-tabs {
            display: flex;
            gap: 0;
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }
        .modal-tab {
            padding: 14px 24px;
            background: transparent;
            border: none;
            color: #666;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            margin-bottom: -1px;
            transition: all 0.2s;
        }
        .modal-tab:hover { color: #fff; }
        .modal-tab.active {
            color: #1db954;
            border-bottom-color: #1db954;
        }
        .modal-tab-content { display: none; }
        .modal-tab-content.active { display: block; }

        /* Marketing Tab Styles */
        .marketing-list, .hooks-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .marketing-item, .hook-item {
            padding: 10px 14px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            font-size: 13px;
        }
        .hook-item {
            font-style: italic;
            color: #888;
            border-left: 3px solid #1db954;
        }
        .features-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        .feature-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            font-size: 12px;
        }
        .feature-icon { font-size: 16px; }
        .benefits-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .benefit-item {
            padding: 12px 14px;
            background: rgba(29, 185, 84, 0.05);
            border: 1px solid rgba(29, 185, 84, 0.1);
            border-radius: 8px;
        }
        .benefit-title { font-weight: 600; font-size: 13px; display: block; margin-bottom: 2px; }
        .benefit-desc { font-size: 12px; color: #888; }
        .demo-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        .demo-tag {
            padding: 6px 12px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 6px;
            font-size: 12px;
            color: #60a5fa;
        }
        .competitor-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .competitor-row {
            padding: 10px 14px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
        }
        .competitor-name { font-weight: 600; font-size: 13px; display: block; margin-bottom: 2px; }
        .competitor-point { font-size: 12px; color: #888; }

        /* History Tab Styles */
        .history-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .history-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px 14px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            font-size: 13px;
        }
        .history-date { color: #888; min-width: 80px; }
        .history-event { flex: 1; }
        .history-badge {
            padding: 3px 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            font-size: 11px;
            color: #888;
        }
        .history-badge.current { background: rgba(29, 185, 84, 0.15); color: #1db954; }
        .history-change { font-size: 12px; color: #888; }
        .history-change.up { color: #1db954; }

        /* Campaign Rows */
        .campaign-row {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 20px;
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .campaign-row:hover {
            background: rgba(255,255,255,0.04);
            border-color: rgba(255,255,255,0.1);
        }
        .campaign-row-icon {
            font-size: 28px;
            width: 48px;
            height: 48px;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .campaign-row-info { flex: 1; }
        .campaign-row-name { font-size: 15px; font-weight: 600; margin-bottom: 2px; }
        .campaign-row-dates { font-size: 12px; color: #666; }
        .campaign-row-stats { display: flex; gap: 24px; }
        .campaign-stat { text-align: center; min-width: 50px; }
        .campaign-stat-val { font-size: 16px; font-weight: 600; display: block; }
        .campaign-stat-val.green { color: #1db954; }
        .campaign-stat-val.yellow { color: #eab308; }
        .campaign-stat-lbl { font-size: 10px; color: #666; }
        .campaign-row-status { font-size: 12px; font-weight: 600; min-width: 80px; text-align: right; }
        .campaign-row-status.active { color: #1db954; }
        .campaign-row-status.upcoming { color: #eab308; }
        .campaign-row-status.planning { color: #3b82f6; }

        /* Campaign Calendar Day - Modernized */
        .campaign-cal-day {
            min-height: 80px;
            padding: 10px;
            border-right: 1px solid rgba(255,255,255,0.02);
            border-bottom: 1px solid rgba(255,255,255,0.02);
            transition: all 0.15s ease;
            cursor: pointer;
            position: relative;
        }
        .campaign-cal-day:hover {
            background: rgba(255,255,255,0.04);
        }
        .campaign-cal-day:nth-child(7n) { border-right: none; }
        .campaign-cal-day.other { 
            opacity: 0.25; 
            cursor: default;
        }
        .campaign-cal-day.other:hover { background: transparent; }
        .campaign-cal-day.today { 
            background: rgba(59, 130, 246, 0.08);
        }
        .campaign-cal-day.today::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
        }
        .campaign-cal-num { 
            font-size: 13px; 
            color: #888; 
            margin-bottom: 6px; 
            font-weight: 500;
            display: block;
        }
        .campaign-cal-day.today .campaign-cal-num {
            color: #3b82f6;
            font-weight: 700;
        }
        .campaign-cal-event {
            font-size: 10px;
            padding: 4px 8px;
            border-radius: 4px;
            margin-bottom: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-weight: 500;
            display: block;
            transition: transform 0.1s ease;
        }
        .campaign-cal-event:hover {
            transform: scale(1.02);
        }
        .campaign-cal-event.live { 
            background: linear-gradient(135deg, rgba(29, 185, 84, 0.35) 0%, rgba(21, 128, 61, 0.35) 100%); 
            color: #4ade80;
            border-left: 2px solid #1db954;
        }
        .campaign-cal-event.prep { 
            background: linear-gradient(135deg, rgba(234, 179, 8, 0.3) 0%, rgba(161, 98, 7, 0.3) 100%); 
            color: #fbbf24;
            border-left: 2px solid #eab308;
        }
        .campaign-cal-event.upcoming { 
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.3) 0%, rgba(29, 78, 216, 0.3) 100%); 
            color: #60a5fa;
            border-left: 2px solid #3b82f6;
        }

        /* ========================================= */
        /* NEW DASHBOARD STYLES */
        /* ========================================= */
        
        .dashboard-section-title {
            font-size: 14px;
            font-weight: 600;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .attention-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 28px;
        }

        .attention-card {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 6px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .attention-card:hover {
            background: rgba(255,255,255,0.05);
            transform: translateY(-2px);
        }

        .attention-card.critical { border-color: rgba(239,68,68,0.3); }
        .attention-card.critical::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ef4444, #f97316);
        }

        .attention-card.warning { border-color: rgba(249,115,22,0.3); }
        .attention-card.warning::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 3px;
            background: linear-gradient(90deg, #f97316, #fbbf24);
        }

        .attention-card.info { border-color: rgba(59,130,246,0.3); }
        .attention-card.info::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
        }

        .attention-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .attention-icon {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .attention-icon.critical { background: rgba(239,68,68,0.15); }
        .attention-icon.warning { background: rgba(249,115,22,0.15); }
        .attention-icon.info { background: rgba(59,130,246,0.15); }

        .attention-badge {
            font-size: 10px;
            padding: 4px 10px;
            border-radius: 8px;
            font-weight: 600;
        }
        .attention-badge.critical { background: rgba(239,68,68,0.15); color: #ef4444; }
        .attention-badge.warning { background: rgba(249,115,22,0.15); color: #f97316; }
        .attention-badge.info { background: rgba(59,130,246,0.15); color: #3b82f6; }

        .attention-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .attention-desc {
            font-size: 13px;
            color: #666;
            margin-bottom: 12px;
        }

        .attention-action {
            font-size: 12px;
            color: #1db954;
            font-weight: 600;
        }

        .dashboard-bottom-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .quick-launch-section,
        .campaigns-section {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 6px;
            padding: 24px;
        }

        .quick-launch-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .quick-launch-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 20px 16px;
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-launch-btn:hover {
            background: rgba(29,185,84,0.1);
            border-color: rgba(29,185,84,0.3);
            transform: translateY(-2px);
        }

        .quick-launch-icon {
            width: 44px;
            height: 44px;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .quick-launch-text {
            font-size: 12px;
            color: #888;
            font-weight: 500;
            text-align: center;
        }

        .campaigns-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .campaigns-title {
            font-size: 16px;
            font-weight: 600;
        }

        .campaign-list-new {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .campaign-item-new {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 16px;
            background: rgba(255,255,255,0.03);
            border-radius: 6px;
            transition: all 0.2s;
            cursor: pointer;
        }

        .campaign-item-new:hover {
            background: rgba(255,255,255,0.05);
        }

        .campaign-info-new {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .campaign-emoji {
            font-size: 24px;
        }

        .campaign-details-new {
            display: flex;
            flex-direction: column;
        }

        .campaign-name-new {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .campaign-date-new {
            font-size: 12px;
            color: #666;
        }

        .campaign-status-new {
            font-size: 12px;
            font-weight: 600;
        }
        .campaign-status-new.live { color: #1db954; }
        .campaign-status-new.scheduled { color: #f97316; }

        /* ========================================= */
        /* NEW PRODUCT CARD STYLES */
        /* ========================================= */

        .products-filter-bar {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 24px;
            padding: 20px;
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 6px;
        }

        .products-filter-row {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .products-search-box {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 16px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 4px;
            width: 280px;
        }

        .products-search-box input {
            background: none;
            border: none;
            color: #fff;
            font-size: 13px;
            width: 100%;
            outline: none;
        }

        .products-search-box input::placeholder { color: #555; }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-group-label {
            font-size: 12px;
            color: #666;
            font-weight: 500;
            white-space: nowrap;
        }

        .filter-divider {
            width: 1px;
            height: 32px;
            background: rgba(255,255,255,0.1);
        }

        .filter-chip.gift {
            background: rgba(236,72,153,0.15);
            border-color: rgba(236,72,153,0.4);
            color: #ec4899;
        }

        .products-results-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .products-results-count {
            font-size: 13px;
            color: #666;
        }
        .products-results-count span { color: #fff; font-weight: 600; }

        .products-view-toggle {
            display: flex;
            gap: 4px;
            background: rgba(255,255,255,0.05);
            padding: 4px;
            border-radius: 8px;
        }

        .products-view-btn {
            padding: 6px 12px;
            background: transparent;
            border: none;
            color: #666;
            font-size: 14px;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s;
        }
        .products-view-btn.active {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }

        .products-card-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .product-card-new {
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            overflow: hidden;
        }

        .product-card-new:hover {
            background: rgba(255,255,255,0.04);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.4);
            border-color: rgba(255,255,255,0.15);
        }

        /* Full-width image area */
        .product-card-image-area {
            width: 100%;
            height: 120px;
            background: linear-gradient(135deg, rgba(29,185,84,0.08) 0%, rgba(29,185,84,0.02) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 52px;
            position: relative;
        }

        .product-card-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            font-size: 11px;
            padding: 5px 12px;
            border-radius: 8px;
            font-weight: 600;
        }
        .product-card-badge.active { background: rgba(29,185,84,0.25); color: #1db954; }
        .product-card-badge.low-stock { background: rgba(251,191,36,0.25); color: #fbbf24; }
        .product-card-badge.discontinued { background: rgba(239,68,68,0.25); color: #ef4444; }
        .product-card-badge.reformulated { background: rgba(139,92,246,0.25); color: #a78bfa; }

        /* Card Body */
        .product-card-body {
            padding: 16px 18px 18px;
        }

        .product-card-name {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
            color: #fff;
        }

        .product-card-meta {
            font-size: 12px;
            color: #666;
            margin-bottom: 12px;
        }

        /* Category Tag - Simple */
        .product-card-tags {
            display: flex;
            gap: 8px;
            margin-bottom: 14px;
        }

        .product-card-tag {
            font-size: 11px;
            padding: 5px 10px;
            border-radius: 6px;
            font-weight: 500;
            background: rgba(255,255,255,0.06);
            color: #888;
        }
        .product-card-tag.gift { 
            background: rgba(236,72,153,0.12); 
            color: #ec4899; 
        }

        /* Stats Box - Dark rounded container */
        .product-card-stats-box {
            background: rgba(0,0,0,0.5);
            border-radius: 6px;
            padding: 14px 16px;
            margin-bottom: 14px;
        }

        .product-card-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }

        .product-card-stat {
            text-align: center;
        }

        .product-card-stat-value {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 3px;
            color: #fff;
        }
        .product-card-stat-value.margin { color: #1db954; }
        .product-card-stat-value.margin.warning { color: #fbbf24; }
        .product-card-stat-value.stock.low { color: #fbbf24; }

        .product-card-stat-label {
            font-size: 9px;
            color: #555;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        /* Channel Links - Light blue background */
        .product-card-channels {
            display: flex;
            gap: 6px;
        }

        .channel-badge {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 6px 12px;
            background: rgba(96,165,250,0.15);
            border: 1px solid rgba(96,165,250,0.25);
            border-radius: 6px;
            font-size: 11px;
            color: #60a5fa;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .channel-badge:hover {
            background: rgba(96,165,250,0.25);
            border-color: rgba(96,165,250,0.4);
        }

        .channel-icon {
            font-size: 11px;
        }

        /* ========================================= */
        /* OFFERS LIBRARY STYLES - 2-COLUMN CARDS */
        /* ========================================= */

        .offers-grid-new {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        @media (max-width: 1200px) {
            .offers-grid-new {
                grid-template-columns: 1fr;
            }
        }

        .offer-card-new {
            background: #0f0f0f;
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: border-color 0.2s, transform 0.2s;
        }

        .offer-card-new:hover {
            border-color: rgba(29,185,84,0.3);
            transform: translateY(-2px);
        }

        /* Card Image */
        .offer-card-image {
            position: relative;
            height: 80px;
            background: linear-gradient(135deg, rgba(29,185,84,0.15) 0%, rgba(29,185,84,0.05) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .offer-card-image img {
            max-height: 70px;
            max-width: 70px;
            object-fit: contain;
        }

        .offer-card-image .emoji-placeholder {
            font-size: 40px;
        }

        .offer-card-status {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 10px;
            padding: 4px 10px;
            border-radius: 4px;
            font-weight: 600;
        }

        .offer-card-status.active {
            background: rgba(29,185,84,0.25);
            color: #1db954;
        }

        .offer-card-status.pending {
            background: rgba(251,191,36,0.25);
            color: #fbbf24;
        }

        /* Card Body */
        .offer-card-body {
            padding: 14px;
        }

        .offer-card-header-row {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .offer-card-id {
            font-size: 10px;
            font-family: monospace;
            color: #1db954;
            background: rgba(29,185,84,0.1);
            padding: 2px 6px;
            border-radius: 3px;
            display: inline-block;
        }

        .offer-card-campaign {
            font-size: 10px;
            color: #ec4899;
            background: rgba(236,72,153,0.1);
            padding: 2px 6px;
            border-radius: 3px;
            display: inline-block;
        }

        .offer-card-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .offer-card-meta {
            font-size: 11px;
            color: #666;
        }

        /* Channel Tags - Scrollable */
        .offer-channels-wrapper {
            overflow-x: auto;
            margin-bottom: 12px;
            scrollbar-width: none;
        }

        .offer-channels-wrapper::-webkit-scrollbar {
            display: none;
        }

        .offer-channels-list {
            display: flex;
            gap: 6px;
            width: max-content;
        }

        .offer-channel-tag {
            font-size: 10px;
            padding: 4px 8px;
            border-radius: 4px;
            background: rgba(255,255,255,0.05);
            color: #555;
            white-space: nowrap;
        }

        .offer-channel-tag.active {
            background: rgba(29,185,84,0.12);
            color: #1db954;
        }

        /* Horizontal Tiers */
        .offer-tiers-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .offer-tier-box {
            background: rgba(0,0,0,0.4);
            border-radius: 6px;
            padding: 12px 10px;
            text-align: center;
        }

        .offer-tier-label {
            font-size: 11px;
            font-weight: 600;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }

        .offer-tier-price-row {
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 6px;
            margin-bottom: 4px;
        }

        .offer-tier-original {
            font-size: 11px;
            color: #555;
            text-decoration: line-through;
        }

        .offer-tier-price {
            font-size: 18px;
            font-weight: 700;
            color: #fff;
        }

        .offer-tier-shipping {
            font-size: 10px;
            color: #fbbf24;
            margin-bottom: 4px;
        }

        .offer-tier-gift {
            font-size: 9px;
            color: #ec4899;
            background: rgba(236,72,153,0.15);
            padding: 3px 6px;
            border-radius: 3px;
            display: inline-block;
            margin-bottom: 6px;
        }

        .offer-tier-totals {
            border-top: 1px solid rgba(255,255,255,0.06);
            padding-top: 6px;
            margin-top: 6px;
        }

        .offer-tier-total {
            font-size: 10px;
            color: #888;
            margin-bottom: 2px;
        }

        .offer-tier-save {
            font-size: 10px;
            color: #1db954;
            font-weight: 600;
        }

        .offer-tier-per-unit {
            font-size: 9px;
            color: #666;
        }

        /* Card Footer */
        .offer-card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 12px;
            margin-top: 12px;
            border-top: 1px solid rgba(255,255,255,0.06);
            font-size: 11px;
        }

        .offer-card-footer-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .offer-blended-margin {
            color: #666;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .offer-blended-margin span {
            color: #1db954;
            font-weight: 600;
        }

        .offer-pages-count {
            color: #666;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .offer-view-details {
            color: #888;
            font-size: 10px;
        }

        /* Offer Edit Button */
        .offer-edit-btn {
            padding: 6px 14px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 4px;
            color: #888;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
        }

        .offer-edit-btn:hover {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }

        /* ========================================= */
        /* OFFER DETAIL MODAL STYLES */
        /* ========================================= */
        
        .offer-modal-content {
            background: #1a1a1a;
            border-radius: 8px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            margin: 40px auto;
            position: relative;
        }

        .offer-modal-header {
            padding: 20px 24px;
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }

        .offer-modal-id {
            font-size: 11px;
            font-family: monospace;
            color: #1db954;
            background: rgba(29,185,84,0.15);
            padding: 4px 10px;
            border-radius: 4px;
            display: inline-block;
        }

        .offer-modal-campaign {
            font-size: 11px;
            color: #ec4899;
            background: rgba(236,72,153,0.15);
            padding: 4px 10px;
            border-radius: 4px;
            display: inline-block;
        }

        .offer-modal-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .offer-modal-meta {
            font-size: 13px;
            color: #888;
        }

        /* Offer Modal Card Preview */
        .offer-modal-card-preview {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px 24px;
            background: linear-gradient(135deg, rgba(29,185,84,0.08) 0%, rgba(29,185,84,0.02) 100%);
            border-bottom: 1px solid rgba(255,255,255,0.06);
        }

        .offer-modal-card-image {
            font-size: 48px;
        }

        .offer-modal-card-info {
            flex: 1;
        }

        .offer-modal-card-id {
            font-size: 10px;
            font-family: monospace;
            color: #1db954;
            background: rgba(29,185,84,0.15);
            padding: 3px 8px;
            border-radius: 3px;
        }

        .offer-modal-card-status {
            font-size: 10px;
            color: #1db954;
            background: rgba(29,185,84,0.2);
            padding: 3px 10px;
            border-radius: 4px;
            font-weight: 600;
        }

        .offer-modal-card-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 2px;
        }

        .offer-modal-card-meta {
            font-size: 12px;
            color: #888;
            margin-bottom: 8px;
        }

        .offer-modal-card-channels {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .offer-modal-channel {
            font-size: 10px;
            padding: 4px 10px;
            border-radius: 4px;
            background: rgba(255,255,255,0.05);
            color: #666;
        }

        .offer-modal-channel.active {
            background: rgba(29,185,84,0.12);
            color: #1db954;
        }

        /* Offer Modal Tiers Preview */
        .offer-modal-tiers-preview {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            padding: 20px 24px;
            background: rgba(0,0,0,0.2);
        }

        .offer-modal-tier {
            background: rgba(0,0,0,0.4);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
        }

        .offer-modal-tier-label {
            font-size: 11px;
            font-weight: 700;
            color: #888;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .offer-modal-tier-price {
            font-size: 24px;
            font-weight: 700;
            color: #fff;
        }

        .offer-modal-tier-price-row {
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        .offer-modal-tier-original {
            font-size: 13px;
            color: #555;
            text-decoration: line-through;
        }

        .offer-modal-tier-shipping {
            font-size: 11px;
            margin-bottom: 6px;
        }

        .offer-modal-tier-shipping.paid {
            color: #fbbf24;
        }

        .offer-modal-tier-shipping.free {
            color: #1db954;
        }

        .offer-modal-tier-gift {
            font-size: 11px;
            color: #ec4899;
            background: rgba(236,72,153,0.15);
            padding: 4px 10px;
            border-radius: 4px;
            display: inline-block;
            margin-bottom: 8px;
        }

        .offer-modal-tier-totals {
            padding-top: 10px;
            border-top: 1px solid rgba(255,255,255,0.08);
        }

        .offer-modal-tier-total {
            font-size: 11px;
            color: #888;
            margin-bottom: 2px;
        }

        .offer-modal-tier-save {
            font-size: 12px;
            color: #1db954;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .offer-modal-tier-per {
            font-size: 10px;
            color: #666;
        }

        /* Blended Row */
        .offer-modal-blended-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 24px;
            background: rgba(0,0,0,0.15);
            border-bottom: 1px solid rgba(255,255,255,0.06);
            font-size: 12px;
        }

        .offer-modal-blended {
            color: #888;
        }

        .offer-modal-blended strong {
            color: #1db954;
            font-size: 14px;
        }

        .offer-modal-pages {
            color: #888;
        }

        .offer-modal-body {
            padding: 20px 24px;
        }

        .offer-modal-section {
            margin-bottom: 24px;
        }

        .offer-modal-section-title {
            font-size: 12px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Collapsible sections */
        .offer-modal-section.collapsible .offer-modal-section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 14px 16px;
            background: rgba(255,255,255,0.03);
            border-radius: 6px;
            margin-bottom: 0;
        }

        .offer-modal-section.collapsible .offer-modal-section-header:hover {
            background: rgba(255,255,255,0.05);
        }

        .offer-modal-section.collapsible .offer-modal-section-title {
            margin-bottom: 0;
        }

        .offer-collapse-icon {
            color: #666;
            font-size: 10px;
            transition: transform 0.2s;
        }

        .offer-collapse-icon.expanded {
            transform: rotate(90deg);
        }

        .offer-modal-section-content {
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .offer-modal-section-content.collapsed {
            max-height: 0;
            padding: 0;
        }

        .offer-modal-section-content.expanded {
            max-height: 600px;
            padding-top: 16px;
        }

        .offer-edit-indicator {
            font-size: 10px;
            color: #1db954;
            background: rgba(29,185,84,0.15);
            padding: 3px 8px;
            border-radius: 3px;
            font-weight: 600;
        }

        /* Metrics Table */
        .offer-metrics-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }

        .offer-metrics-table th {
            text-align: left;
            padding: 10px 12px;
            background: rgba(0,0,0,0.3);
            color: #666;
            font-weight: 600;
            font-size: 10px;
            text-transform: uppercase;
        }

        .offer-metrics-table td {
            padding: 10px 12px;
            border-bottom: 1px solid rgba(255,255,255,0.06);
        }

        .offer-tier-name {
            font-weight: 600;
        }

        .offer-margin {
            color: #1db954;
            font-weight: 600;
        }

        .offer-editable-input {
            background: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 4px;
            color: #fff;
            padding: 6px 10px;
            font-size: 12px;
            width: 80px;
            text-align: center;
        }

        .offer-editable-input:focus {
            outline: none;
            border-color: #1db954;
        }

        .offer-blended-row {
            background: rgba(29,185,84,0.08);
        }

        .offer-blended-row td {
            border-bottom: none;
        }

        .offer-original-price {
            color: #555;
            text-decoration: line-through;
        }

        .offer-shipping-paid {
            color: #fbbf24;
        }

        .offer-shipping-free {
            color: #1db954;
            font-weight: 600;
        }

        .offer-savings {
            color: #1db954;
            font-weight: 600;
        }

        /* Pages Filter */
        .offer-pages-filter {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .offer-page-filter-chip {
            padding: 6px 14px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 20px;
            font-size: 11px;
            color: #888;
            cursor: pointer;
        }

        .offer-page-filter-chip.active {
            background: rgba(29,185,84,0.15);
            border-color: rgba(29,185,84,0.3);
            color: #1db954;
        }

        /* Pages List */
        .offer-pages-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .offer-page-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 16px;
            background: rgba(255,255,255,0.03);
            border-radius: 6px;
            cursor: pointer;
        }

        .offer-page-item:hover {
            background: rgba(255,255,255,0.05);
        }

        .offer-page-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 2px;
            color: #3b82f6;
        }

        .offer-page-name:hover {
            text-decoration: underline;
        }

        .offer-page-channel {
            font-size: 11px;
            color: #666;
        }

        .offer-page-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .offer-page-status {
            font-size: 10px;
            padding: 4px 10px;
            border-radius: 4px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .offer-page-status::before {
            content: '';
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: inline-block;
        }

        .offer-page-status.live {
            background: rgba(29,185,84,0.15);
            color: #1db954;
        }

        .offer-page-status.live::before {
            background: #1db954;
        }

        .offer-page-status.dev {
            background: rgba(251,191,36,0.15);
            color: #fbbf24;
        }

        .offer-page-status.dev::before {
            background: #fbbf24;
        }

        .offer-page-view {
            font-size: 11px;
            color: #666;
        }

        /* Modal Footer */
        .offer-modal-footer {
            padding: 16px 24px;
            border-top: 1px solid rgba(255,255,255,0.08);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        .offer-modal-btn-secondary {
            padding: 10px 24px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            color: #888;
            font-size: 13px;
            cursor: pointer;
        }

        .offer-modal-btn-secondary:hover {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }

        .offer-modal-btn-primary {
            padding: 10px 24px;
            background: #1db954;
            border: none;
            border-radius: 6px;
            color: #000;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
        }

        .offer-modal-btn-primary:hover {
            background: #1ed760;
        }

        /* ========================================= */
        /* CAMPAIGN DETAIL MODAL STYLES */
        /* ========================================= */
        
        .campaign-modal-content {
            background: #1a1a1a;
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            margin: 40px auto;
            position: relative;
        }

        .campaign-modal-header {
            padding: 24px;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .campaign-modal-icon {
            font-size: 40px;
        }

        .campaign-modal-info {
            flex: 1;
        }

        .campaign-modal-code {
            font-size: 11px;
            font-family: monospace;
            color: #ec4899;
            background: rgba(236,72,153,0.15);
            padding: 4px 10px;
            border-radius: 4px;
        }

        .campaign-modal-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .campaign-modal-dates {
            font-size: 13px;
            color: #888;
        }

        .campaign-modal-status {
            font-size: 12px;
            padding: 6px 14px;
            border-radius: 20px;
            font-weight: 600;
        }

        .campaign-modal-status.active {
            background: rgba(29,185,84,0.15);
            color: #1db954;
        }

        .campaign-modal-status.upcoming {
            background: rgba(251,191,36,0.15);
            color: #fbbf24;
        }

        .campaign-modal-status.planning {
            background: rgba(136,136,136,0.15);
            color: #888;
        }

        .campaign-modal-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            padding: 20px 24px;
            background: rgba(0,0,0,0.2);
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }

        .campaign-modal-stat {
            text-align: center;
        }

        .campaign-modal-stat-value {
            font-size: 28px;
            font-weight: 700;
        }

        .campaign-modal-stat-value.green {
            color: #1db954;
        }

        .campaign-modal-stat-value.yellow {
            color: #fbbf24;
        }

        .campaign-modal-stat-label {
            font-size: 11px;
            color: #666;
            text-transform: uppercase;
        }

        .campaign-modal-body {
            padding: 24px;
        }

        .campaign-modal-section {
            margin-bottom: 28px;
        }

        .campaign-modal-section:last-child {
            margin-bottom: 0;
        }

        .campaign-modal-section-title {
            font-size: 12px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        /* Campaign Offers List */
        .campaign-offers-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .campaign-offer-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 16px;
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .campaign-offer-item:hover {
            background: rgba(255,255,255,0.05);
            border-color: rgba(29,185,84,0.3);
        }

        .campaign-offer-id {
            font-size: 10px;
            font-family: monospace;
            color: #1db954;
            background: rgba(29,185,84,0.1);
            padding: 2px 6px;
            border-radius: 3px;
            display: inline-block;
            margin-bottom: 4px;
        }

        .campaign-offer-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 2px;
        }

        .campaign-offer-meta {
            font-size: 11px;
            color: #666;
        }

        .campaign-offer-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .campaign-offer-pages {
            font-size: 11px;
            color: #888;
        }

        .campaign-offer-arrow {
            color: #666;
        }

        /* Campaign Pages Filter */
        .campaign-pages-filter {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .campaign-page-filter {
            padding: 6px 14px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 20px;
            font-size: 11px;
            color: #888;
            cursor: pointer;
        }

        .campaign-page-filter.active {
            background: rgba(29,185,84,0.15);
            border-color: rgba(29,185,84,0.3);
            color: #1db954;
        }

        /* Campaign Pages List */
        .campaign-pages-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 300px;
            overflow-y: auto;
        }

        .campaign-page-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 14px;
            background: rgba(255,255,255,0.02);
            border-radius: 6px;
        }

        .campaign-page-item:hover {
            background: rgba(255,255,255,0.04);
        }

        .campaign-page-name {
            font-weight: 600;
            font-size: 13px;
            color: #3b82f6;
            margin-bottom: 2px;
        }

        .campaign-page-meta {
            font-size: 10px;
            color: #555;
        }

        .campaign-page-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .campaign-page-status {
            font-size: 10px;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 600;
        }

        .campaign-page-status.live {
            background: rgba(29,185,84,0.15);
            color: #1db954;
        }

        .campaign-page-status.dev {
            background: rgba(251,191,36,0.15);
            color: #fbbf24;
        }

        .campaign-page-view {
            font-size: 11px;
            color: #666;
        }

        /* Campaign Modal Footer */
        .campaign-modal-footer {
            padding: 16px 24px;
            border-top: 1px solid rgba(255,255,255,0.08);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        .campaign-modal-btn {
            padding: 10px 20px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            color: #888;
            font-size: 13px;
            cursor: pointer;
        }

        .campaign-modal-btn:hover {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }

        .campaign-modal-btn.primary {
            background: #1db954;
            border: none;
            color: #000;
            font-weight: 600;
        }

        .campaign-modal-btn.primary:hover {
            background: #1ed760;
        }

        @media (max-width: 1200px) {
            .products-card-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            .attention-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .offers-grid-new {
                grid-template-columns: 1fr;
            }
        }

        /* Searchable Dropdown Styles */
        .searchable-dropdown {
            position: relative;
        }
        .dropdown-selected {
            width: 100%;
            padding: 10px 12px;
            background: #282828;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            color: #fff;
            font-size: 13px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .dropdown-selected:hover {
            border-color: rgba(255,255,255,0.2);
        }
        .dropdown-arrow {
            font-size: 10px;
            color: #888;
        }
        .dropdown-menu {
            position: absolute;
            top: calc(100% + 4px);
            left: 0;
            right: 0;
            background: #1a1a1a;
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 6px;
            z-index: 100;
            max-height: 280px;
            overflow: hidden;
            box-shadow: 0 8px 24px rgba(0,0,0,0.4);
        }
        .dropdown-search {
            width: 100%;
            padding: 10px 12px;
            background: #282828;
            border: none;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            color: #fff;
            font-size: 13px;
            outline: none;
        }
        .dropdown-search::placeholder {
            color: #666;
        }
        .dropdown-options {
            max-height: 220px;
            overflow-y: auto;
        }
        .dropdown-option {
            padding: 10px 12px;
            color: #b3b3b3;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.15s;
        }
        .dropdown-option:hover {
            background: rgba(29, 185, 84, 0.15);
            color: #fff;
        }
        .dropdown-option.hidden {
            display: none;
        }
        
        /* Test Tab Buttons */
        .test-tab-btn {
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            color: #888;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .test-tab-btn:hover {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }
        .test-tab-btn.active {
            background: #1db954;
            border-color: #1db954;
            color: #000;
            font-weight: 600;
        }
        
        /* Filter Dropdown Styles */
        .filter-dropdown {
            position: relative;
        }
        .filter-select {
            padding: 10px 12px;
            background: #282828;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            color: #fff;
            font-size: 13px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .filter-select:hover {
            border-color: rgba(255,255,255,0.2);
        }
        .filter-menu {
            display: none;
            position: absolute;
            top: calc(100% + 4px);
            left: 0;
            right: 0;
            background: #1a1a1a;
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 6px;
            z-index: 100;
            box-shadow: 0 8px 24px rgba(0,0,0,0.4);
            max-height: 400px;
            overflow: hidden;
        }
        .filter-menu.open {
            display: block;
        }
        .filter-search {
            width: 100%;
            padding: 10px 12px;
            background: #282828;
            border: none;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            color: #fff;
            font-size: 12px;
            outline: none;
        }
        .filter-options {
            max-height: 350px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(255,255,255,0.2) transparent;
        }
        .filter-options::-webkit-scrollbar {
            width: 6px;
        }
        .filter-options::-webkit-scrollbar-track {
            background: transparent;
        }
        .filter-options::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.2);
            border-radius: 3px;
        }
        .filter-options::-webkit-scrollbar-thumb:hover {
            background: rgba(255,255,255,0.3);
        }
        .filter-option {
            padding: 8px 12px;
            color: #888;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .filter-option:hover {
            background: rgba(255,255,255,0.05);
            color: #fff;
        }
        .filter-option.selected {
            color: #1db954;
        }
        .filter-option .check {
            opacity: 0;
            font-size: 11px;
        }
        .filter-option.selected .check {
            opacity: 1;
        }
        .filter-option.hidden {
            display: none;
        }
        
        /* Insight Tab Styles */
        .insight-tab {
            padding: 6px 12px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 4px;
            color: #888;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .insight-tab:hover {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }
        .insight-tab.active {
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.4);
            color: #3b82f6;
        }

        /* ========================================= */
        /* LOADING, EMPTY, ERROR STATES */
        /* ========================================= */
        
        /* Loading State */
        .loading-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            text-align: center;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255,255,255,0.1);
            border-top-color: #1db954;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .loading-text {
            margin-top: 16px;
            color: #888;
            font-size: 14px;
        }

        /* Empty State */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            text-align: center;
        }
        .empty-icon {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.5;
        }
        .empty-title {
            font-size: 18px;
            font-weight: 600;
            color: #fff;
            margin-bottom: 8px;
        }
        .empty-description {
            font-size: 14px;
            color: #888;
            margin-bottom: 24px;
            max-width: 400px;
        }
        .empty-action {
            padding: 12px 24px;
            background: #1db954;
            border: none;
            border-radius: 8px;
            color: #000;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .empty-action:hover {
            background: #1ed760;
            transform: translateY(-1px);
        }

        /* Error State */
        .error-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            text-align: center;
            background: rgba(239, 68, 68, 0.05);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 8px;
        }
        .error-icon {
            font-size: 64px;
            margin-bottom: 16px;
        }
        .error-title {
            font-size: 18px;
            font-weight: 600;
            color: #ef4444;
            margin-bottom: 8px;
        }
        .error-description {
            font-size: 14px;
            color: #888;
            margin-bottom: 24px;
            max-width: 400px;
        }
        .error-action {
            padding: 12px 24px;
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.4);
            border-radius: 8px;
            color: #ef4444;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .error-action:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        /* Skeleton Loader */
        .skeleton-loader {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .skeleton-card {
            background: linear-gradient(
                90deg,
                rgba(255,255,255,0.03) 25%,
                rgba(255,255,255,0.05) 50%,
                rgba(255,255,255,0.03) 75%
            );
            background-size: 200% 100%;
            animation: loading 1.5s ease-in-out infinite;
            border-radius: 8px;
            height: 100px;
        }
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body>
    <!-- Login Overlay -->
    <div class="login-overlay" id="login-overlay">
        <div class="login-container">
            <div class="login-header">
                <h1>NativePath</h1>
                <p>Pricing & Campaign Dashboard</p>
            </div>
            <div class="login-box">
                <div class="login-error" id="login-error">Invalid username or password</div>
                <div class="login-field">
                    <label>Username</label>
                    <input type="text" id="login-username" placeholder="Enter username">
                </div>
                <div class="login-field">
                    <label>Password</label>
                    <input type="password" id="login-password" placeholder="Enter password">
                </div>
                <button class="login-btn" onclick="handleLogin()">Login</button>
                <p class="login-hint">
                    Admin: <span>admin</span> / <span>admin123</span><br>
                    User: <span>sarah</span> / <span>sarah123</span>
                </p>
            </div>
        </div>
    </div>

    <div class="app-container" id="app-container" style="display: none;">
        <!-- Modern Collapsible Sidebar -->
        <nav class="sidebar" id="main-sidebar">
            <!-- Logo -->
            <div class="sidebar-logo">
                <div class="sidebar-logo-icon"></div>
                <span class="sidebar-logo-text">NativePath</span>
            </div>

            <!-- Navigation -->
            <div class="sidebar-nav">
                <a class="nav-item active" data-view="home">
                    <span class="nav-icon"></span>
                    <span class="nav-label">Dashboard</span>
                </a>
                <a class="nav-item" data-view="products">
                    <span class="nav-icon"></span>
                    <span class="nav-label">Products</span>
                </a>
                <a class="nav-item" data-view="channel-visibility">
                    <span class="nav-icon"></span>
                    <span class="nav-label">Offers</span>
                </a>

                <div class="nav-section">
                    <div class="nav-section-label">CAMPAIGN HUB</div>
                    <a class="nav-item" data-view="promotions">
                        <span class="nav-icon"></span>
                        <span class="nav-label">Campaigns</span>
                    </a>
                    <a class="nav-item" data-view="launches">
                        <span class="nav-icon"></span>
                        <span class="nav-label">Launches</span>
                    </a>
                    <a class="nav-item" data-view="page-manager">
                        <span class="nav-icon"></span>
                        <span class="nav-label">Page Manager</span>
                    </a>
                    <a class="nav-item" data-view="performance">
                        <span class="nav-icon"></span>
                        <span class="nav-label">Testing</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-label">TOOLS</div>
                    <a class="nav-item" data-view="margin-calc">
                        <span class="nav-icon"></span>
                        <span class="nav-label">Margin Calc</span>
                    </a>
                    <a class="nav-item" data-view="admin" id="admin-nav" style="display: none;">
                        <span class="nav-icon"></span>
                        <span class="nav-label">Admin</span>
                    </a>
                </div>
            </div>

            <!-- Footer -->
            <div class="sidebar-footer">
                <div class="user-profile" id="user-info-section">
                    <div class="user-avatar" id="user-avatar">A</div>
                    <div class="user-info">
                        <div class="user-name" id="user-name">Admin User</div>
                        <div class="user-role" id="user-role">Admin</div>
                    </div>
                </div>
                <div class="pin-button" id="pinButton" onclick="toggleSidebarPin()">
                    <span class="pin-icon"></span>
                    <span class="nav-label">Pin sidebar</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home View -->
            <div class="view active" id="home-view">
                <div class="content-header" style="display: flex; justify-content: space-between; align-items: flex-start;">
                    <div>
                        <h1 class="header-title">Dashboard</h1>
                        <p class="header-subtitle">3 items need attention  2 campaigns live</p>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button onclick="showView('performance-view')" style="display: flex; align-items: center; gap: 8px; padding: 12px 20px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 14px; font-weight: 500; cursor: pointer;"> View Testing</button>
                        <button style="display: flex; align-items: center; gap: 8px; padding: 12px 20px; background: linear-gradient(135deg, #1db954 0%, #1ed760 100%); border: none; border-radius: 6px; color: #000; font-size: 14px; font-weight: 600; cursor: pointer;"> Quick Add</button>
                    </div>
                </div>

                <div class="content-body">
                    <!-- Needs Attention Section -->
                    <div class="dashboard-section-title"> Needs Attention</div>
                    <div class="attention-grid">
                        <div class="attention-card critical" onclick="showView('products-view')">
                            <div class="attention-header">
                                <div class="attention-icon critical"></div>
                                <span class="attention-badge critical">CRITICAL</span>
                            </div>
                            <div class="attention-title">Low Stock Alert</div>
                            <div class="attention-desc">Probiotics 30B  Only 142 units remaining</div>
                            <div class="attention-action">Review Inventory </div>
                        </div>
                        <div class="attention-card warning" onclick="showView('margin-calc-view')">
                            <div class="attention-header">
                                <div class="attention-icon warning"></div>
                                <span class="attention-badge warning">WARNING</span>
                            </div>
                            <div class="attention-title">Margin Below Target</div>
                            <div class="attention-desc">Sleep Support bundle at 47% on Facebook channel</div>
                            <div class="attention-action">Adjust Pricing </div>
                        </div>
                        <div class="attention-card info" onclick="showView('page-manager-view')">
                            <div class="attention-header">
                                <div class="attention-icon info"></div>
                                <span class="attention-badge info">REVIEW</span>
                            </div>
                            <div class="attention-title">Pages Pending Approval</div>
                            <div class="attention-desc">3 landing pages waiting for review</div>
                            <div class="attention-action">Review Pages </div>
                        </div>
                    </div>

                    <!-- Bottom Layout: Quick Actions + Active Campaigns -->
                    <div class="dashboard-bottom-layout">
                        <!-- Quick Actions -->
                        <div class="quick-launch-section">
                            <div class="dashboard-section-title"> Quick Actions</div>
                            <div class="quick-launch-grid">
                                <div class="quick-launch-btn" onclick="showView('products-view')">
                                    <div class="quick-launch-icon"></div>
                                    <span class="quick-launch-text">Add Product</span>
                                </div>
                                <div class="quick-launch-btn" onclick="showView('promotions-view')">
                                    <div class="quick-launch-icon"></div>
                                    <span class="quick-launch-text">Create Offer</span>
                                </div>
                                <div class="quick-launch-btn" onclick="showView('channel-visibility-view')">
                                    <div class="quick-launch-icon"></div>
                                    <span class="quick-launch-text">New Campaign</span>
                                </div>
                                <div class="quick-launch-btn" onclick="showView('margin-calc-view')">
                                    <div class="quick-launch-icon"></div>
                                    <span class="quick-launch-text">Calculator</span>
                                </div>
                                <div class="quick-launch-btn" onclick="showView('performance-view')">
                                    <div class="quick-launch-icon"></div>
                                    <span class="quick-launch-text">Testing</span>
                                </div>
                                <div class="quick-launch-btn" onclick="showView('page-manager-view')">
                                    <div class="quick-launch-icon"></div>
                                    <span class="quick-launch-text">Page Manager</span>
                                </div>
                            </div>
                        </div>

                        <!-- Active Campaigns -->
                        <div class="campaigns-section">
                            <div class="campaigns-header">
                                <span style="font-size: 18px;"></span>
                                <span class="campaigns-title">Active Campaigns</span>
                            </div>
                            <div class="campaign-list-new">
                                <div class="campaign-item-new" onclick="showView('channel-visibility-view')">
                                    <div class="campaign-info-new">
                                        <span class="campaign-emoji"></span>
                                        <div class="campaign-details-new">
                                            <span class="campaign-name-new">New Year Sale</span>
                                            <span class="campaign-date-new">Ends Jan 15</span>
                                        </div>
                                    </div>
                                    <span class="campaign-status-new live">Live</span>
                                </div>
                                <div class="campaign-item-new" onclick="showView('channel-visibility-view')">
                                    <div class="campaign-info-new">
                                        <span class="campaign-emoji"></span>
                                        <div class="campaign-details-new">
                                            <span class="campaign-name-new">BOGO Collagen</span>
                                            <span class="campaign-date-new">Ends Jan 20</span>
                                        </div>
                                    </div>
                                    <span class="campaign-status-new live">Live</span>
                                </div>
                                <div class="campaign-item-new" onclick="showView('channel-visibility-view')">
                                    <div class="campaign-info-new">
                                        <span class="campaign-emoji"></span>
                                        <div class="campaign-details-new">
                                            <span class="campaign-name-new">New Product Launch</span>
                                            <span class="campaign-date-new">Starts Feb 1</span>
                                        </div>
                                    </div>
                                    <span class="campaign-status-new scheduled">Scheduled</span>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Products View -->
            <div class="view" id="products-view">
                <div class="content-header">
                    <h1 class="header-title">Products</h1>
                    <p class="header-subtitle">Product catalog & launch calendar</p>
                </div>
                <div class="content-body">
                    <!-- Tab Switcher - Hidden since only one tab -->
                    <div class="products-tabs" style="display: none;">
                        <button class="products-tab active" onclick="switchProductsTab('catalog', this)"> Catalog</button>
                    </div>

                    <!-- Catalog Tab -->
                    <div id="products-catalog-tab" class="products-tab-content active">
                        <!-- Filter Bar - Unified Style -->
                        <div style="display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; align-items: flex-end;">
                            <!-- Search -->
                            <div style="flex: 1; min-width: 200px; max-width: 280px;">
                                <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">SEARCH</label>
                                <div style="position: relative;">
                                    <input type="text" id="product-search-input" placeholder="Search products..." style="width: 100%; padding: 10px 12px 10px 36px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; border-radius: 6px; font-size: 13px;">
                                    <span style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #666; font-size: 14px;"></span>
                                </div>
                            </div>
                            
                            <!-- Type Filter -->
                            <div class="filter-dropdown" style="min-width: 140px;">
                                <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">TYPE</label>
                                <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                    <span>All Types</span>
                                    <span style="color: #666; font-size: 10px;"></span>
                                </div>
                                <div class="filter-menu">
                                    <div class="filter-options">
                                        <div class="filter-option selected" onclick="selectFilterOption(this); filterProducts('all')"><span class="check"></span> All Types</div>
                                        <div class="filter-option" onclick="selectFilterOption(this); filterProducts('collagen')"><span class="check"></span> Collagen</div>
                                        <div class="filter-option" onclick="selectFilterOption(this); filterProducts('supplements')"><span class="check"></span> Supplements</div>
                                        <div class="filter-option" onclick="selectFilterOption(this); filterProducts('gifts')"><span class="check"></span> Gifts</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Status Filter -->
                            <div class="filter-dropdown" style="min-width: 140px;">
                                <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">STATUS</label>
                                <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                    <span>All Status</span>
                                    <span style="color: #666; font-size: 10px;"></span>
                                </div>
                                <div class="filter-menu">
                                    <div class="filter-options">
                                        <div class="filter-option selected" onclick="selectFilterOption(this); filterProductsStatus('all')"><span class="check"></span> All Status</div>
                                        <div class="filter-option" onclick="selectFilterOption(this); filterProductsStatus('active')"><span class="check"></span>  Active</div>
                                        <div class="filter-option" onclick="selectFilterOption(this); filterProductsStatus('low-stock')"><span class="check"></span>  Low Stock</div>
                                        <div class="filter-option" onclick="selectFilterOption(this); filterProductsStatus('discontinued')"><span class="check"></span>  Discontinued</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Special Filter -->
                            <div class="filter-dropdown" style="min-width: 150px;">
                                <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">SPECIAL</label>
                                <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                    <span>All Products</span>
                                    <span style="color: #666; font-size: 10px;"></span>
                                </div>
                                <div class="filter-menu">
                                    <div class="filter-options">
                                        <div class="filter-option selected" onclick="selectFilterOption(this); filterFreeGifts(false)"><span class="check"></span> All Products</div>
                                        <div class="filter-option" onclick="selectFilterOption(this); filterFreeGifts(true)"><span class="check"></span>  Free Gift Items</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- View Toggle -->
                            <div style="margin-left: auto; display: flex; align-items: center; gap: 8px;">
                                <span style="font-size: 12px; color: #888;">View:</span>
                                <div style="display: flex; background: #282828; border-radius: 6px; overflow: hidden;">
                                    <button class="products-view-btn active" onclick="toggleProductView('grid', this)" style="padding: 8px 12px; background: #1db954; color: #000; border: none; cursor: pointer; font-size: 14px;"></button>
                                    <button class="products-view-btn" onclick="toggleProductView('list', this)" style="padding: 8px 12px; background: transparent; color: #888; border: none; cursor: pointer; font-size: 14px;"></button>
                                </div>
                            </div>
                        </div>

                        <!-- Results Info -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; color: #888; font-size: 12px;">
                            <span>Showing <strong style="color: #fff;">12</strong> products</span>
                        </div>

                        <!-- Products Card Grid -->
                        <div id="products-list" class="products-card-grid">
                            
                            <!-- Collagen 25s -->
                            <div class="product-card-new" data-category="collagen" data-status="active" onclick="openProductDetail('col-25')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge active">Active</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">Collagen Peptides</div>
                                    <div class="product-card-meta">COL-25  25 Servings  v2.0</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag">Collagen</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$33.99</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$11.90</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">65%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">1,247</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                        <span class="channel-badge"><span class="channel-icon"></span> Amazon</span>
                                        <span class="channel-badge"><span class="channel-icon"></span> Shopify</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Collagen 56s -->
                            <div class="product-card-new" data-category="collagen" data-status="active" onclick="openProductDetail('col-56')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge active">Active</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">Collagen Peptides</div>
                                    <div class="product-card-meta">COL-56  56 Servings  v2.0</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag">Collagen</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$49.99</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$18.00</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">64%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">892</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                        <span class="channel-badge"><span class="channel-icon"></span> Amazon</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Hydrate -->
                            <div class="product-card-new" data-category="supplements" data-status="active" onclick="openProductDetail('hyd-30')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge active">Active</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">Hydrate</div>
                                    <div class="product-card-meta">HYD-30  30 Servings  v1.0</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag">Supplements</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$29.99</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$8.00</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">73%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">2,103</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                        <span class="channel-badge"><span class="channel-icon"></span> Amazon</span>
                                        <span class="channel-badge"><span class="channel-icon"></span> Shopify</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Creatine - Low Stock -->
                            <div class="product-card-new" data-category="supplements" data-status="low-stock" onclick="openProductDetail('cre-60')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge low-stock">Low Stock</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">Creatine Monohydrate</div>
                                    <div class="product-card-meta">CRE-60  60 Servings  v1.0</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag">Supplements</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$34.99</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$10.15</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">71%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value stock low">456</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                        <span class="channel-badge"><span class="channel-icon"></span> Amazon</span>
                                    </div>
                                </div>
                            </div>

                            <!-- MCT Oil -->
                            <div class="product-card-new" data-category="supplements" data-status="active" onclick="openProductDetail('mct-30')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge reformulated">Reformulated</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">MCT Oil Powder</div>
                                    <div class="product-card-meta">MCT-30  30 Servings  v1.2</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag">Supplements</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$39.99</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$14.00</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">65%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">1,580</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                        <span class="channel-badge"><span class="channel-icon"></span> Shopify</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Probiotics -->
                            <div class="product-card-new" data-category="supplements" data-status="low-stock" onclick="openProductDetail('pro-60')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge low-stock">Low Stock</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">Probiotics 30B</div>
                                    <div class="product-card-meta">PRO-60  60 Capsules  v1.2</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag">Supplements</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$32.95</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$15.82</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin warning">52%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value stock low">142</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Turmeric -->
                            <div class="product-card-new" data-category="supplements" data-status="active" onclick="openProductDetail('tur-90')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge active">Active</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">Turmeric Curcumin</div>
                                    <div class="product-card-meta">TUR-90  90 Capsules  v1.0</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag">Supplements</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$27.95</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$8.10</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">71%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">1,580</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                        <span class="channel-badge"><span class="channel-icon"></span> Amazon</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Vitamin D3+K2 -->
                            <div class="product-card-new" data-category="supplements" data-status="active" onclick="openProductDetail('vdk-60')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge active">Active</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">Vitamin D3+K2</div>
                                    <div class="product-card-meta">VDK-60  60 Softgels  v1.0</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag">Supplements</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$24.95</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$7.98</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">68%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">2,847</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                        <span class="channel-badge"><span class="channel-icon"></span> Shopify</span>
                                    </div>
                                </div>
                            </div>

                            <!-- FREE GIFT ITEMS -->
                            
                            <!-- Shaker Bottle - Free Gift -->
                            <div class="product-card-new" data-category="gifts" data-status="active" data-gift="true" onclick="openProductDetail('shk-01')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge active">Active</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">Shaker Bottle</div>
                                    <div class="product-card-meta">SHK-01  20oz  v1.0</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag gift"> Free Gift</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$9.95</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$2.79</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">72%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">5,200</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                    </div>
                                </div>
                            </div>

                            <!-- NativePath Mug - Free Gift -->
                            <div class="product-card-new" data-category="gifts" data-status="active" data-gift="true" onclick="openProductDetail('mug-01')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge active">Active</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">NativePath Mug</div>
                                    <div class="product-card-meta">MUG-01  Ceramic  v1.0</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag gift"> Free Gift</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$12.95</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$4.14</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">68%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">2,150</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Collagen Funnel - Free Gift -->
                            <div class="product-card-new" data-category="gifts" data-status="active" data-gift="true" onclick="openProductDetail('fnl-01')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge active">Active</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">Collagen Funnel</div>
                                    <div class="product-card-meta">FNL-01  Portable  v1.0</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag gift"> Free Gift</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$4.95</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$0.89</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">82%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">8,500</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Tumbler - Free Gift -->
                            <div class="product-card-new" data-category="gifts" data-status="active" data-gift="true" onclick="openProductDetail('tmb-01')">
                                <div class="product-card-image-area">
                                    
                                    <span class="product-card-badge active">Active</span>
                                </div>
                                <div class="product-card-body">
                                    <div class="product-card-name">Tumbler</div>
                                    <div class="product-card-meta">TMB-01  24oz  v1.0</div>
                                    <div class="product-card-tags">
                                        <span class="product-card-tag gift"> Free Gift</span>
                                    </div>
                                    <div class="product-card-stats-box">
                                        <div class="product-card-stats">
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$14.95</div>
                                                <div class="product-card-stat-label">Price</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">$4.50</div>
                                                <div class="product-card-stat-label">COGS</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value margin">70%</div>
                                                <div class="product-card-stat-label">Margin</div>
                                            </div>
                                            <div class="product-card-stat">
                                                <div class="product-card-stat-value">3,800</div>
                                                <div class="product-card-stat-label">Stock</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-channels">
                                        <span class="channel-badge"><span class="channel-icon"></span> Web</span>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- Launches Tab -->
                </div>
            </div>

            <!-- Product Detail Modal - With Tabs -->
            <div id="product-detail-modal" class="modal-overlay" onclick="if(event.target === this) closeProductDetail()">
                <div class="product-modal-content" onclick="event.stopPropagation()">
                    <button class="modal-close-btn" onclick="closeProductDetail()"></button>
                    
                    <!-- Header -->
                    <div class="product-modal-header">
                        <div class="product-modal-icon">
                            <span id="modal-product-icon"></span>
                        </div>
                        <div class="product-modal-title">
                            <h2 id="modal-product-name">Collagen Peptides</h2>
                            <p id="modal-product-meta">25 Servings  COL-25  Version 2.0  Launched Jan 2021</p>
                            <div class="product-modal-tags">
                                <span class="modal-tag">Collagen</span>
                                <span class="modal-tag">Unflavored</span>
                                <span class="modal-tag">Grass-Fed</span>
                            </div>
                        </div>
                        <div id="modal-product-status" class="product-modal-status active">Active</div>
                    </div>

                    <!-- Modal Tabs -->
                    <div class="product-modal-tabs">
                        <button class="modal-tab active" onclick="switchModalTab('overview', this)">Overview</button>
                        <button class="modal-tab" onclick="switchModalTab('marketing', this)">Marketing Info</button>
                        <button class="modal-tab" onclick="switchModalTab('history', this)">History</button>
                    </div>

                    <!-- Overview Tab -->
                    <div id="modal-tab-overview" class="modal-tab-content active">
                        <!-- Key Stats Row -->
                        <div class="product-modal-stats">
                            <div class="modal-stat-box">
                                <span class="modal-stat-value">$33.99</span>
                                <span class="modal-stat-label">Base Price</span>
                            </div>
                            <div class="modal-stat-box">
                                <span class="modal-stat-value">$12.00</span>
                                <span class="modal-stat-label">COGS</span>
                            </div>
                            <div class="modal-stat-box">
                                <span class="modal-stat-value green">65%</span>
                                <span class="modal-stat-label">Margin</span>
                            </div>
                            <div class="modal-stat-box">
                                <span class="modal-stat-value">1,247</span>
                                <span class="modal-stat-label">In Stock</span>
                            </div>
                            <div class="modal-stat-box">
                                <span class="modal-stat-value blue">3</span>
                                <span class="modal-stat-label">Offers</span>
                            </div>
                        </div>

                        <!-- Sales Performance -->
                        <div class="product-modal-section">
                            <h4>SALES PERFORMANCE</h4>
                            <div class="sales-stats-grid">
                                <div class="sales-stat">
                                    <span class="sales-stat-value green">47,832</span>
                                    <span class="sales-stat-label">Units Sold</span>
                                </div>
                                <div class="sales-stat">
                                    <span class="sales-stat-value">$1.62M</span>
                                    <span class="sales-stat-label">Revenue</span>
                                </div>
                                <div class="sales-stat">
                                    <span class="sales-stat-value">2,147</span>
                                    <span class="sales-stat-label">This Month</span>
                                </div>
                                <div class="sales-stat">
                                    <span class="sales-stat-value green"> 13.5%</span>
                                    <span class="sales-stat-label">vs Last Month</span>
                                </div>
                            </div>
                        </div>

                        <!-- SKU Variants -->
                        <div class="product-modal-section">
                            <h4>SKU VARIANTS</h4>
                            <div class="variants-list">
                                <div class="variant-row">
                                    <span class="variant-sku">COL-25</span>
                                    <span class="variant-name">Single</span>
                                    <span class="variant-price">$33.99</span>
                                </div>
                                <div class="variant-row">
                                    <span class="variant-sku">COL-25-3PK</span>
                                    <span class="variant-name">3 Pack</span>
                                    <span class="variant-price">$101.97</span>
                                </div>
                                <div class="variant-row">
                                    <span class="variant-sku">COL-25-6PK</span>
                                    <span class="variant-name">6 Pack</span>
                                    <span class="variant-price">$203.94</span>
                                </div>
                            </div>
                        </div>

                        <!-- Active Offers -->
                        <div class="product-modal-section">
                            <h4>ACTIVE OFFERS</h4>
                            <div class="offers-list">
                                <div class="offer-row">
                                    <span class="offer-code">VDAY-COL25</span>
                                    <span class="offer-campaign">VDAY-26</span>
                                    <span class="offer-status active"> Active</span>
                                </div>
                                <div class="offer-row">
                                    <span class="offer-code">EG-COL25</span>
                                    <span class="offer-campaign"> Evergreen</span>
                                    <span class="offer-status active"> Active</span>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Links -->
                        <div class="product-modal-section">
                            <h4>QUICK LINKS</h4>
                            <div class="quick-links-row">
                                <a href="#" class="quick-link-btn"> Product Page</a>
                                <a href="#" class="quick-link-btn"> Amazon</a>
                                <a href="#" class="quick-link-btn"> Shopify</a>
                                <a href="#" class="quick-link-btn"> Assets</a>
                            </div>
                        </div>
                    </div>

                    <!-- Marketing Info Tab -->
                    <div id="modal-tab-marketing" class="modal-tab-content">
                        <!-- Key Selling Points -->
                        <div class="product-modal-section">
                            <h4>KEY SELLING POINTS</h4>
                            <div class="marketing-list">
                                <div class="marketing-item"> #1 Best-Selling Collagen on NativePath</div>
                                <div class="marketing-item"> Over 47,000 units sold</div>
                                <div class="marketing-item"> 4.8/5 average customer rating (2,340 reviews)</div>
                                <div class="marketing-item"> 68% repeat purchase rate</div>
                            </div>
                        </div>

                        <!-- Features -->
                        <div class="product-modal-section">
                            <h4>FEATURES</h4>
                            <div class="features-grid">
                                <div class="feature-item">
                                    <span class="feature-icon"></span>
                                    <span class="feature-text">Grass-Fed, Pasture-Raised Bovine</span>
                                </div>
                                <div class="feature-item">
                                    <span class="feature-icon"></span>
                                    <span class="feature-text">Type I & III Collagen</span>
                                </div>
                                <div class="feature-item">
                                    <span class="feature-icon"></span>
                                    <span class="feature-text">Hydrolyzed for Fast Absorption</span>
                                </div>
                                <div class="feature-item">
                                    <span class="feature-icon"></span>
                                    <span class="feature-text">No Taste, No Smell</span>
                                </div>
                                <div class="feature-item">
                                    <span class="feature-icon"></span>
                                    <span class="feature-text">3rd Party Tested</span>
                                </div>
                                <div class="feature-item">
                                    <span class="feature-icon"></span>
                                    <span class="feature-text">Non-GMO, Gluten-Free</span>
                                </div>
                            </div>
                        </div>

                        <!-- Benefits -->
                        <div class="product-modal-section">
                            <h4>BENEFITS (USE IN COPY)</h4>
                            <div class="benefits-list">
                                <div class="benefit-item">
                                    <span class="benefit-title">Joint Health</span>
                                    <span class="benefit-desc">Supports joint mobility and reduces discomfort</span>
                                </div>
                                <div class="benefit-item">
                                    <span class="benefit-title">Skin Elasticity</span>
                                    <span class="benefit-desc">Promotes youthful, hydrated skin</span>
                                </div>
                                <div class="benefit-item">
                                    <span class="benefit-title">Hair & Nails</span>
                                    <span class="benefit-desc">Strengthens hair and nails from within</span>
                                </div>
                                <div class="benefit-item">
                                    <span class="benefit-title">Gut Health</span>
                                    <span class="benefit-desc">Supports gut lining integrity</span>
                                </div>
                            </div>
                        </div>

                        <!-- Target Demographics -->
                        <div class="product-modal-section">
                            <h4>TARGET DEMOGRAPHICS</h4>
                            <div class="demo-tags">
                                <span class="demo-tag">Women 35-65</span>
                                <span class="demo-tag">Health-Conscious</span>
                                <span class="demo-tag">Joint Pain Sufferers</span>
                                <span class="demo-tag">Anti-Aging Focus</span>
                                <span class="demo-tag">Keto/Paleo Diet</span>
                            </div>
                        </div>

                        <!-- Competitive Positioning -->
                        <div class="product-modal-section">
                            <h4>VS COMPETITORS</h4>
                            <div class="competitor-list">
                                <div class="competitor-row">
                                    <span class="competitor-name">Vital Proteins</span>
                                    <span class="competitor-point">Our advantage: Lower price, same quality sourcing</span>
                                </div>
                                <div class="competitor-row">
                                    <span class="competitor-name">Sports Research</span>
                                    <span class="competitor-point">Our advantage: Better taste (unflavored), higher absorption</span>
                                </div>
                            </div>
                        </div>

                        <!-- Suggested Hooks -->
                        <div class="product-modal-section">
                            <h4>SUGGESTED AD HOOKS</h4>
                            <div class="hooks-list">
                                <div class="hook-item">"The joint pain solution doctors recommend"</div>
                                <div class="hook-item">"Look 10 years younger from the inside out"</div>
                                <div class="hook-item">"Finally, a collagen that actually dissolves"</div>
                                <div class="hook-item">"47,000 happy customers can't be wrong"</div>
                            </div>
                        </div>
                    </div>

                    <!-- History Tab -->
                    <div id="modal-tab-history" class="modal-tab-content">
                        <div class="product-modal-section">
                            <h4>PRICE HISTORY</h4>
                            <div class="history-list">
                                <div class="history-item">
                                    <span class="history-date">Jan 2026</span>
                                    <span class="history-event">Price: $33.99</span>
                                    <span class="history-badge current">Current</span>
                                </div>
                                <div class="history-item">
                                    <span class="history-date">Jun 2025</span>
                                    <span class="history-event">Price increased to $31.99</span>
                                    <span class="history-change up">+$2.00</span>
                                </div>
                                <div class="history-item">
                                    <span class="history-date">Jan 2024</span>
                                    <span class="history-event">Price: $29.99</span>
                                    <span class="history-change">Launch</span>
                                </div>
                            </div>
                        </div>

                        <div class="product-modal-section">
                            <h4>VERSION HISTORY</h4>
                            <div class="history-list">
                                <div class="history-item">
                                    <span class="history-date">Mar 2024</span>
                                    <span class="history-event">v2.0 - Updated formula, better solubility</span>
                                    <span class="history-badge">Reformulation</span>
                                </div>
                                <div class="history-item">
                                    <span class="history-date">Jan 2021</span>
                                    <span class="history-event">v1.0 - Initial launch</span>
                                    <span class="history-badge">Launch</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Admin Actions -->
                    <div id="product-admin-actions" class="product-modal-admin" style="display: none;">
                        <button class="edit-product-btn" onclick="openProductEditModal()"> Edit Product</button>
                    </div>
                </div>
            </div>

            <!-- Product Edit Modal -->
            <div id="product-edit-modal" class="modal-overlay" onclick="if(event.target === this) closeProductEditModal()" style="z-index: 10010;">
                <div class="edit-modal-content" onclick="event.stopPropagation()">
                    <button class="modal-close-btn" onclick="closeProductEditModal()"></button>
                    <h2 style="font-size: 18px; margin-bottom: 24px;">Edit Product</h2>
                    <div class="edit-form">
                        <div class="form-group">
                            <label>Product Name</label>
                            <input type="text" value="Collagen Peptides - 25 Servings">
                        </div>
                        <div class="form-row-2">
                            <div class="form-group"><label>Base Price ($)</label><input type="number" step="0.01" value="33.99"></div>
                            <div class="form-group"><label>COGS ($)</label><input type="number" step="0.01" value="12.00"></div>
                        </div>
                        <div class="form-row-2">
                            <div class="form-group"><label>Servings</label><input type="number" value="25"></div>
                            <div class="form-group"><label>Inventory</label><input type="number" value="1247"></div>
                        </div>
                        <div class="form-row-2">
                            <div class="form-group">
                                <label>Status</label>
                                <select><option>Active</option><option>Low Stock</option><option>Discontinued</option><option>Reformulated</option></select>
                            </div>
                            <div class="form-group"><label>Version</label><input type="text" value="v2.0"></div>
                        </div>
                        <div class="form-note">Changes will be logged with timestamp.</div>
                        <button class="save-btn" onclick="saveProductEdit()">Save Changes</button>
                    </div>
                </div>
            </div>

            <!-- Edit Launch Modal (Admin) -->
            <div id="edit-launch-modal" class="modal-overlay" onclick="if(event.target === this) closeEditLaunchModal()" style="z-index: 10010;">
                <div class="edit-modal-content" onclick="event.stopPropagation()" style="max-width: 520px;">
                    <button class="modal-close-btn" onclick="closeEditLaunchModal()"></button>
                    <h2 style="font-size: 18px; margin-bottom: 24px;">Edit Launch</h2>
                    <div class="edit-form">
                        <div class="form-group">
                            <label>Product Name</label>
                            <input type="text" id="edit-launch-name" value="Collagen Gummies">
                        </div>
                        <div class="form-group">
                            <label>SKU</label>
                            <input type="text" id="edit-launch-sku" value="COL-GUM-60">
                        </div>
                        <div class="form-row-2">
                            <div class="form-group">
                                <label>Original Date</label>
                                <input type="date" id="edit-launch-original-date" value="2026-01-15">
                            </div>
                            <div class="form-group">
                                <label>Current Date</label>
                                <input type="date" id="edit-launch-current-date" value="2026-01-15">
                            </div>
                        </div>
                        <div class="form-row-2">
                            <div class="form-group">
                                <label>Target Price</label>
                                <input type="text" id="edit-launch-price" value="$39.99">
                            </div>
                            <div class="form-group">
                                <label>Target Margin</label>
                                <input type="text" id="edit-launch-margin" value="68%">
                            </div>
                        </div>
                        <div class="form-row-2">
                            <div class="form-group">
                                <label>Expected Inventory</label>
                                <input type="text" id="edit-launch-inventory" value="5,000 units">
                            </div>
                            <div class="form-group">
                                <label>Status</label>
                                <select id="edit-launch-status">
                                    <option value="on-track" selected>On Track</option>
                                    <option value="delayed">Delayed</option>
                                    <option value="planning">Planning</option>
                                    <option value="launched">Launched</option>
                                </select>
                            </div>
                        </div>
                        <div style="margin-bottom: 16px;">
                            <label style="display: block; font-size: 12px; color: #888; margin-bottom: 8px;">Inventory Allocation</label>
                            <div class="form-row-2">
                                <div class="form-group" style="margin-bottom: 0;">
                                    <label style="font-size: 11px;">Retention (DTC) %</label>
                                    <input type="text" id="edit-launch-ret" value="60">
                                </div>
                                <div class="form-group" style="margin-bottom: 0;">
                                    <label style="font-size: 11px;">Acquisition %</label>
                                    <input type="text" id="edit-launch-acq" value="40">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Launch Type</label>
                            <select id="edit-launch-type">
                                <option selected>New Product</option>
                                <option>Reformulation</option>
                                <option>New SKU/Variant</option>
                                <option>Relaunch</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Notes</label>
                            <textarea id="edit-launch-notes" rows="2" style="width: 100%; padding: 10px 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #fff; font-size: 13px; resize: vertical;">New gummy format for collagen delivery. Target audience: customers who prefer gummies over powders.</textarea>
                        </div>
                        <div class="form-note">Last updated by Admin  Jan 5, 2026</div>
                        <button class="save-btn" onclick="saveLaunchEdit()">Save Changes</button>
                    </div>
                </div>
            </div>

            <!-- Add Launch Modal (Admin) -->
            <div id="add-launch-modal" class="modal-overlay" onclick="if(event.target === this) closeAddLaunchModal()" style="z-index: 10010;">
                <div class="edit-modal-content" onclick="event.stopPropagation()" style="max-width: 500px;">
                    <button class="modal-close-btn" onclick="closeAddLaunchModal()"></button>
                    <h2 style="font-size: 18px; margin-bottom: 20px;">Add New Launch</h2>
                    <div class="edit-form">
                        <div class="form-group">
                            <label>Product Name *</label>
                            <input type="text" id="new-launch-name" placeholder="Enter product name">
                        </div>
                        <div class="form-group">
                            <label>SKU *</label>
                            <input type="text" id="new-launch-sku" placeholder="e.g., PRO-50B-30">
                        </div>
                        <div class="form-row-2">
                            <div class="form-group">
                                <label>Target Launch Date *</label>
                                <input type="date" id="new-launch-date" class="date-input-white">
                            </div>
                            <div class="form-group">
                                <label>Launch Type</label>
                                <select id="new-launch-type">
                                    <option value="new">New Product</option>
                                    <option value="reformulation">Reformulation</option>
                                    <option value="variant">New SKU/Variant</option>
                                    <option value="relaunch">Relaunch</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row-2">
                            <div class="form-group">
                                <label>Target Price</label>
                                <input type="text" id="new-launch-price" placeholder="$39.99">
                            </div>
                            <div class="form-group">
                                <label>Expected Inventory</label>
                                <input type="text" id="new-launch-inventory" placeholder="e.g., 5,000 units">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Status</label>
                            <select id="new-launch-status">
                                <option value="planning">Planning</option>
                                <option value="on-track">On Track</option>
                                <option value="delayed">Delayed</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Notes</label>
                            <textarea id="new-launch-notes" rows="2" style="width: 100%; padding: 10px 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #fff; font-size: 13px; resize: vertical;" placeholder="Any additional details..."></textarea>
                        </div>
                        <button class="save-btn" onclick="saveNewLaunch()">Add Launch</button>
                    </div>
                </div>
            </div>

            <!-- Launch Detail Modal -->
            <div id="launch-detail-modal" class="modal-overlay" onclick="if(event.target === this) closeLaunchDetail()" style="z-index: 10010;">
                <div class="edit-modal-content" onclick="event.stopPropagation()" style="max-width: 550px;">
                    <button class="modal-close-btn" onclick="closeLaunchDetail()"></button>
                    
                    <!-- Header -->
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 20px; padding-right: 30px;">
                        <div>
                            <div style="font-size: 28px; margin-bottom: 8px;" id="launch-detail-icon"></div>
                            <h2 style="font-size: 20px; margin-bottom: 4px;" id="launch-detail-name">Collagen Gummies</h2>
                            <p style="font-size: 13px; color: #666;" id="launch-detail-meta">SKU: COL-GUM-60  New Product</p>
                        </div>
                        <span id="launch-detail-status" style="background: rgba(29,185,84,0.15); color: #1db954; padding: 6px 14px; border-radius: 8px; font-size: 12px; font-weight: 600;">On Track</span>
                    </div>

                    <!-- Key Info Grid - Row 1: Dates -->
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 12px;">
                        <div style="background: rgba(255,255,255,0.03); padding: 16px; border-radius: 4px;">
                            <div style="font-size: 11px; color: #666; margin-bottom: 4px;">ORIGINAL DATE</div>
                            <div style="font-size: 16px; font-weight: 600;" id="launch-detail-original-date">Jan 15, 2026</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.03); padding: 16px; border-radius: 4px;">
                            <div style="font-size: 11px; color: #666; margin-bottom: 4px;">CURRENT DATE</div>
                            <div style="font-size: 16px; font-weight: 600;" id="launch-detail-current-date">Jan 15, 2026</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.03); padding: 16px; border-radius: 4px;">
                            <div style="font-size: 11px; color: #666; margin-bottom: 4px;">TARGET PRICE</div>
                            <div style="font-size: 16px; font-weight: 600;" id="launch-detail-price">$39.99</div>
                        </div>
                    </div>
                    
                    <!-- Key Info Grid - Row 2 -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 24px;">
                        <div style="background: rgba(255,255,255,0.03); padding: 16px; border-radius: 4px;">
                            <div style="font-size: 11px; color: #666; margin-bottom: 4px;">TARGET MARGIN</div>
                            <div style="font-size: 16px; font-weight: 600; color: #1db954;" id="launch-detail-margin">68%</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.03); padding: 16px; border-radius: 4px;">
                            <div style="font-size: 11px; color: #666; margin-bottom: 4px;">EXPECTED INVENTORY</div>
                            <div style="font-size: 16px; font-weight: 600;" id="launch-detail-inventory">5,000 units</div>
                        </div>
                    </div>

                    <!-- Timeline -->
                    <div style="margin-bottom: 24px;">
                        <h4 style="font-size: 12px; color: #666; margin-bottom: 12px; font-weight: 600;">TIMELINE</h4>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; align-items: center; gap: 12px; padding: 10px 14px; background: rgba(29,185,84,0.08); border-radius: 8px; border-left: 3px solid #1db954;">
                                <span style="color: #1db954;"></span>
                                <div style="flex: 1;">
                                    <div style="font-size: 13px; font-weight: 500;">Formulation Complete</div>
                                    <div style="font-size: 11px; color: #666;">Dec 15, 2025</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 10px 14px; background: rgba(29,185,84,0.08); border-radius: 8px; border-left: 3px solid #1db954;">
                                <span style="color: #1db954;"></span>
                                <div style="flex: 1;">
                                    <div style="font-size: 13px; font-weight: 500;">Packaging Approved</div>
                                    <div style="font-size: 11px; color: #666;">Dec 28, 2025</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 10px 14px; background: rgba(59,130,246,0.08); border-radius: 8px; border-left: 3px solid #3b82f6;">
                                <span style="color: #3b82f6;"></span>
                                <div style="flex: 1;">
                                    <div style="font-size: 13px; font-weight: 500;">Production Run</div>
                                    <div style="font-size: 11px; color: #666;">Jan 5-12, 2026</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 10px 14px; background: rgba(255,255,255,0.03); border-radius: 8px; border-left: 3px solid #444;">
                                <span style="color: #666;"></span>
                                <div style="flex: 1;">
                                    <div style="font-size: 13px; font-weight: 500;">Launch</div>
                                    <div style="font-size: 11px; color: #666;">Jan 15, 2026</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Inventory Allocation -->
                    <div style="margin-bottom: 16px;">
                        <h4 style="font-size: 12px; color: #666; margin-bottom: 12px; font-weight: 600;">INVENTORY ALLOCATION</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;" id="launch-detail-allocation">
                            <div style="background: rgba(255,255,255,0.03); padding: 12px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 13px; color: #888;">Retention (DTC)</span>
                                <span style="font-size: 14px; font-weight: 600; color: #1db954;" id="launch-detail-ret">60%</span>
                            </div>
                            <div style="background: rgba(255,255,255,0.03); padding: 12px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 13px; color: #888;">Acquisition</span>
                                <span style="font-size: 14px; font-weight: 600; color: #3b82f6;" id="launch-detail-acq">40%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Notes -->
                    <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); border-radius: 4px; padding: 14px;">
                        <h4 style="font-size: 12px; color: #666; margin-bottom: 8px; font-weight: 600;">NOTES</h4>
                        <p style="font-size: 13px; color: #999; line-height: 1.5;" id="launch-detail-notes">New gummy format for collagen delivery. Target audience: customers who prefer gummies over powders.</p>
                    </div>

                    <!-- Admin Actions -->
                    <div id="launch-detail-admin-actions" style="display: none; margin-top: 20px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.08);">
                        <button onclick="closeLaunchDetail(); openEditLaunchModal('current')" style="padding: 10px 20px; background: rgba(255,255,255,0.1); border: none; border-radius: 8px; color: #fff; font-size: 13px; font-weight: 500; cursor: pointer;">Edit Launch</button>
                    </div>
                </div>
            </div>


            <!-- Campaigns View - Simplified with Calendar Focus -->

            <!-- Launches View -->
            <div class="view" id="launches-view">
                <div class="content-header">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 16px;">
                        <div>
                            <h1 class="header-title">Launches</h1>
                            <p class="header-subtitle">Product launch calendar & performance tracking</p>
                        </div>
                        <div style="display: flex; gap: 8px; align-items: center;">
                            <select id="launches-time-period" style="padding: 8px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px; cursor: pointer; font-weight: 500;">
                                <option value="month">This Month</option>
                                <option value="quarter">This Quarter</option>
                                <option value="year">This Year</option>
                                <option value="all">All Time</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="content-body">
                        
                        <!-- Stats Row - Green Theme -->
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px;">
                            <div style="background: rgba(29, 185, 84, 0.08); border: 1px solid rgba(29, 185, 84, 0.3); padding: 20px; border-radius: 6px; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                <div style="font-size: 28px; font-weight: 700; color: #fff;">2</div>
                                <div style="font-size: 12px; color: #666;">Upcoming Launches</div>
                            </div>
                            <div style="background: rgba(29, 185, 84, 0.08); border: 1px solid rgba(29, 185, 84, 0.3); padding: 20px; border-radius: 6px; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                <div style="font-size: 28px; font-weight: 700; color: #fff;">1</div>
                                <div style="font-size: 12px; color: #666;">In Development</div>
                            </div>
                            <div style="background: rgba(29, 185, 84, 0.08); border: 1px solid rgba(29, 185, 84, 0.3); padding: 20px; border-radius: 6px; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                <div style="font-size: 28px; font-weight: 700; color: #fff;">Jan 15</div>
                                <div style="font-size: 12px; color: #666;">Next Launch</div>
                            </div>
                            <div style="background: rgba(29, 185, 84, 0.08); border: 1px solid rgba(29, 185, 84, 0.3); padding: 20px; border-radius: 6px; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                <div style="font-size: 28px; font-weight: 700; color: #fff;">4</div>
                                <div style="font-size: 12px; color: #666;">Launched This Year</div>
                            </div>
                        </div>

                        <!-- Launch Calendar - Modernized Container -->
                        <div style="background: linear-gradient(135deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; padding: 24px; margin-bottom: 32px;">
                            <!-- Calendar Header -->
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <button onclick="changeLaunchMonth(-1)" style="background: rgba(255,255,255,0.06); border: none; color: #fff; width: 36px; height: 36px; border-radius: 8px; cursor: pointer; font-size: 16px; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='rgba(255,255,255,0.06)'"></button>
                                    <span id="launch-calendar-month" style="font-size: 20px; font-weight: 700; min-width: 180px; text-align: center;">January 2026</span>
                                    <button onclick="changeLaunchMonth(1)" style="background: rgba(255,255,255,0.06); border: none; color: #fff; width: 36px; height: 36px; border-radius: 8px; cursor: pointer; font-size: 16px; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='rgba(255,255,255,0.06)'"></button>
                                    <button onclick="jumpToToday('launch')" style="background: rgba(29, 185, 84, 0.15); border: 1px solid rgba(29, 185, 84, 0.3); color: #1db954; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 13px; font-weight: 600; transition: all 0.2s;" onmouseover="this.style.background='rgba(29, 185, 84, 0.25)'" onmouseout="this.style.background='rgba(29, 185, 84, 0.15)'">Today</button>
                                </div>
                                    <button onclick="changeLaunchMonth(1)" style="background: rgba(255,255,255,0.06); border: none; color: #fff; width: 36px; height: 36px; border-radius: 8px; cursor: pointer; font-size: 16px; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='rgba(255,255,255,0.06)'"></button>
                                </div>
                                <div style="display: flex; gap: 20px; font-size: 12px;">
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 24px; height: 8px; background: linear-gradient(90deg, #1db954, #15803d); border-radius: 4px;"></div>
                                        <span style="color: #b3b3b3;">On Track</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 24px; height: 8px; background: linear-gradient(90deg, #eab308, #a16207); border-radius: 4px;"></div>
                                        <span style="color: #b3b3b3;">Delayed</span>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 24px; height: 8px; background: linear-gradient(90deg, #3b82f6, #1d4ed8); border-radius: 4px;"></div>
                                        <span style="color: #b3b3b3;">Planning</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Launch Calendar Grid -->
                            <div class="launch-calendar">
                                <div class="calendar-header">
                                    <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
                                </div>
                                <div class="calendar-grid" id="launch-calendar-grid">
                                    <!-- Filled by JS -->
                                </div>
                            </div>
                            
                            <!-- Calendar Stats Mini Bar -->
                            <div style="display: flex; gap: 24px; margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.04);">
                                <div style="font-size: 12px; color: #888;">
                                    <span style="color: #1db954; font-weight: 600;">2</span> launches this month
                                </div>
                                <div style="font-size: 12px; color: #888;">
                                    <span style="color: #3b82f6; font-weight: 600;">1</span> in planning
                                </div>
                                <div style="font-size: 12px; color: #888;">
                                    <span style="color: #1db954; font-weight: 600;">1</span> on track
                                </div>
                            </div>
                        </div>

                        <!-- ============================================== -->
                        <!-- UPCOMING LAUNCHES - Clean 2 Column Grid -->
                        <!-- ============================================== -->
                        <div style="margin-top: 32px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                <h3 style="font-size: 14px; color: #888; font-weight: 600; letter-spacing: 0.5px;">UPCOMING LAUNCHES</h3>
                                <div style="position: relative; width: 280px;">
                                    <input type="text" id="launches-search-input" placeholder="Search launches..." oninput="searchLaunches()" style="width: 100%; padding: 8px 12px 8px 36px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; border-radius: 6px; font-size: 12px;">
                                    <span style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #666; font-size: 14px;"></span>
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                                <!-- Card 1 - Collagen Gummies -->
                                <div onclick="openLaunchDetail('gummies')" style="background: #141414; border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 20px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='rgba(29,185,84,0.3)'" onmouseout="this.style.borderColor='rgba(255,255,255,0.08)'">
                                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <span style="font-size: 28px;"></span>
                                            <div>
                                                <div style="font-weight: 700; font-size: 16px;">Collagen Gummies</div>
                                                <div style="font-size: 11px; color: #666;">COL-GUM-60</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <span style="background: rgba(59,130,246,0.15); color: #3b82f6; padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: 600;">New Product</span>
                                            <span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: 600;">On Track</span>
                                        </div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: end;">
                                        <div>
                                            <div style="font-size: 11px; color: #666; margin-bottom: 2px;">Expected Launch</div>
                                            <div style="font-size: 18px; font-weight: 700; color: #1db954;">Jan 15, 2026</div>
                                        </div>
                                        <div style="display: flex; gap: 20px; text-align: right;">
                                            <div>
                                                <div style="font-size: 10px; color: #666;">Price</div>
                                                <div style="font-size: 16px; font-weight: 600;">$39.99</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #666;">Margin</div>
                                                <div style="font-size: 16px; font-weight: 600; color: #1db954;">68%</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Card 2 - Vitamin D3 + K2 (Delayed) -->
                                <div onclick="openLaunchDetail('vitamind')" style="background: #141414; border: 1px solid rgba(234,179,8,0.3); border-radius: 8px; padding: 20px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='rgba(234,179,8,0.5)'" onmouseout="this.style.borderColor='rgba(234,179,8,0.3)'">
                                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <span style="font-size: 28px;"></span>
                                            <div>
                                                <div style="font-weight: 700; font-size: 16px;">Vitamin D3 + K2</div>
                                                <div style="font-size: 11px; color: #666;">VIT-D3K2-90</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <span style="background: rgba(59,130,246,0.15); color: #3b82f6; padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: 600;">New Product</span>
                                            <span style="background: rgba(234,179,8,0.15); color: #eab308; padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: 600;">Delayed</span>
                                        </div>
                                    </div>
                                    <div style="font-size: 11px; color: #eab308; margin-bottom: 12px;"> Packaging supplier issue - pushed 2 weeks</div>
                                    <div style="display: flex; justify-content: space-between; align-items: end;">
                                        <div>
                                            <div style="font-size: 11px; color: #666; margin-bottom: 2px;">Expected Launch</div>
                                            <div style="font-size: 18px; font-weight: 700; color: #eab308;">Feb 5, 2026</div>
                                        </div>
                                        <div style="display: flex; gap: 20px; text-align: right;">
                                            <div>
                                                <div style="font-size: 10px; color: #666;">Price</div>
                                                <div style="font-size: 16px; font-weight: 600;">$29.99</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #666;">Margin</div>
                                                <div style="font-size: 16px; font-weight: 600; color: #1db954;">72%</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Card 3 - Collagen Peptides v3.0 -->
                                <div onclick="openLaunchDetail('collagenv3')" style="background: #141414; border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 20px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='rgba(29,185,84,0.3)'" onmouseout="this.style.borderColor='rgba(255,255,255,0.08)'">
                                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <span style="font-size: 28px;"></span>
                                            <div>
                                                <div style="font-weight: 700; font-size: 16px;">Collagen Peptides v3.0</div>
                                                <div style="font-size: 11px; color: #666;">COL-25-V3</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <span style="background: rgba(168,85,247,0.15); color: #a855f7; padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: 600;">Reformulation</span>
                                            <span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: 600;">On Track</span>
                                        </div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: end;">
                                        <div>
                                            <div style="font-size: 11px; color: #666; margin-bottom: 2px;">Expected Launch</div>
                                            <div style="font-size: 18px; font-weight: 700; color: #1db954;">Feb 1, 2026</div>
                                        </div>
                                        <div style="display: flex; gap: 20px; text-align: right;">
                                            <div>
                                                <div style="font-size: 10px; color: #666;">Price</div>
                                                <div style="font-size: 16px; font-weight: 600;">$33.99</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #666;">Margin</div>
                                                <div style="font-size: 16px; font-weight: 600; color: #1db954;">65%</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Card 4 - Probiotic 50B -->
                                <div onclick="openLaunchDetail('probiotic')" style="background: #141414; border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 20px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='rgba(59,130,246,0.3)'" onmouseout="this.style.borderColor='rgba(255,255,255,0.08)'">
                                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <span style="font-size: 28px;"></span>
                                            <div>
                                                <div style="font-weight: 700; font-size: 16px;">Probiotic 50B</div>
                                                <div style="font-size: 11px; color: #666;">PRO-50B-30</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <span style="background: rgba(59,130,246,0.15); color: #3b82f6; padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: 600;">New Product</span>
                                            <span style="background: rgba(59,130,246,0.15); color: #3b82f6; padding: 4px 8px; border-radius: 4px; font-size: 10px; font-weight: 600;">Planning</span>
                                        </div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: end;">
                                        <div>
                                            <div style="font-size: 11px; color: #666; margin-bottom: 2px;">Expected Launch</div>
                                            <div style="font-size: 18px; font-weight: 700; color: #3b82f6;">Feb 14, 2026</div>
                                        </div>
                                        <div style="display: flex; gap: 20px; text-align: right;">
                                            <div>
                                                <div style="font-size: 10px; color: #666;">Price</div>
                                                <div style="font-size: 16px; font-weight: 600;">$44.99</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #666;">Margin</div>
                                                <div style="font-size: 16px; font-weight: 600; color: #1db954;">70%</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ============================================== -->
                        <!-- LAUNCH PERFORMANCE                           -->
                        <!-- ============================================== -->
                        <div style="margin-top: 48px;">
                            <!-- Top Row: Title and Filters -->
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                <h3 style="font-size: 18px; font-weight: 600;">Launch Performance</h3>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <select id="perf-time-filter" onchange="updatePerformanceTimeFilter()" style="padding: 7px 14px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px; cursor: pointer;">
                                        <option value="30d">Last 30 Days</option>
                                        <option value="q4-2025">Q4 2025</option>
                                        <option value="q1-2026">Q1 2026</option>
                                        <option value="2025">Year 2025</option>
                                        <option value="custom">Custom Range</option>
                                    </select>
                                    <select id="perf-compare-filter" onchange="updatePerformanceComparison()" style="padding: 7px 14px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px; cursor: pointer;">
                                        <option value="target">vs Target</option>
                                        <option value="last-week">vs Last Week</option>
                                        <option value="last-month">vs Last Month</option>
                                        <option value="last-year">vs Last Year</option>
                                    </select>
                                    <button onclick="showTrendsModal()" style="padding: 7px 16px; background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 6px; color: #3b82f6; font-size: 13px; font-weight: 600; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='rgba(59, 130, 246, 0.25)'" onmouseout="this.style.background='rgba(59, 130, 246, 0.15)'"> View Trends</button>
                                </div>
                            </div>
                            
                            <!-- Bottom Row: View Switcher -->
                            <div style="display: flex; gap: 6px; margin-bottom: 20px; padding: 4px; background: rgba(255,255,255,0.03); border-radius: 8px; width: fit-content;">
                                <button onclick="showPerformanceView('aggregated')" id="perf-btn-aggregated" style="padding: 8px 16px; background: #1db954; border: none; border-radius: 6px; color: #000; font-size: 13px; font-weight: 600; cursor: pointer; transition: all 0.15s;">Aggregated</button>
                                <button onclick="showPerformanceView('by-channel')" id="perf-btn-by-channel" style="padding: 8px 16px; background: transparent; border: none; border-radius: 6px; color: #888; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.15s;">By Channel</button>
                                <button onclick="showPerformanceView('by-product')" id="perf-btn-by-product" style="padding: 8px 16px; background: transparent; border: none; border-radius: 6px; color: #888; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.15s;">By Product</button>
                            </div>
                            
                            <!-- Aggregated View -->
                            <div id="perf-view-aggregated">
                                <!-- Summary Stats - Minimal -->
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1px; background: rgba(255,255,255,0.06); margin-bottom: 20px; border-radius: 4px; overflow: hidden;">
                                    <div style="background: #0a0a0a; padding: 16px; text-align: center;">
                                        <div style="font-size: 24px; font-weight: 700; color: #1db954;">67%</div>
                                        <div style="font-size: 11px; color: #666;">Avg Margin</div>
                                    </div>
                                    <div style="background: #0a0a0a; padding: 16px; text-align: center;">
                                        <div style="font-size: 24px; font-weight: 700;">3</div>
                                        <div style="font-size: 11px; color: #666;">Products Launched</div>
                                    </div>
                                    <div style="background: #0a0a0a; padding: 16px; text-align: center;">
                                        <div style="font-size: 24px; font-weight: 700; color: #1db954;">+18%</div>
                                        <div style="font-size: 11px; color: #666;">vs Target</div>
                                    </div>
                                    <div style="background: #0a0a0a; padding: 16px; text-align: center;">
                                        <div style="font-size: 24px; font-weight: 700;">2</div>
                                        <div style="font-size: 11px; color: #666;">Top Performers</div>
                                    </div>
                                </div>
                                
                                <!-- Product Table -->
                                <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.08); border-radius: 6px; overflow: hidden;">
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="background: rgba(255,255,255,0.03);">
                                                <th style="padding: 14px 16px; text-align: left; font-size: 11px; color: #666; font-weight: 600;">PRODUCT</th>
                                                <th style="padding: 14px 16px; text-align: left; font-size: 11px; color: #666; font-weight: 600;">LAUNCH DATE</th>
                                                <th style="padding: 14px 16px; text-align: left; font-size: 11px; color: #666; font-weight: 600;">PRICE</th>
                                                <th style="padding: 14px 16px; text-align: left; font-size: 11px; color: #666; font-weight: 600;">30-DAY SALES</th>
                                                <th style="padding: 14px 16px; text-align: left; font-size: 11px; color: #666; font-weight: 600;">UNITS</th>
                                                <th style="padding: 14px 16px; text-align: left; font-size: 11px; color: #666; font-weight: 600;">STATUS</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 14px 16px;"><span style="font-weight: 600;"> Creatine Monohydrate</span></td>
                                                <td style="padding: 14px 16px; font-size: 13px; color: #888;">Nov 15, 2025</td>
                                                <td style="padding: 14px 16px; font-size: 13px;">$34.00</td>
                                                <td style="padding: 14px 16px; font-size: 13px; font-weight: 600; color: #1db954;">$127,000</td>
                                                <td style="padding: 14px 16px; font-size: 13px;">3,735</td>
                                                <td style="padding: 14px 16px;"><span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 4px 10px; border-radius: 6px; font-size: 11px;">Performing Well</span></td>
                                            </tr>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 14px 16px;"><span style="font-weight: 600;"> Colostrum</span></td>
                                                <td style="padding: 14px 16px; font-size: 13px; color: #888;">Sep 20, 2025</td>
                                                <td style="padding: 14px 16px; font-size: 13px;">$49.99</td>
                                                <td style="padding: 14px 16px; font-size: 13px; font-weight: 600; color: #1db954;">$89,000</td>
                                                <td style="padding: 14px 16px; font-size: 13px;">1,780</td>
                                                <td style="padding: 14px 16px;"><span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 4px 10px; border-radius: 6px; font-size: 11px;">Performing Well</span></td>
                                            </tr>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 14px 16px;"><span style="font-weight: 600;"> NAC</span></td>
                                                <td style="padding: 14px 16px; font-size: 13px; color: #888;">Aug 10, 2025</td>
                                                <td style="padding: 14px 16px; font-size: 13px;">$29.99</td>
                                                <td style="padding: 14px 16px; font-size: 13px; font-weight: 600; color: #eab308;">$42,000</td>
                                                <td style="padding: 14px 16px; font-size: 13px;">1,400</td>
                                                <td style="padding: 14px 16px;"><span style="background: rgba(234,179,8,0.15); color: #eab308; padding: 4px 10px; border-radius: 6px; font-size: 11px;">Needs Attention</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- By Channel View - Clean Table -->
                            <div id="perf-view-by-channel" style="display: none;">
                                <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.08); border-radius: 6px; overflow-x: auto;">
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="background: rgba(255,255,255,0.03);">
                                                <th style="padding: 14px 16px; text-align: left; font-size: 11px; color: #666; font-weight: 600;">CHANNEL</th>
                                                <th style="padding: 14px 16px; text-align: right; font-size: 11px; color: #666; font-weight: 600;">REVENUE</th>
                                                <th style="padding: 14px 16px; text-align: right; font-size: 11px; color: #666; font-weight: 600;">% OF TOTAL</th>
                                                <th style="padding: 14px 16px; text-align: right; font-size: 11px; color: #666; font-weight: 600;">UNITS</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 16px;"><span style="font-weight: 600;">Retention (DTC)</span></td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600; color: #1db954;">$154,800</td>
                                                <td style="padding: 16px; font-size: 18px; text-align: right; font-weight: 700;">60%</td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600;">4,705</td>
                                            </tr>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 16px;"><span style="font-weight: 600;">Acquisition</span></td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600; color: #1db954;">$51,600</td>
                                                <td style="padding: 16px; font-size: 18px; text-align: right; font-weight: 700;">20%</td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600;">1,568</td>
                                            </tr>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 16px;"><span style="font-weight: 600;">Amazon</span></td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600;">$25,800</td>
                                                <td style="padding: 16px; font-size: 18px; text-align: right; font-weight: 700;">10%</td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600;">784</td>
                                            </tr>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 16px;"><span style="font-weight: 600;">Walmart</span></td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600;">$12,900</td>
                                                <td style="padding: 16px; font-size: 18px; text-align: right; font-weight: 700;">5%</td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600;">392</td>
                                            </tr>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 16px;"><span style="font-weight: 600;">TikTok Shop</span></td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600;">$7,740</td>
                                                <td style="padding: 16px; font-size: 18px; text-align: right; font-weight: 700;">3%</td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600;">245</td>
                                            </tr>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 16px;"><span style="font-weight: 600;">Wholesale</span></td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600;">$5,160</td>
                                                <td style="padding: 16px; font-size: 18px; text-align: right; font-weight: 700;">2%</td>
                                                <td style="padding: 16px; font-size: 15px; text-align: right; font-weight: 600;">148</td>
                                            </tr>
                                            <tr style="border-top: 2px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.02);">
                                                <td style="padding: 16px;"><span style="font-weight: 700;">Total</span></td>
                                                <td style="padding: 16px; font-size: 16px; text-align: right; font-weight: 700; color: #1db954;">$258,000</td>
                                                <td style="padding: 16px; font-size: 18px; text-align: right; font-weight: 700;">100%</td>
                                                <td style="padding: 16px; font-size: 16px; text-align: right; font-weight: 700;">7,842</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- By Product View - Simple Table -->
                            <div id="perf-view-by-product" style="display: none;">
                                <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.08); border-radius: 6px; overflow: hidden;">
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr style="background: rgba(255,255,255,0.03);">
                                                <th style="padding: 14px 16px; text-align: left; font-size: 11px; color: #666; font-weight: 600;">PRODUCT</th>
                                                <th style="padding: 14px 16px; text-align: right; font-size: 11px; color: #666; font-weight: 600;">RETENTION</th>
                                                <th style="padding: 14px 16px; text-align: right; font-size: 11px; color: #666; font-weight: 600;">ACQUISITION</th>
                                                <th style="padding: 14px 16px; text-align: right; font-size: 11px; color: #666; font-weight: 600;">AMAZON</th>
                                                <th style="padding: 14px 16px; text-align: right; font-size: 11px; color: #666; font-weight: 600;">OTHER</th>
                                                <th style="padding: 14px 16px; text-align: right; font-size: 11px; color: #666; font-weight: 600;">TOTAL</th>
                                                <th style="padding: 14px 16px; text-align: right; font-size: 11px; color: #666; font-weight: 600;">UNITS</th>
                                                <th style="padding: 14px 16px; text-align: left; font-size: 11px; color: #666; font-weight: 600;">VS TARGET</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 14px 16px;">
                                                    <div style="font-weight: 600;"> Creatine Monohydrate</div>
                                                    <div style="font-size: 11px; color: #666;">Nov 15, 2025  $34.00</div>
                                                </td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right;">$76.2K</td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right;">$25.4K</td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right;">$12.7K</td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right; color: #888;">$12.7K</td>
                                                <td style="padding: 14px 16px; font-size: 14px; text-align: right; font-weight: 700; color: #1db954;">$127K</td>
                                                <td style="padding: 14px 16px; font-size: 14px; text-align: right; font-weight: 600;">3,735</td>
                                                <td style="padding: 14px 16px;"><span style="color: #1db954; font-weight: 600;">+27%</span></td>
                                            </tr>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 14px 16px;">
                                                    <div style="font-weight: 600;"> Colostrum</div>
                                                    <div style="font-size: 11px; color: #666;">Sep 20, 2025  $49.99</div>
                                                </td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right;">$53.4K</td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right;">$17.8K</td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right;">$8.9K</td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right; color: #888;">$8.9K</td>
                                                <td style="padding: 14px 16px; font-size: 14px; text-align: right; font-weight: 700; color: #1db954;">$89K</td>
                                                <td style="padding: 14px 16px; font-size: 14px; text-align: right; font-weight: 600;">1,780</td>
                                                <td style="padding: 14px 16px;"><span style="color: #1db954; font-weight: 600;">+12%</span></td>
                                            </tr>
                                            <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                                <td style="padding: 14px 16px;">
                                                    <div style="font-weight: 600;"> NAC</div>
                                                    <div style="font-size: 11px; color: #666;">Aug 10, 2025  $29.99</div>
                                                </td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right;">$25.2K</td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right;">$8.4K</td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right;">$4.2K</td>
                                                <td style="padding: 14px 16px; font-size: 13px; text-align: right; color: #888;">$4.2K</td>
                                                <td style="padding: 14px 16px; font-size: 14px; text-align: right; font-weight: 700; color: #eab308;">$42K</td>
                                                <td style="padding: 14px 16px; font-size: 14px; text-align: right; font-weight: 600;">1,400</td>
                                                <td style="padding: 14px 16px;"><span style="color: #ef4444; font-weight: 600;">-16%</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                </div>
            </div>

            <div class="view" id="promotions-view">
                <div class="content-header">
                    <h1 class="header-title">Campaigns</h1>
                    <p class="header-subtitle">Campaign calendar & timeline</p>
                </div>
                <div class="content-body">
                    
                    <!-- Campaign Calendar - Modernized -->
                    <div style="background: linear-gradient(135deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; padding: 24px; margin-bottom: 32px;">
                        <!-- Calendar Header -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                            <div style="display: flex; align-items: center; gap: 16px;">
                                <button onclick="changeCampaignMonth(-1)" style="background: rgba(255,255,255,0.06); border: none; color: #fff; width: 36px; height: 36px; border-radius: 8px; cursor: pointer; font-size: 16px; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='rgba(255,255,255,0.06)'"></button>
                                <span id="campaign-calendar-title" style="font-size: 20px; font-weight: 700; min-width: 180px; text-align: center;">January 2026</span>
                                <button onclick="changeCampaignMonth(1)" style="background: rgba(255,255,255,0.06); border: none; color: #fff; width: 36px; height: 36px; border-radius: 8px; cursor: pointer; font-size: 16px; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='rgba(255,255,255,0.06)'"></button>
                                <button onclick="jumpToToday('campaign')" style="background: rgba(29, 185, 84, 0.15); border: 1px solid rgba(29, 185, 84, 0.3); color: #1db954; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 13px; font-weight: 600; transition: all 0.2s;" onmouseover="this.style.background='rgba(29, 185, 84, 0.25)'" onmouseout="this.style.background='rgba(29, 185, 84, 0.15)'">Today</button>
                            </div>
                            <div style="display: flex; gap: 20px; font-size: 12px;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 24px; height: 8px; background: linear-gradient(90deg, #1db954, #15803d); border-radius: 4px;"></div>
                                    <span style="color: #b3b3b3;">Live</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 24px; height: 8px; background: linear-gradient(90deg, #eab308, #a16207); border-radius: 4px;"></div>
                                    <span style="color: #b3b3b3;">Prep</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 24px; height: 8px; background: linear-gradient(90deg, #3b82f6, #1d4ed8); border-radius: 4px;"></div>
                                    <span style="color: #b3b3b3;">Upcoming</span>
                                </div>
                            </div>
                        </div>

                        <!-- Calendar Grid -->
                        <div style="border-radius: 10px; overflow: hidden; border: 1px solid rgba(255,255,255,0.03);">
                            <div style="display: grid; grid-template-columns: repeat(7, 1fr); background: rgba(255,255,255,0.02);">
                                <div style="padding: 14px; text-align: center; font-size: 11px; color: #666; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Sun</div>
                                <div style="padding: 14px; text-align: center; font-size: 11px; color: #666; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Mon</div>
                                <div style="padding: 14px; text-align: center; font-size: 11px; color: #666; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Tue</div>
                                <div style="padding: 14px; text-align: center; font-size: 11px; color: #666; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Wed</div>
                                <div style="padding: 14px; text-align: center; font-size: 11px; color: #666; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Thu</div>
                                <div style="padding: 14px; text-align: center; font-size: 11px; color: #666; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Fri</div>
                                <div style="padding: 14px; text-align: center; font-size: 11px; color: #666; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Sat</div>
                            </div>
                            <div id="campaign-calendar-grid" style="display: grid; grid-template-columns: repeat(7, 1fr);">
                                <!-- Filled by JS -->
                            </div>
                        </div>
                        
                        <!-- Calendar Stats Mini Bar -->
                        <div style="display: flex; gap: 24px; margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.04);">
                            <div style="font-size: 12px; color: #888;">
                                <span style="color: #1db954; font-weight: 600;">1</span> campaign live this month
                            </div>
                            <div style="font-size: 12px; color: #888;">
                                <span style="color: #eab308; font-weight: 600;">12</span> prep days
                            </div>
                            <div style="font-size: 12px; color: #888;">
                                <span style="color: #3b82f6; font-weight: 600;">7</span> live days
                            </div>
                        </div>
                    </div>

                    <!-- Active & Upcoming Campaigns List -->
                    <h3 style="font-size: 14px; font-weight: 600; color: #888; margin-bottom: 16px; letter-spacing: 0.5px;">CAMPAIGNS</h3>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        
                        <!-- Valentine's Day - Active -->
                        <div class="campaign-row active" onclick="showCampaignDetail('valentines')">
                            <div class="campaign-row-icon"></div>
                            <div class="campaign-row-info">
                                <div class="campaign-row-name"><span style="font-family: monospace; color: #ec4899; background: rgba(236,72,153,0.15); padding: 2px 6px; border-radius: 3px; font-size: 10px; margin-right: 8px;">VDAY-26</span>Valentine's Day 2026</div>
                                <div class="campaign-row-dates">Jan 25 - Feb 14, 2026</div>
                            </div>
                            <div class="campaign-row-stats">
                                <div class="campaign-stat"><span class="campaign-stat-val">3</span><span class="campaign-stat-lbl">Offers</span></div>
                                <div class="campaign-stat"><span class="campaign-stat-val">12</span><span class="campaign-stat-lbl">Pages</span></div>
                                <div class="campaign-stat"><span class="campaign-stat-val green">9</span><span class="campaign-stat-lbl">Days Left</span></div>
                            </div>
                            <div class="campaign-row-status active"> Live</div>
                        </div>

                        <!-- Evergreen - Always Active -->
                        <div class="campaign-row active" onclick="showCampaignDetail('evergreen')">
                            <div class="campaign-row-icon"></div>
                            <div class="campaign-row-info">
                                <div class="campaign-row-name"><span style="font-family: monospace; color: #1db954; background: rgba(29,185,84,0.15); padding: 2px 6px; border-radius: 3px; font-size: 10px; margin-right: 8px;">EVRGN</span>Evergreen</div>
                                <div class="campaign-row-dates">Always active  Base pricing</div>
                            </div>
                            <div class="campaign-row-stats">
                                <div class="campaign-stat"><span class="campaign-stat-val">5</span><span class="campaign-stat-lbl">Offers</span></div>
                                <div class="campaign-stat"><span class="campaign-stat-val">28</span><span class="campaign-stat-lbl">Pages</span></div>
                                <div class="campaign-stat"><span class="campaign-stat-val"></span><span class="campaign-stat-lbl">Ongoing</span></div>
                            </div>
                            <div class="campaign-row-status active"> Active</div>
                        </div>

                        <!-- Spring Renewal - Upcoming -->
                        <div class="campaign-row upcoming" onclick="showCampaignDetail('spring')">
                            <div class="campaign-row-icon"></div>
                            <div class="campaign-row-info">
                                <div class="campaign-row-name"><span style="font-family: monospace; color: #fbbf24; background: rgba(251,191,36,0.15); padding: 2px 6px; border-radius: 3px; font-size: 10px; margin-right: 8px;">SPRNG-26</span>Spring Renewal</div>
                                <div class="campaign-row-dates">Mar 1 - Mar 21, 2026</div>
                            </div>
                            <div class="campaign-row-stats">
                                <div class="campaign-stat"><span class="campaign-stat-val">0</span><span class="campaign-stat-lbl">Offers</span></div>
                                <div class="campaign-stat"><span class="campaign-stat-val">0</span><span class="campaign-stat-lbl">Pages</span></div>
                                <div class="campaign-stat"><span class="campaign-stat-val yellow">54</span><span class="campaign-stat-lbl">Days Until</span></div>
                            </div>
                            <div class="campaign-row-status upcoming"> Upcoming</div>
                        </div>

                        <!-- Summer Sale - Planning -->
                        <div class="campaign-row planning" onclick="showCampaignDetail('summer')">
                            <div class="campaign-row-icon"></div>
                            <div class="campaign-row-info">
                                <div class="campaign-row-name"><span style="font-family: monospace; color: #888; background: rgba(136,136,136,0.15); padding: 2px 6px; border-radius: 3px; font-size: 10px; margin-right: 8px;">SUMR-26</span>Summer Sale</div>
                                <div class="campaign-row-dates">Jun 1 - Aug 31, 2026</div>
                            </div>
                            <div class="campaign-row-stats">
                                <div class="campaign-stat"><span class="campaign-stat-val">0</span><span class="campaign-stat-lbl">Offers</span></div>
                                <div class="campaign-stat"><span class="campaign-stat-val">0</span><span class="campaign-stat-lbl">Pages</span></div>
                                <div class="campaign-stat"><span class="campaign-stat-val">146</span><span class="campaign-stat-lbl">Days Until</span></div>
                            </div>
                            <div class="campaign-row-status planning"> Planning</div>
                        </div>

                    </div>
                </div>
            </div>


            <!-- Offers Library View -->
            <div class="view" id="channel-visibility-view">
                <div class="content-header">
                    <h1 class="header-title">Offers Library</h1>
                    <p class="header-subtitle">All approved offers with pricing breakdowns  Click any offer to see full details</p>
                </div>
                <div class="content-body">
                    <!-- Stats Row -->
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div style="background: #181818; padding: 20px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; color: #1db954;">5</div>
                            <div style="font-size: 12px; color: #b3b3b3;">Active Offers</div>
                        </div>
                        <div style="background: #181818; padding: 20px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; color: #ffc107;">1</div>
                            <div style="font-size: 12px; color: #b3b3b3;">Pending Approval</div>
                        </div>
                        <div style="background: #181818; padding: 20px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; color: #3b82f6;">12</div>
                            <div style="font-size: 12px; color: #b3b3b3;">Pages Using Offers</div>
                        </div>
                        <div style="background: #181818; padding: 20px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; color: #888;">3</div>
                            <div style="font-size: 12px; color: #b3b3b3;">Expired Offers</div>
                        </div>
                    </div>

                    <!-- Filter Row - Unified Style -->
                    <div style="display: flex; gap: 12px; margin-bottom: 24px; flex-wrap: wrap; align-items: flex-end;">
                        <!-- Search -->
                        <div style="flex: 1; min-width: 200px; max-width: 280px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">SEARCH</label>
                            <div style="position: relative;">
                                <input type="text" id="offer-search" placeholder="Search by ID, price, % off..." style="width: 100%; padding: 10px 12px 10px 36px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; border-radius: 6px; font-size: 13px;" onkeyup="filterOffers()">
                                <span style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #666; font-size: 14px;"></span>
                            </div>
                        </div>
                        
                        <!-- Campaign Filter -->
                        <div class="filter-dropdown" style="min-width: 160px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">CAMPAIGN</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Campaigns</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this); document.getElementById('offer-campaign-filter').value='all'; filterOffers()"><span class="check"></span> All Campaigns</div>
                                    <div class="filter-option" onclick="selectFilterOption(this); document.getElementById('offer-campaign-filter').value='valentines'; filterOffers()"><span class="check"></span>  Valentine's Day</div>
                                    <div class="filter-option" onclick="selectFilterOption(this); document.getElementById('offer-campaign-filter').value='evergreen'; filterOffers()"><span class="check"></span>  Evergreen</div>
                                    <div class="filter-option" onclick="selectFilterOption(this); document.getElementById('offer-campaign-filter').value='christmas'; filterOffers()"><span class="check"></span>  Christmas</div>
                                </div>
                            </div>
                            <select id="offer-campaign-filter" style="display: none;"><option value="all">All</option></select>
                        </div>
                        
                        <!-- Product Filter -->
                        <div class="filter-dropdown" style="min-width: 150px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">PRODUCT</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Products</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this); document.getElementById('offer-product-filter').value='all'; filterOffers()"><span class="check"></span> All Products</div>
                                    <div class="filter-option" onclick="selectFilterOption(this); document.getElementById('offer-product-filter').value='collagen'; filterOffers()"><span class="check"></span> Collagen 25s</div>
                                    <div class="filter-option" onclick="selectFilterOption(this); document.getElementById('offer-product-filter').value='hydrate'; filterOffers()"><span class="check"></span> Hydrate</div>
                                    <div class="filter-option" onclick="selectFilterOption(this); document.getElementById('offer-product-filter').value='probiotics'; filterOffers()"><span class="check"></span> Probiotics 30B</div>
                                    <div class="filter-option" onclick="selectFilterOption(this); document.getElementById('offer-product-filter').value='mct'; filterOffers()"><span class="check"></span> MCT Oil Powder</div>
                                </div>
                            </div>
                            <select id="offer-product-filter" style="display: none;"><option value="all">All</option></select>
                        </div>
                        
                        <!-- Status Filter -->
                        <div class="filter-dropdown" style="min-width: 130px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">STATUS</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Status</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this); document.getElementById('offer-status-filter').value='all'; filterOffers()"><span class="check"></span> All Status</div>
                                    <div class="filter-option" onclick="selectFilterOption(this); document.getElementById('offer-status-filter').value='active'; filterOffers()"><span class="check"></span>  Active</div>
                                    <div class="filter-option" onclick="selectFilterOption(this); document.getElementById('offer-status-filter').value='pending'; filterOffers()"><span class="check"></span>  Pending</div>
                                    <div class="filter-option" onclick="selectFilterOption(this); document.getElementById('offer-status-filter').value='expired'; filterOffers()"><span class="check"></span>  Expired</div>
                                </div>
                            </div>
                            <select id="offer-status-filter" style="display: none;"><option value="all">All</option></select>
                        </div>
                        
                        <button onclick="openNewOfferModal()" style="padding: 10px 20px; background: #1db954; color: #000; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; margin-left: auto;">+ Create Offer</button>
                    </div>

                    <!-- Offers Grid - 2-Column Card Layout -->
                    <div id="offers-grid" class="offers-grid-new">
                        
                        <!-- Collagen 25s Offer -->
                        <div class="offer-card-new" onclick="openOfferDetail('COL-25')" data-search="off-1 collagen 33.99 87.00 132.00 35% 45% frother valentines" data-product="collagen" data-campaign="valentines">
                            <div class="offer-card-image">
                                <span class="emoji-placeholder"></span>
                                <span class="offer-card-status active">Active</span>
                            </div>
                            <div class="offer-card-body">
                                <div class="offer-card-header-row">
                                    <div>
                                        <div style="display: flex; gap: 8px; margin-bottom: 4px;">
                                            <div class="offer-card-id">VDAY-COL25</div>
                                        </div>
                                        <div class="offer-card-title">Collagen 25s</div>
                                        <div class="offer-card-meta">COL-25  25 Servings</div>
                                    </div>
                                </div>
                                <div class="offer-channels-wrapper">
                                    <div class="offer-channels-list">
                                        <span class="offer-channel-tag active">Web</span>
                                        <span class="offer-channel-tag active">Amazon</span>
                                        <span class="offer-channel-tag active">Walmart</span>
                                        <span class="offer-channel-tag">Shopify</span>
                                    </div>
                                </div>
                                <div class="offer-tiers-grid">
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">Single</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-price">$33.99</span>
                                        </div>
                                        <div class="offer-tier-shipping">+$9.00 ship</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-total">Total: $42.99</div>
                                            <div class="offer-tier-per-unit">$1.36/srv</div>
                                        </div>
                                    </div>
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">3-Pack</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-original">$110.97</span>
                                            <span class="offer-tier-price">$87.00</span>
                                        </div>
                                        <div class="offer-tier-shipping">FREE ship</div>
                                        <div class="offer-tier-gift"> Frother</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-save">Save $38.92 (35%)</div>
                                            <div class="offer-tier-per-unit">$1.16/srv</div>
                                        </div>
                                    </div>
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">6-Pack</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-original">$212.94</span>
                                            <span class="offer-tier-price">$132.00</span>
                                        </div>
                                        <div class="offer-tier-shipping">FREE ship</div>
                                        <div class="offer-tier-gift"> Frother</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-save">Save $95.89 (45%)</div>
                                            <div class="offer-tier-per-unit">$0.88/srv</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="offer-card-footer">
                                    <div class="offer-card-footer-left">
                                        <span class="offer-blended-margin">Blended Margin: <span>71%</span></span>
                                        <span class="offer-pages-count"> 3 Pages</span>
                                    </div>
                                    <span class="offer-view-details">View details </span>
                                </div>
                            </div>
                        </div>

                        <!-- Hydrate Offer -->
                        <div class="offer-card-new" onclick="openOfferDetail('HYD-30')" data-search="off-2 hydrate 29.99 74.97 119.94 28% 39% shaker valentines" data-product="hydrate" data-campaign="valentines">
                            <div class="offer-card-image">
                                <span class="emoji-placeholder"></span>
                                <span class="offer-card-status active">Active</span>
                            </div>
                            <div class="offer-card-body">
                                <div class="offer-card-header-row">
                                    <div>
                                        <div style="display: flex; gap: 8px; margin-bottom: 4px;">
                                            <div class="offer-card-id">VDAY-HYD30</div>
                                        </div>
                                        <div class="offer-card-title">Hydrate</div>
                                        <div class="offer-card-meta">HYD-30  30 Servings</div>
                                    </div>
                                </div>
                                <div class="offer-channels-wrapper">
                                    <div class="offer-channels-list">
                                        <span class="offer-channel-tag active">Web</span>
                                        <span class="offer-channel-tag active">Amazon</span>
                                        <span class="offer-channel-tag active">Shopify</span>
                                    </div>
                                </div>
                                <div class="offer-tiers-grid">
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">Single</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-price">$29.99</span>
                                        </div>
                                        <div class="offer-tier-shipping">+$9.00 ship</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-total">Total: $38.99</div>
                                            <div class="offer-tier-per-unit">$1.00/srv</div>
                                        </div>
                                    </div>
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">3-Pack</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-original">$89.97</span>
                                            <span class="offer-tier-price">$74.97</span>
                                        </div>
                                        <div class="offer-tier-shipping">FREE ship</div>
                                        <div class="offer-tier-gift"> Shaker</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-save">Save $24.95 (28%)</div>
                                            <div class="offer-tier-per-unit">$0.83/srv</div>
                                        </div>
                                    </div>
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">6-Pack</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-original">$179.94</span>
                                            <span class="offer-tier-price">$119.94</span>
                                        </div>
                                        <div class="offer-tier-shipping">FREE ship</div>
                                        <div class="offer-tier-gift"> Shaker</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-save">Save $69.95 (39%)</div>
                                            <div class="offer-tier-per-unit">$0.67/srv</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="offer-card-footer">
                                    <div class="offer-card-footer-left">
                                        <span class="offer-blended-margin">Blended Margin: <span>72%</span></span>
                                        <span class="offer-pages-count"> 5 Pages</span>
                                    </div>
                                    <span class="offer-view-details">View details </span>
                                </div>
                            </div>
                        </div>

                        <!-- Probiotics Offer -->
                        <div class="offer-card-new" onclick="openOfferDetail('PRO-60')" data-search="off-3 probiotics 32.95 79.00 139.00 20% 30%" data-product="probiotics">
                            <div class="offer-card-image">
                                <span class="emoji-placeholder"></span>
                                <span class="offer-card-status active">Active</span>
                            </div>
                            <div class="offer-card-body">
                                <div class="offer-card-header-row">
                                    <div>
                                        <div class="offer-card-id">EG-PRO60</div>
                                        <div class="offer-card-title">Probiotics 30B</div>
                                        <div class="offer-card-meta">PRO-60  60 Capsules</div>
                                    </div>
                                </div>
                                <div class="offer-channels-wrapper">
                                    <div class="offer-channels-list">
                                        <span class="offer-channel-tag active">Web</span>
                                        <span class="offer-channel-tag">Amazon</span>
                                    </div>
                                </div>
                                <div class="offer-tiers-grid">
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">Single</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-price">$32.95</span>
                                        </div>
                                        <div class="offer-tier-shipping">+$9.00 ship</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-total">Total: $41.95</div>
                                            <div class="offer-tier-per-unit">$0.55/cap</div>
                                        </div>
                                    </div>
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">3-Pack</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-original">$98.85</span>
                                            <span class="offer-tier-price">$79.00</span>
                                        </div>
                                        <div class="offer-tier-shipping">FREE ship</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-save">Save $19.85 (20%)</div>
                                            <div class="offer-tier-per-unit">$0.44/cap</div>
                                        </div>
                                    </div>
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">6-Pack</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-original">$197.70</span>
                                            <span class="offer-tier-price">$139.00</span>
                                        </div>
                                        <div class="offer-tier-shipping">FREE ship</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-save">Save $58.70 (30%)</div>
                                            <div class="offer-tier-per-unit">$0.39/cap</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="offer-card-footer">
                                    <div class="offer-card-footer-left">
                                        <span class="offer-blended-margin">Blended Margin: <span>52%</span></span>
                                        <span class="offer-pages-count"> 2 Pages</span>
                                    </div>
                                    <span class="offer-view-details">View details </span>
                                </div>
                            </div>
                        </div>

                        <!-- MCT Oil Offer -->
                        <div class="offer-card-new" onclick="openOfferDetail('MCT-30')" data-search="off-4 mct oil 39.99 99.00 169.00 28% 35% mug" data-product="mct">
                            <div class="offer-card-image">
                                <span class="emoji-placeholder"></span>
                                <span class="offer-card-status pending">Pending</span>
                            </div>
                            <div class="offer-card-body">
                                <div class="offer-card-header-row">
                                    <div>
                                        <div class="offer-card-id">EG-MCT30</div>
                                        <div class="offer-card-title">MCT Oil Powder</div>
                                        <div class="offer-card-meta">MCT-30  30 Servings</div>
                                    </div>
                                </div>
                                <div class="offer-channels-wrapper">
                                    <div class="offer-channels-list">
                                        <span class="offer-channel-tag active">Web</span>
                                        <span class="offer-channel-tag active">Shopify</span>
                                        <span class="offer-channel-tag">Amazon</span>
                                    </div>
                                </div>
                                <div class="offer-tiers-grid">
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">Single</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-price">$39.99</span>
                                        </div>
                                        <div class="offer-tier-shipping">+$9.00 ship</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-total">Total: $48.99</div>
                                            <div class="offer-tier-per-unit">$1.33/srv</div>
                                        </div>
                                    </div>
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">3-Pack</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-original">$119.97</span>
                                            <span class="offer-tier-price">$99.00</span>
                                        </div>
                                        <div class="offer-tier-shipping">FREE ship</div>
                                        <div class="offer-tier-gift"> Mug</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-save">Save $33.92 (28%)</div>
                                            <div class="offer-tier-per-unit">$1.10/srv</div>
                                        </div>
                                    </div>
                                    <div class="offer-tier-box">
                                        <div class="offer-tier-label">6-Pack</div>
                                        <div class="offer-tier-price-row">
                                            <span class="offer-tier-original">$239.94</span>
                                            <span class="offer-tier-price">$169.00</span>
                                        </div>
                                        <div class="offer-tier-shipping">FREE ship</div>
                                        <div class="offer-tier-gift"> Mug</div>
                                        <div class="offer-tier-totals">
                                            <div class="offer-tier-save">Save $83.89 (35%)</div>
                                            <div class="offer-tier-per-unit">$0.94/srv</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="offer-card-footer">
                                    <div class="offer-card-footer-left">
                                        <span class="offer-blended-margin">Blended Margin: <span>59%</span></span>
                                        <span class="offer-pages-count"> 0 Pages</span>
                                    </div>
                                    <span class="offer-view-details">View details </span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Page Manager View -->
            <div class="view" id="page-manager-view">
                <div class="content-header">
                    <h1 class="header-title">Page Manager</h1>
                    <p class="header-subtitle">Track all landing pages  Request new pages  Web team adds URLs when live</p>
                </div>
                <div class="content-body">
                    <!-- Stats Row -->
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); padding: 20px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; color: #1db954;">47</div>
                            <div style="font-size: 12px; color: #888;">Live Pages</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); padding: 20px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; color: #eab308;">8</div>
                            <div style="font-size: 12px; color: #888;">In Development</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); padding: 20px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 28px; font-weight: 700; color: #888;">12</div>
                            <div style="font-size: 12px; color: #888;">Unpublished</div>
                        </div>
                    </div>

                    <!-- Filter & Actions Row -->
                    <div style="display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; align-items: flex-end;">
                        <!-- Campaign Filter -->
                        <div class="filter-dropdown" style="flex: 1; min-width: 150px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">CAMPAIGN</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span> Evergreen</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> All Campaigns</div>
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span>  Evergreen</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  VDAY-26</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  SPRNG-26</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  SUMR-26</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Channel Filter -->
                        <div class="filter-dropdown" style="flex: 1; min-width: 130px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">CHANNEL</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Channels</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> All Channels</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Meta</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Google</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  YouTube</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  SMS</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Status Filter -->
                        <div class="filter-dropdown" style="flex: 1; min-width: 120px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">STATUS</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Status</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> All Status</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Live</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  In Dev</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Ended</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Offer Filter -->
                        <div class="filter-dropdown" style="flex: 1; min-width: 150px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">OFFER</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>VDAY-COL25</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> All Offers</div>
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> VDAY-COL25</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> VDAY-HYD30</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> EG-COL25</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> EG-HYD30</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> EG-PRO60</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- LP Type Filter -->
                        <div class="filter-dropdown" style="flex: 1; min-width: 120px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">LP TYPE</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>Listicle</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> All Types</div>
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> Listicle</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> VSL</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Advertorial</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> First Person</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Third Person</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Lead Angle Filter -->
                        <div class="filter-dropdown" style="flex: 1; min-width: 140px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">LEAD ANGLE</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Angles</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> All Angles</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Fear</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Problem/Solution</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Hidden Truth</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Hidden Cause</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Competitor Deposition</div>
                                </div>
                            </div>
                        </div>
                        
                        <button id="request-page-btn" style="padding: 10px 20px; background: #1db954; color: #000; border: none; border-radius: 6px; font-weight: 600; cursor: pointer;">+ Request New Page</button>
                    </div>

                    <!-- Search Row -->
                    <div style="display: flex; gap: 12px; margin-bottom: 24px; align-items: center;">
                        <div style="flex: 1; position: relative;">
                            <input type="text" id="page-search-input" placeholder="Search pages..." oninput="searchPages()" style="width: 100%; padding: 10px 12px 10px 36px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; border-radius: 6px; font-size: 13px;">
                            <span style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #666; font-size: 14px;"></span>
                        </div>
                        <div style="color: #888; font-size: 12px;">Showing <strong style="color: #fff;">4</strong> pages</div>
                    </div>

                    <!-- Landing Pages Table -->
                    <div style="background: #181818; border-radius: 6px; overflow: hidden; overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; min-width: 1200px;">
                            <thead>
                                <tr style="background: #282828;">
                                    <th style="padding: 14px 16px; text-align: left; font-size: 11px; color: #b3b3b3; font-weight: 700;">PAGE NAME</th>
                                    <th style="padding: 14px 12px; text-align: left; font-size: 11px; color: #b3b3b3; font-weight: 700;">PRODUCT</th>
                                    <th style="padding: 14px 12px; text-align: left; font-size: 11px; color: #b3b3b3; font-weight: 700;">CAMPAIGN</th>
                                    <th style="padding: 14px 12px; text-align: left; font-size: 11px; color: #b3b3b3; font-weight: 700;">CHANNEL</th>
                                    <th style="padding: 14px 12px; text-align: left; font-size: 11px; color: #b3b3b3; font-weight: 700;">OFFER</th>
                                    <th style="padding: 14px 12px; text-align: left; font-size: 11px; color: #b3b3b3; font-weight: 700;">LP TYPE</th>
                                    <th style="padding: 14px 12px; text-align: left; font-size: 11px; color: #b3b3b3; font-weight: 700;">LEAD ANGLE</th>
                                    <th style="padding: 14px 12px; text-align: left; font-size: 11px; color: #b3b3b3; font-weight: 700;">PAIN POINT</th>
                                    <th style="padding: 14px 12px; text-align: left; font-size: 11px; color: #b3b3b3; font-weight: 700;">STATUS</th>
                                    <th style="padding: 14px 12px; text-align: left; font-size: 11px; color: #b3b3b3; font-weight: 700;">ACTIONS</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer;" onclick="openPageDetail('vday-meta-joint')">
                                    <td style="padding: 14px 16px;">
                                        <div style="font-weight: 600;">VDay-26 | Meta Cold | Joint Pain Angle</div>
                                        <div style="font-size: 11px; color: #1db954;">instapage.com/vday-meta-joint</div>
                                    </td>
                                    <td style="padding: 14px 12px;"><span style="font-size: 12px;">Collagen 25s</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #ec4899; font-size: 11px; font-family: monospace;">VDAY-26</span></td>
                                    <td style="padding: 14px 12px;"><span style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(37, 99, 235, 0.2)); border: 1px solid rgba(59, 130, 246, 0.4); color: #60a5fa; padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600;"> Meta</span></td>
                                    <td style="padding: 14px 12px;">
                                        <span onclick="event.stopPropagation(); openOfferDetail('VDAY-COL25')" style="font-family: monospace; font-size: 11px; color: #1db954; cursor: pointer;">VDAY-COL25</span>
                                    </td>
                                    <td style="padding: 14px 12px;"><span style="background: rgba(255,255,255,0.08); color: #b3b3b3; padding: 2px 8px; border-radius: 3px; font-size: 10px;">Listicle</span></td>
                                    <td style="padding: 14px 12px;"><span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 2px 8px; border-radius: 3px; font-size: 10px;">Fear</span> <span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 2px 8px; border-radius: 3px; font-size: 10px;">Problem/Solution</span></td>
                                    <td style="padding: 14px 12px;"><span style="font-size: 11px; color: #888;">Joint Pain</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #1db954; font-size: 12px;"> Live</span></td>
                                    <td style="padding: 14px 12px;"><button onclick="event.stopPropagation(); openPageDetail('vday-meta-joint')" style="background: #282828; border: none; color: #888; padding: 4px 12px; border-radius: 4px; font-size: 11px; cursor: pointer;">View</button></td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer;" onclick="openPageDetail('vday-meta-energy')">
                                    <td style="padding: 14px 16px;">
                                        <div style="font-weight: 600;">VDay - Meta Cold - Energy</div>
                                        <div style="font-size: 11px; color: #1db954;">instapage.com/vday-meta-energy</div>
                                    </td>
                                    <td style="padding: 14px 12px;"><span style="font-size: 12px;">Collagen 25s</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #ec4899; font-size: 11px; font-family: monospace;">VDAY-26</span></td>
                                    <td style="padding: 14px 12px;"><span style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(37, 99, 235, 0.2)); border: 1px solid rgba(59, 130, 246, 0.4); color: #60a5fa; padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600;"> Meta</span></td>
                                    <td style="padding: 14px 12px;">
                                        <span onclick="event.stopPropagation(); openOfferDetail('VDAY-COL25')" style="font-family: monospace; font-size: 11px; color: #1db954; cursor: pointer;">VDAY-COL25</span>
                                    </td>
                                    <td style="padding: 14px 12px;"><span style="background: rgba(255,255,255,0.08); color: #b3b3b3; padding: 2px 8px; border-radius: 3px; font-size: 10px;">VSL</span></td>
                                    <td style="padding: 14px 12px;"><span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 2px 8px; border-radius: 3px; font-size: 10px;">Hidden Truth</span></td>
                                    <td style="padding: 14px 12px;"><span style="font-size: 11px; color: #888;">Low Energy</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #1db954; font-size: 12px;"> Live</span></td>
                                    <td style="padding: 14px 12px;"><button onclick="event.stopPropagation(); openPageDetail('vday-meta-energy')" style="background: #282828; border: none; color: #888; padding: 4px 12px; border-radius: 4px; font-size: 11px; cursor: pointer;">View</button></td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer;" onclick="openPageDetail('vday-google-testimonial')">
                                    <td style="padding: 14px 16px;">
                                        <div style="font-weight: 600;">VDay-26 | Google Search | Generic Offer</div>
                                        <div style="font-size: 11px; color: #888;">Awaiting URL</div>
                                    </td>
                                    <td style="padding: 14px 12px;"><span style="font-size: 12px;">Collagen 25s</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #ec4899; font-size: 11px; font-family: monospace;">VDAY-26</span></td>
                                    <td style="padding: 14px 12px;"><span style="background: linear-gradient(135deg, rgba(234, 179, 8, 0.2), rgba(202, 138, 4, 0.2)); border: 1px solid rgba(234, 179, 8, 0.4); color: #fbbf24; padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600; white-space: nowrap;"> Google</span></td>
                                    <td style="padding: 14px 12px;">
                                        <span onclick="event.stopPropagation(); openOfferDetail('VDAY-COL25')" style="font-family: monospace; font-size: 11px; color: #888; cursor: pointer;">VDAY-COL25</span>
                                    </td>
                                    <td style="padding: 14px 12px;"><span style="background: rgba(255,255,255,0.08); color: #b3b3b3; padding: 2px 8px; border-radius: 3px; font-size: 10px;">Advertorial</span></td>
                                    <td style="padding: 14px 12px;"><span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 2px 8px; border-radius: 3px; font-size: 10px;">Problem/Solution</span></td>
                                    <td style="padding: 14px 12px;"><span style="font-size: 11px; color: #888;">Aging Skin</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #eab308; font-size: 12px;"> In Dev</span></td>
                                    <td style="padding: 14px 12px;"><button onclick="event.stopPropagation(); openAddUrlModal('vday-google-testimonial')" style="background: #1db954; border: none; color: #000; padding: 4px 12px; border-radius: 4px; font-size: 11px; cursor: pointer; font-weight: 600;">+ Add URL</button></td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer;" onclick="openPageDetail('eg-meta-weight')">
                                    <td style="padding: 14px 16px;">
                                        <div style="font-weight: 600;">Evergreen | Meta Retarget | 3-Pack Focus</div>
                                        <div style="font-size: 11px; color: #1db954;">instapage.com/collagen-weightloss</div>
                                    </td>
                                    <td style="padding: 14px 12px;"><span style="font-size: 12px;">Collagen 25s</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #1db954; font-size: 11px; font-family: monospace;">EVRGN</span></td>
                                    <td style="padding: 14px 12px;"><span style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(37, 99, 235, 0.2)); border: 1px solid rgba(59, 130, 246, 0.4); color: #60a5fa; padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600;"> Meta</span></td>
                                    <td style="padding: 14px 12px;">
                                        <span onclick="event.stopPropagation(); openOfferDetail('EG-COL25')" style="font-family: monospace; font-size: 11px; color: #1db954; cursor: pointer;">EG-COL25</span>
                                    </td>
                                    <td style="padding: 14px 12px;"><span style="background: rgba(255,255,255,0.08); color: #b3b3b3; padding: 2px 8px; border-radius: 3px; font-size: 10px;">Listicle</span></td>
                                    <td style="padding: 14px 12px;"><span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 2px 8px; border-radius: 3px; font-size: 10px;">Hidden Cause</span></td>
                                    <td style="padding: 14px 12px;"><span style="font-size: 11px; color: #888;">Weight Gain</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #1db954; font-size: 12px;"> Live</span></td>
                                    <td style="padding: 14px 12px;"><button onclick="event.stopPropagation(); openPageDetail('eg-meta-weight')" style="background: #282828; border: none; color: #888; padding: 4px 12px; border-radius: 4px; font-size: 11px; cursor: pointer;">View</button></td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer; opacity: 0.5;" onclick="openPageDetail('xmas-meta-joint')">
                                    <td style="padding: 14px 16px;">
                                        <div style="font-weight: 600;">Xmas 2025 - Meta - Joint Pain</div>
                                        <div style="font-size: 11px; color: #666;">instapage.com/xmas-meta-joint</div>
                                    </td>
                                    <td style="padding: 14px 12px;"><span style="font-size: 12px; color: #666;">Collagen 25s</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #666; font-size: 11px; font-family: monospace;">XMAS-25</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #666; font-size: 12px;">Meta</span></td>
                                    <td style="padding: 14px 12px;">
                                        <span style="font-family: monospace; font-size: 11px; color: #666;">XMAS-COL25</span>
                                    </td>
                                    <td style="padding: 14px 12px;"><span style="background: rgba(255,255,255,0.05); color: #666; padding: 2px 8px; border-radius: 3px; font-size: 10px;">Listicle</span></td>
                                    <td style="padding: 14px 12px;"><span style="background: rgba(255,255,255,0.05); color: #666; padding: 2px 8px; border-radius: 3px; font-size: 10px;">Fear</span></td>
                                    <td style="padding: 14px 12px;"><span style="font-size: 11px; color: #666;">Joint Pain</span></td>
                                    <td style="padding: 14px 12px;"><span style="color: #666; font-size: 12px;"> Ended</span></td>
                                    <td style="padding: 14px 12px;"><button onclick="event.stopPropagation(); openPageDetail('xmas-meta-joint')" style="background: #282828; border: none; color: #666; padding: 4px 12px; border-radius: 4px; font-size: 11px; cursor: pointer;">History</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Live Scanner View -->
            <div class="view" id="scanner-view">
                <div class="content-header">
                    <h1 class="header-title">Live Page Scanner</h1>
                    <p class="header-subtitle">Scanning promo prices across all channels  Valentine's Day Sale Active</p>
                </div>
                <div class="content-body">
                    <!-- Filter Row - Unified Style -->
                    <div style="display: flex; gap: 12px; margin-bottom: 24px; flex-wrap: wrap; align-items: flex-end;">
                        <!-- Product Filter -->
                        <div class="filter-dropdown" style="min-width: 160px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">PRODUCT</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Products</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> All Products</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Collagen 25s</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Collagen 56s</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Hydrate</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Creatine</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> MCT Oil</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Channel Filter -->
                        <div class="filter-dropdown" style="min-width: 160px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">CHANNEL</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Channels</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> All Channels</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Amazon</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Shopify</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Google</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  TigerTail</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Meta</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Status Filter -->
                        <div class="filter-dropdown" style="min-width: 150px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">STATUS</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Status</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> All Status</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Matches Only</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Mismatches Only</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Auto-scan status banner -->
                    <div style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); padding: 16px; border-radius: 8px; margin-bottom: 24px; display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="width: 12px; height: 12px; background: #3b82f6; border-radius: 50%; animation: pulse 2s infinite;"></div>
                            <div>
                                <div style="font-weight: 700;">Auto-Scan Active</div>
                                <div style="font-size: 12px; color: #b3b3b3;">Scanning all pages every hour  Next scan in 57 minutes</div>
                            </div>
                        </div>
                        <button onclick="scanAllPages()" style="background: #3b82f6; color: #fff; border: none; padding: 8px 16px; border-radius: 6px; font-weight: 600; cursor: pointer;">Scan Now</button>
                    </div>

                    <!-- Info banner explaining what's being scanned -->
                    <div style="background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); padding: 16px; border-radius: 8px; margin-bottom: 24px;">
                        <div style="font-weight: 700; margin-bottom: 8px;"> How Price Matching Works</div>
                        <div style="font-size: 13px; color: #b3b3b3; line-height: 1.6;">
                            Pages are linked to campaigns in Page Manager. Scanner checks if the live price matches the <strong style="color: #1db954;">approved promo pricing</strong> for that campaign. 
                            <br><br>
                            <strong style="color: #fff;"> Match</strong> = Price matches the active promo (e.g., VDay, Black Friday)<br>
                            <strong style="color: #ffc107;"> Mismatch</strong> = Price doesn't match expected promo - may need updating<br>
                            <strong style="color: #888;"> Evergreen</strong> = No active promo, showing base price
                        </div>
                    </div>
                    
                    <style>
                        @keyframes pulse {
                            0%, 100% { opacity: 1; }
                            50% { opacity: 0.5; }
                        }
                    </style>

                    <div class="scanner-card" data-channel="amazon">
                        <div class="scanner-header">
                            <h3 style="font-size: 18px; font-weight: 700;"> Amazon Product Pages</h3>
                            <div style="font-size: 12px; color: #1db954;"> Scanned 3 min ago</div>
                        </div>
                        <div class="scan-results" id="amazon-scan-results">
                            <div class="scan-result-item" data-product="collagen-25">
                                <div>
                                    <div style="font-weight: 600;">Collagen 25s - 3-Pack</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">amazon.com/dp/B08X...</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div>
                                        <div style="font-size: 18px; font-weight: 700; color: #1db954;">$87.00</div>
                                        <div style="font-size: 11px; color: #ffc107;">$14.97 off base</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <span class="approval-status approved"> Match</span>
                                        <div style="font-size: 10px; color: #1db954; margin-top: 4px;"> VDay Promo</div>
                                    </div>
                                </div>
                            </div>
                            <div class="scan-result-item" data-product="collagen-25">
                                <div>
                                    <div style="font-weight: 600;">Collagen 25s - 6-Pack</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">amazon.com/dp/B08X...</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div>
                                        <div style="font-size: 18px; font-weight: 700; color: #1db954;">$132.00</div>
                                        <div style="font-size: 11px; color: #ffc107;">$71.94 off base</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <span class="approval-status approved"> Match</span>
                                        <div style="font-size: 10px; color: #1db954; margin-top: 4px;"> VDay Promo</div>
                                    </div>
                                </div>
                            </div>
                            <div class="scan-result-item" data-product="hydrate">
                                <div>
                                    <div style="font-weight: 600;">Hydrate - 6-Pack</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">amazon.com/dp/B09Y...</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div>
                                        <div style="font-size: 18px; font-weight: 700; color: #ffc107;">$168.00</div>
                                        <div style="font-size: 11px; color: #888;">Base: $179.94  VDay: $163.20</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <span style="background: rgba(255, 193, 7, 0.2); color: #ffc107; padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: 600;"> Off by $4.80</span>
                                        <div style="font-size: 10px; color: #888; margin-top: 4px;">Not matching VDay promo</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="scanner-card" data-channel="shopify">
                        <div class="scanner-header">
                            <h3 style="font-size: 18px; font-weight: 700;"> Shopify Store</h3>
                            <div style="font-size: 12px; color: #1db954;"> Scanned 3 min ago</div>
                        </div>
                        <div class="scan-results" id="shopify-scan-results">
                            <div class="scan-result-item" data-product="collagen-25">
                                <div>
                                    <div style="font-weight: 600;">Collagen 25s - 3-Pack</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">nativepath.com/products/collagen-3</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div>
                                        <div style="font-size: 18px; font-weight: 700; color: #1db954;">$87.00</div>
                                        <div style="font-size: 11px; color: #ffc107;">$14.97 off base</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <span class="approval-status approved"> Match</span>
                                        <div style="font-size: 10px; color: #1db954; margin-top: 4px;"> VDay Promo</div>
                                    </div>
                                </div>
                            </div>
                            <div class="scan-result-item" data-product="mct-oil">
                                <div>
                                    <div style="font-weight: 600;">MCT Oil - 6-Pack</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">nativepath.com/products/mct-6</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div>
                                        <div style="font-size: 18px; font-weight: 700; color: #1db954;">$142.80</div>
                                        <div style="font-size: 11px; color: #ffc107;">$37.14 off base</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <span class="approval-status approved"> Match</span>
                                        <div style="font-size: 10px; color: #1db954; margin-top: 4px;"> VDay Promo</div>
                                    </div>
                                </div>
                            </div>
                            <div class="scan-result-item" data-product="krill">
                                <div>
                                    <div style="font-weight: 600;">Krill Oil - Single</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">nativepath.com/products/krill</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div>
                                        <div style="font-size: 18px; font-weight: 700; color: #888;">$39.99</div>
                                        <div style="font-size: 11px; color: #888;">Base price (no promo)</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <span style="background: rgba(136, 136, 136, 0.2); color: #888; padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: 600;"> Evergreen</span>
                                        <div style="font-size: 10px; color: #888; margin-top: 4px;">No active promo</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Instapage - Acquisition -->
                    <div class="scanner-card">
                        <div class="scanner-header">
                            <h3 style="font-size: 18px; font-weight: 700;"> Instapage - Acquisition (Cold Traffic)</h3>
                            <div style="font-size: 12px; color: #1db954;"> Scanned 3 min ago</div>
                        </div>
                        <div class="scan-results">
                            <div class="scan-result-item">
                                <div>
                                    <div style="font-weight: 600;">Valentine's Day - FB Ad LP</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">instapage.nativepath.com/vday-fb-collagen</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div style="font-size: 18px; font-weight: 700; color: #1db954;">$87.00</div>
                                    <span class="approval-status approved"> Match</span>
                                </div>
                            </div>
                            <div class="scan-result-item">
                                <div>
                                    <div style="font-weight: 600;">Valentine's Day - Google LP</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">instapage.nativepath.com/vday-google-collagen</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div style="font-size: 18px; font-weight: 700; color: #1db954;">$87.00</div>
                                    <span class="approval-status approved"> Match</span>
                                </div>
                            </div>
                            <div class="scan-result-item">
                                <div>
                                    <div style="font-weight: 600;">Valentine's Day - TikTok LP</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">instapage.nativepath.com/vday-tiktok-hydrate</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div style="font-size: 18px; font-weight: 700; color: #1db954;">$192.00</div>
                                    <span class="approval-status approved"> Match</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Instapage - Retention -->
                    <div class="scanner-card">
                        <div class="scanner-header">
                            <h3 style="font-size: 18px; font-weight: 700;"> Instapage - Retention (Email/SMS)</h3>
                            <div style="font-size: 12px; color: #1db954;"> Scanned 3 min ago</div>
                        </div>
                        <div class="scan-results">
                            <div class="scan-result-item">
                                <div>
                                    <div style="font-weight: 600;">Valentine's Day - Email VIP</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">instapage.nativepath.com/vday-email-vip</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div style="font-size: 18px; font-weight: 700; color: #1db954;">$79.00</div>
                                    <span class="approval-status approved"> Match</span>
                                </div>
                            </div>
                            <div class="scan-result-item">
                                <div>
                                    <div style="font-weight: 600;">Valentine's Day - SMS Blast</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">instapage.nativepath.com/vday-sms</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div style="font-size: 18px; font-weight: 700; color: #1db954;">$87.00</div>
                                    <span class="approval-status approved"> Match</span>
                                </div>
                            </div>
                            <div class="scan-result-item">
                                <div>
                                    <div style="font-weight: 600;">Win-Back Campaign</div>
                                    <div style="font-size: 12px; color: #b3b3b3;">instapage.nativepath.com/winback-collagen</div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px;">
                                    <div style="font-size: 18px; font-weight: 700; color: #1db954;">$75.00</div>
                                    <span class="approval-status approved"> Match</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(29, 185, 84, 0.1); border-left: 4px solid #1db954; padding: 16px; border-radius: 8px; margin-top: 24px;">
                        <div style="font-weight: 700; margin-bottom: 8px;"> How It Works</div>
                        <div style="font-size: 14px; color: #b3b3b3; line-height: 1.6;">
                            The scanner automatically fetches pricing data from your live URLs. It compares detected prices against approved pricing in the system and alerts you to any mismatches. You can manually trigger scans or set up automatic hourly checks.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Performance / A/B Testing View -->
            <div class="view" id="performance-view">
                <div class="content-header">
                    <h1 class="header-title">Testing</h1>
                    <p class="header-subtitle">CRO test results from HitPath  Statistical analysis  AI-powered insights</p>
                </div>
                <div class="content-body">
                    <!-- Testing Sub-Tabs -->
                    <div class="products-tabs" style="margin-bottom: 24px;">
                        <button class="products-tab active" onclick="switchTestingTab('tests', this)"> Tests</button>
                        <button class="products-tab" onclick="switchTestingTab('ai-insights', this)"> AI Insights</button>
                    </div>

                    <!-- Tests Tab -->
                    <div id="testing-tests-tab" class="products-tab-content active">
                    
                    <!-- Filters Row -->
                    <div style="display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; align-items: flex-end;">
                        <!-- Search Bar -->
                        <div style="flex: 1; min-width: 200px; max-width: 320px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">SEARCH</label>
                            <div style="position: relative;">
                                <input type="text" id="test-search-input" placeholder="Search by CID or test name..." oninput="searchTests()" style="width: 100%; padding: 10px 12px 10px 36px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; border-radius: 6px; font-size: 13px;">
                                <span style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #666; font-size: 14px;"></span>
                            </div>
                        </div>
                        
                        <!-- Status Filter -->
                        <div class="filter-dropdown" style="min-width: 140px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">STATUS</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Tests</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> All Tests</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Active</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span>  Completed</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Product Filter -->
                        <div class="filter-dropdown" style="min-width: 150px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">PRODUCT</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Products</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> All Products</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Collagen 25s</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Collagen 56s</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Creatine</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Hydrate</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Probiotics</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Complete Protein</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Berberine</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> MCT Oil</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Channel Filter -->
                        <div class="filter-dropdown" style="min-width: 140px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">CHANNEL</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Channels</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> All Channels</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> TikTok</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Meta</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Google</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> YouTube</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Email</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> SMS</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Test Type Filter -->
                        <div class="filter-dropdown" style="min-width: 150px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">TEST TYPE</label>
                            <div class="filter-select" onclick="toggleFilterDropdown(this)">
                                <span>All Types</span>
                                <span style="color: #666; font-size: 10px;"></span>
                            </div>
                            <div class="filter-menu">
                                <input type="text" placeholder="Search..." class="filter-search" oninput="filterOptions(this)">
                                <div class="filter-options">
                                    <div class="filter-option selected" onclick="selectFilterOption(this)"><span class="check"></span> All Types</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Shipping</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Pricing</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> LP Angle</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Offer Structure</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Upsell</div>
                                    <div class="filter-option" onclick="selectFilterOption(this)"><span class="check"></span> Checkout</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Search -->
                        <div style="flex: 1; min-width: 200px;">
                            <label style="font-size: 11px; color: #b3b3b3; display: block; margin-bottom: 4px;">SEARCH TESTS</label>
                            <input type="text" id="test-search-input" placeholder="Search by test name, CID, hypothesis..." oninput="searchTests(this.value)" style="width: 100%; padding: 10px 12px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; border-radius: 6px; font-size: 13px;">
                        </div>
                        
                        <button onclick="openAddTestModal()" style="padding: 10px 20px; background: #1db954; color: #000; border: none; border-radius: 6px; font-weight: 600; cursor: pointer;">+ New Test</button>
                    </div>
                    
                    <!-- Results Summary -->
                    <div style="display: flex; gap: 8px; margin-bottom: 20px; color: #888; font-size: 12px;">
                        <span>Showing <strong style="color: #fff;">8 tests</strong></span>
                        <span></span>
                        <span><span style="color: #1db954;">3 active</span></span>
                        <span></span>
                        <span><span style="color: #888;">5 completed</span></span>
                    </div>

                    <!-- Tests List -->
                    <div style="display: flex; flex-direction: column; gap: 16px;">
                        
                        <!-- Active Test 1 -->
                        <div class="test-card" style="background: #181818; border-radius: 8px; border: 1px solid rgba(255,255,255,0.08); overflow: hidden;">
                            <div style="padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.06);">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                                    <div>
                                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 6px;">
                                            <span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 3px 10px; border-radius: 4px; font-size: 11px; font-weight: 600;">ACTIVE</span>
                                            <span style="font-family: monospace; color: #888; font-size: 12px;">CID 1317</span>
                                        </div>
                                        <h3 style="font-size: 17px; font-weight: 700; margin-bottom: 6px;">Free Shipping Threshold Test</h3>
                                        <p style="font-size: 13px; color: #888;">Testing if lowering free shipping threshold from $75 to $50 increases conversion without hurting AOV</p>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 11px; color: #888;">Started</div>
                                        <div style="font-size: 13px; font-weight: 600;">Thu Dec 19, 2025</div>
                                        <div style="font-size: 11px; color: #1db954; margin-top: 4px;">18 days running</div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 16px; flex-wrap: wrap;">
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Collagen 25s
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> TikTok
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Cold Traffic
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Shipping Test
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Variants -->
                            <div style="padding: 20px; background: rgba(0,0,0,0.2);">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                    <div style="background: rgba(29,185,84,0.1); border: 1px solid rgba(29,185,84,0.3); border-radius: 8px; padding: 16px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                            <span style="font-weight: 600; font-size: 14px;">TEST: Free Shipping over $50</span>
                                            <span style="background: rgba(29,185,84,0.2); color: #1db954; padding: 2px 8px; border-radius: 4px; font-size: 10px; font-weight: 600;">WINNING</span>
                                        </div>
                                        <div style="font-size: 11px; color: #888; margin-bottom: 8px;">LPID 8077</div>
                                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; text-align: center;">
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Clicks</div>
                                                <div style="font-size: 15px; font-weight: 700;">2,004</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Sales</div>
                                                <div style="font-size: 15px; font-weight: 700;">159</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Conv %</div>
                                                <div style="font-size: 15px; font-weight: 700; color: #1db954;">7.93%</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">EPC</div>
                                                <div style="font-size: 15px; font-weight: 700;">$8.37</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">AOV</div>
                                                <div style="font-size: 15px; font-weight: 700;">$105.49</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 16px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                            <span style="font-weight: 600; font-size: 14px;">CONTROL: Free Shipping over $75</span>
                                        </div>
                                        <div style="font-size: 11px; color: #888; margin-bottom: 8px;">LPID 8078</div>
                                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; text-align: center;">
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Clicks</div>
                                                <div style="font-size: 15px; font-weight: 700;">2,000</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Sales</div>
                                                <div style="font-size: 15px; font-weight: 700;">154</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Conv %</div>
                                                <div style="font-size: 15px; font-weight: 700;">7.70%</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">EPC</div>
                                                <div style="font-size: 15px; font-weight: 700;">$7.93</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">AOV</div>
                                                <div style="font-size: 15px; font-weight: 700;">$103.00</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Deltas & Confidence -->
                                <div style="display: flex; gap: 16px; align-items: center; justify-content: space-between; flex-wrap: wrap;">
                                    <div style="display: flex; gap: 16px;">
                                        <div style="background: rgba(29,185,84,0.1); padding: 8px 14px; border-radius: 6px;">
                                            <span style="font-size: 11px; color: #888;">Conv </span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 8px;">+0.23%</span>
                                            <span style="font-size: 11px; color: #888; margin-left: 4px;">(+3%)</span>
                                        </div>
                                        <div style="background: rgba(29,185,84,0.1); padding: 8px 14px; border-radius: 6px;">
                                            <span style="font-size: 11px; color: #888;">EPC </span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 8px;">+$0.44</span>
                                            <span style="font-size: 11px; color: #888; margin-left: 4px;">(+6%)</span>
                                        </div>
                                        <div style="background: rgba(29,185,84,0.1); padding: 8px 14px; border-radius: 6px;">
                                            <span style="font-size: 11px; color: #888;">AOV </span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 8px;">+$2.49</span>
                                            <span style="font-size: 11px; color: #888; margin-left: 4px;">(+2%)</span>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="text-align: right;">
                                            <div style="font-size: 10px; color: #888;">Statistical Confidence</div>
                                            <div style="font-size: 20px; font-weight: 700; color: #eab308;">38%</div>
                                        </div>
                                        <div style="width: 100px; background: rgba(255,255,255,0.1); border-radius: 4px; height: 8px;">
                                            <div style="width: 38%; background: linear-gradient(90deg, #eab308, #1db954); height: 100%; border-radius: 4px;"></div>
                                        </div>
                                        <div style="font-size: 10px; color: #888;">Need 95%</div>
                                    </div>
                                </div>
                                
                                <!-- More Info Button -->
                                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.06);">
                                    <button onclick="openTestDetailModal('1317')" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.08)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">
                                         View Detailed Test Data
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Active Test 2 -->
                        <div class="test-card" style="background: #181818; border-radius: 8px; border: 1px solid rgba(255,255,255,0.08); overflow: hidden;">
                            <div style="padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.06);">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                                    <div>
                                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 6px;">
                                            <span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 3px 10px; border-radius: 4px; font-size: 11px; font-weight: 600;">ACTIVE</span>
                                            <span style="font-family: monospace; color: #888; font-size: 12px;">CID 1829</span>
                                        </div>
                                        <h3 style="font-size: 17px; font-weight: 700; margin-bottom: 6px;">LP Angle Test - Energy vs Joint Pain</h3>
                                        <p style="font-size: 13px; color: #888;">Testing which pain point messaging converts better for Creatine on Meta cold traffic</p>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 11px; color: #888;">Started</div>
                                        <div style="font-size: 13px; font-weight: 600;">Mon Jan 2, 2026</div>
                                        <div style="font-size: 11px; color: #eab308; margin-top: 4px;">4 days running</div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 16px; flex-wrap: wrap;">
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Creatine
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Meta
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Cold Traffic
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> LP Angle Test
                                    </div>
                                </div>
                            </div>
                            
                            <div style="padding: 20px; background: rgba(0,0,0,0.2);">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                    <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 16px;">
                                        <div style="margin-bottom: 12px;">
                                            <span style="font-weight: 600; font-size: 14px;">A: "Boost Your Energy" Angle</span>
                                        </div>
                                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; text-align: center;">
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Clicks</div>
                                                <div style="font-size: 15px; font-weight: 700;">342</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Sales</div>
                                                <div style="font-size: 15px; font-weight: 700;">14</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Conv %</div>
                                                <div style="font-size: 15px; font-weight: 700;">4.09%</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">EPC</div>
                                                <div style="font-size: 15px; font-weight: 700;">$3.64</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">AOV</div>
                                                <div style="font-size: 15px; font-weight: 700;">$89.00</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 16px;">
                                        <div style="margin-bottom: 12px;">
                                            <span style="font-weight: 600; font-size: 14px;">B: "Relieve Joint Pain" Angle</span>
                                        </div>
                                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; text-align: center;">
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Clicks</div>
                                                <div style="font-size: 15px; font-weight: 700;">338</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Sales</div>
                                                <div style="font-size: 15px; font-weight: 700;">18</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">Conv %</div>
                                                <div style="font-size: 15px; font-weight: 700; color: #1db954;">5.33%</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">EPC</div>
                                                <div style="font-size: 15px; font-weight: 700;">$5.01</div>
                                            </div>
                                            <div>
                                                <div style="font-size: 10px; color: #888;">AOV</div>
                                                <div style="font-size: 15px; font-weight: 700;">$94.00</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Deltas & Confidence -->
                                <div style="display: flex; gap: 16px; align-items: center; justify-content: space-between; flex-wrap: wrap;">
                                    <div style="display: flex; gap: 16px;">
                                        <div style="background: rgba(29,185,84,0.1); padding: 8px 14px; border-radius: 6px;">
                                            <span style="font-size: 11px; color: #888;">Conv </span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 8px;">+1.24%</span>
                                            <span style="font-size: 11px; color: #888; margin-left: 4px;">(+30%)</span>
                                        </div>
                                        <div style="background: rgba(29,185,84,0.1); padding: 8px 14px; border-radius: 6px;">
                                            <span style="font-size: 11px; color: #888;">EPC </span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 8px;">+$1.37</span>
                                            <span style="font-size: 11px; color: #888; margin-left: 4px;">(+38%)</span>
                                        </div>
                                        <div style="background: rgba(29,185,84,0.1); padding: 8px 14px; border-radius: 6px;">
                                            <span style="font-size: 11px; color: #888;">AOV </span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 8px;">+$5.00</span>
                                            <span style="font-size: 11px; color: #888; margin-left: 4px;">(+6%)</span>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="text-align: right;">
                                            <div style="font-size: 10px; color: #888;">Statistical Confidence</div>
                                            <div style="font-size: 20px; font-weight: 700; color: #ef4444;">18%</div>
                                        </div>
                                        <div style="width: 100px; background: rgba(255,255,255,0.1); border-radius: 4px; height: 8px;">
                                            <div style="width: 18%; background: linear-gradient(90deg, #ef4444, #eab308); height: 100%; border-radius: 4px;"></div>
                                        </div>
                                        <div style="font-size: 10px; color: #888;">Need 95%</div>
                                    </div>
                                </div>
                                
                                <!-- More Info Button -->
                                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.06);">
                                    <button onclick="openTestDetailModal('1829')" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.08)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">
                                         View Detailed Test Data
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Active Test 3 -->
                        <div class="test-card" style="background: #181818; border-radius: 8px; border: 1px solid rgba(255,255,255,0.08); overflow: hidden;">
                            <div style="padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.06);">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                                    <div>
                                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 6px;">
                                            <span style="background: rgba(29,185,84,0.15); color: #1db954; padding: 3px 10px; border-radius: 4px; font-size: 11px; font-weight: 600;">ACTIVE</span>
                                            <span style="font-family: monospace; color: #888; font-size: 12px;">CID 2045</span>
                                        </div>
                                        <h3 style="font-size: 17px; font-weight: 700; margin-bottom: 6px;">Upsell Flow Test - 1-Click vs Modal</h3>
                                        <p style="font-size: 13px; color: #888;">Testing 1-click upsell button vs modal popup for Hydrate add-on after Collagen purchase</p>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 11px; color: #888;">Started</div>
                                        <div style="font-size: 13px; font-weight: 600;">Sat Jan 4, 2026</div>
                                        <div style="font-size: 11px; color: #eab308; margin-top: 4px;">2 days running</div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 16px; flex-wrap: wrap;">
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Hydrate (Upsell)
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> All Channels
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Upsell Test
                                    </div>
                                </div>
                            </div>
                            
                            <div style="padding: 20px; background: rgba(0,0,0,0.2);">
                                <div style="background: rgba(59,130,246,0.1); border: 1px solid rgba(59,130,246,0.3); border-radius: 6px; padding: 12px;">
                                    <span style="color: #3b82f6; font-size: 13px;"> <strong>Collecting data</strong>  Test started 2 days ago, initial results will be available after 100+ upsell impressions</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Completed Test 1 -->
                        <div class="test-card" style="background: #181818; border-radius: 8px; border: 1px solid rgba(255,255,255,0.08); overflow: hidden; opacity: 0.85;">
                            <div style="padding: 20px;">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                                    <div>
                                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 6px;">
                                            <span style="background: rgba(255,255,255,0.08); color: #888; padding: 3px 10px; border-radius: 4px; font-size: 11px; font-weight: 600;">COMPLETED</span>
                                            <span style="font-family: monospace; color: #666; font-size: 12px;">CID 1720</span>
                                        </div>
                                        <h3 style="font-size: 17px; font-weight: 700; margin-bottom: 6px;">Pack Size Test - 1 Pack vs 3 Pack Default</h3>
                                        <p style="font-size: 13px; color: #888;">Tested which pack size to show as default selection on Collagen LP</p>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 11px; color: #888;">Ran</div>
                                        <div style="font-size: 13px;">Nov 15 - Dec 10, 2025</div>
                                        <div style="font-size: 11px; color: #888; margin-top: 4px;">25 days</div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 16px; flex-wrap: wrap; margin-bottom: 16px;">
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Collagen 25s
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Meta
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Offer Structure
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; background: rgba(29,185,84,0.1); border-radius: 6px;">
                                    <div>
                                        <span style="font-size: 13px; color: #888;">Winner:</span>
                                        <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 8px;">3-Pack Default</span>
                                    </div>
                                    <div style="display: flex; gap: 16px;">
                                        <div>
                                            <span style="font-size: 11px; color: #888;">Conv Lift</span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 6px;">+34%</span>
                                        </div>
                                        <div>
                                            <span style="font-size: 11px; color: #888;">AOV Lift</span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 6px;">+$42</span>
                                        </div>
                                        <div>
                                            <span style="font-size: 11px; color: #888;">Confidence</span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 6px;">97%</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- More Info Button -->
                                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.06);">
                                    <button onclick="openTestDetailModal('1720')" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.08)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">
                                         View Detailed Test Data
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Completed Test 2 -->
                        <div class="test-card" style="background: #181818; border-radius: 8px; border: 1px solid rgba(255,255,255,0.08); overflow: hidden; opacity: 0.85;">
                            <div style="padding: 20px;">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                                    <div>
                                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 6px;">
                                            <span style="background: rgba(255,255,255,0.08); color: #888; padding: 3px 10px; border-radius: 4px; font-size: 11px; font-weight: 600;">COMPLETED</span>
                                            <span style="font-family: monospace; color: #666; font-size: 12px;">CID 1278</span>
                                        </div>
                                        <h3 style="font-size: 17px; font-weight: 700; margin-bottom: 6px;">Hook Test - Joint Pain vs Energy</h3>
                                        <p style="font-size: 13px; color: #888;">Tested headline angles for Berberine on Google warm traffic</p>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 11px; color: #888;">Ran</div>
                                        <div style="font-size: 13px;">Oct 1 - Oct 28, 2025</div>
                                        <div style="font-size: 11px; color: #888; margin-top: 4px;">27 days</div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 16px; flex-wrap: wrap; margin-bottom: 16px;">
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Berberine
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Google
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> LP Angle Test
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; background: rgba(29,185,84,0.1); border-radius: 6px;">
                                    <div>
                                        <span style="font-size: 13px; color: #888;">Winner:</span>
                                        <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 8px;">Joint Pain Hook</span>
                                    </div>
                                    <div style="display: flex; gap: 16px;">
                                        <div>
                                            <span style="font-size: 11px; color: #888;">CTR Lift</span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 6px;">+28%</span>
                                        </div>
                                        <div>
                                            <span style="font-size: 11px; color: #888;">Conv Lift</span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 6px;">+15%</span>
                                        </div>
                                        <div>
                                            <span style="font-size: 11px; color: #888;">Confidence</span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 6px;">96%</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- More Info Button -->
                                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.06);">
                                    <button onclick="openTestDetailModal('1624')" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.08)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">
                                         View Detailed Test Data
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Completed Test 3 -->
                        <div class="test-card" style="background: #181818; border-radius: 8px; border: 1px solid rgba(255,255,255,0.08); overflow: hidden; opacity: 0.85;">
                            <div style="padding: 20px;">
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                                    <div>
                                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 6px;">
                                            <span style="background: rgba(255,255,255,0.08); color: #888; padding: 3px 10px; border-radius: 4px; font-size: 11px; font-weight: 600;">COMPLETED</span>
                                            <span style="font-family: monospace; color: #666; font-size: 12px;">CID 1359</span>
                                        </div>
                                        <h3 style="font-size: 17px; font-weight: 700; margin-bottom: 6px;">Pricing Test - $87 vs $79 3-Pack</h3>
                                        <p style="font-size: 13px; color: #888;">Tested price sensitivity for Collagen 3-pack on Facebook cold traffic</p>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 11px; color: #888;">Ran</div>
                                        <div style="font-size: 13px;">Sep 5 - Sep 30, 2025</div>
                                        <div style="font-size: 11px; color: #888; margin-top: 4px;">25 days</div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 16px; flex-wrap: wrap; margin-bottom: 16px;">
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Collagen 25s
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Meta
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: #888;">
                                        <span></span> Pricing Test
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; background: rgba(29,185,84,0.1); border-radius: 6px;">
                                    <div>
                                        <span style="font-size: 13px; color: #888;">Winner:</span>
                                        <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 8px;">$87 (Higher Price)</span>
                                    </div>
                                    <div style="display: flex; gap: 16px;">
                                        <div>
                                            <span style="font-size: 11px; color: #888;">Rev/Click</span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 6px;">+8%</span>
                                        </div>
                                        <div>
                                            <span style="font-size: 11px; color: #888;">Margin</span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 6px;">+$4.20</span>
                                        </div>
                                        <div>
                                            <span style="font-size: 11px; color: #888;">Confidence</span>
                                            <span style="font-size: 14px; font-weight: 700; color: #1db954; margin-left: 6px;">94%</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- More Info Button -->
                                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.06);">
                                    <button onclick="openTestDetailModal('1452')" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.08)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">
                                         View Detailed Test Data
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
            <!-- Add Test Modal -->
            <div id="add-test-modal" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 10000; align-items: center; justify-content: center;">
                <div style="background: #181818; border-radius: 6px; padding: 32px; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <h2 style="font-size: 20px; font-weight: 700;">Add Test Results</h2>
                        <button onclick="closeAddTestModal()" style="background: none; border: none; color: #888; font-size: 24px; cursor: pointer;"></button>
                    </div>
                    
                    <div style="display: flex; flex-direction: column; gap: 16px;">
                        <div>
                            <label style="display: block; font-size: 12px; color: #888; margin-bottom: 6px;">Test Name</label>
                            <input type="text" placeholder="e.g., Discount Level Test" style="width: 100%; padding: 12px; background: #282828; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #fff; font-size: 14px;">
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                            <div>
                                <label style="display: block; font-size: 12px; color: #888; margin-bottom: 6px;">Channel</label>
                                <select style="width: 100%; padding: 12px; background: #282828; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #fff; font-size: 14px;">
                                    <option>Meta</option>
                                    <option>Google</option>
                                    <option>YouTube</option>
                                    <option>Email</option>
                                    <option>SMS</option>
                                </select>
                            </div>
                            <div>
                                <label style="display: block; font-size: 12px; color: #888; margin-bottom: 6px;">Traffic Type</label>
                                <select style="width: 100%; padding: 12px; background: #282828; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #fff; font-size: 14px;">
                                    <option>Cold</option>
                                    <option>Warm</option>
                                    <option>Retargeting</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label style="display: block; font-size: 12px; color: #888; margin-bottom: 6px;">Product</label>
                            <select style="width: 100%; padding: 12px; background: #282828; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #fff; font-size: 14px;">
                                <option>Collagen 25s</option>
                                <option>Collagen 56s</option>
                                <option>Hydrate</option>
                                <option>Creatine</option>
                                <option>MCT Oil</option>
                            </select>
                        </div>

                        <div style="background: #282828; border-radius: 8px; padding: 16px;">
                            <div style="font-weight: 600; margin-bottom: 12px;">Variant A</div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                <input type="text" placeholder="Name (e.g., 15% off)" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                                <input type="number" placeholder="Orders" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                                <input type="number" step="0.1" placeholder="CVR %" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                                <input type="number" placeholder="AOV $" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                                <input type="number" step="0.1" placeholder="ROAS" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                                <input type="number" placeholder="Revenue $" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                            </div>
                        </div>

                        <div style="background: #282828; border-radius: 8px; padding: 16px;">
                            <div style="font-weight: 600; margin-bottom: 12px;">Variant B</div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                <input type="text" placeholder="Name (e.g., 27% off)" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                                <input type="number" placeholder="Orders" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                                <input type="number" step="0.1" placeholder="CVR %" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                                <input type="number" placeholder="AOV $" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                                <input type="number" step="0.1" placeholder="ROAS" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                                <input type="number" placeholder="Revenue $" style="padding: 10px; background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #fff; font-size: 13px;">
                            </div>
                        </div>

                        <button style="width: 100%; padding: 14px; background: #1db954; color: #000; border: none; border-radius: 8px; font-weight: 700; font-size: 14px; cursor: pointer; margin-top: 8px;">Save Test Results</button>
                    </div>
                </div>
            </div>

                    </div>
                    <!-- End Tests Tab -->

                    <!-- AI Insights Tab -->
                    <div id="testing-ai-insights-tab" class="products-tab-content">
                        <!-- AI Insights Card -->
                        <div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(139, 92, 246, 0.1) 100%); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 8px; padding: 24px; margin-bottom: 24px;">
                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                <span style="font-size: 24px;"></span>
                                <h3 style="font-size: 16px; font-weight: 700;">AI Insights</h3>
                                <span style="background: rgba(59, 130, 246, 0.2); color: #3b82f6; padding: 2px 8px; border-radius: 4px; font-size: 10px; font-weight: 600;">BETA</span>
                                <div style="margin-left: auto; display: flex; gap: 8px;">
                                    <button class="insight-tab active" onclick="switchInsightTab(this, 'all')">All</button>
                                    <button class="insight-tab" onclick="switchInsightTab(this, 'collagen')">Collagen</button>
                                    <button class="insight-tab" onclick="switchInsightTab(this, 'creatine')">Creatine</button>
                                    <button class="insight-tab" onclick="switchInsightTab(this, 'hydrate')">Hydrate</button>
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px;">
                                <div style="background: rgba(0,0,0,0.2); padding: 16px; border-radius: 8px;">
                                    <div style="font-size: 11px; color: #888; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;"> Winning Pattern</div>
                                    <div style="font-size: 14px; line-height: 1.5;">
                                        <strong style="color: #1db954;">Free Shipping threshold at $50</strong> outperforms $75 threshold by <strong style="color: #1db954;">+12% conversion</strong> across all products.
                                    </div>
                                </div>
                                <div style="background: rgba(0,0,0,0.2); padding: 16px; border-radius: 8px;">
                                    <div style="font-size: 11px; color: #888; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;"> Similar Test Found</div>
                                    <div style="font-size: 14px; line-height: 1.5;">
                                        <strong style="color: #eab308;">Shipping test (CID 1317)</strong> matches previous test on Creatine from Oct 2025 - consider applying winning variant.
                                    </div>
                                </div>
                                <div style="background: rgba(0,0,0,0.2); padding: 16px; border-radius: 8px;">
                                    <div style="font-size: 11px; color: #888; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;"> Recommendation</div>
                                    <div style="font-size: 14px; line-height: 1.5;">
                                        Based on <strong style="color: #3b82f6;">12 similar tests</strong>, "Joint Pain" angles convert 28% better than "Energy" - not yet tested on Google.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- More AI Insights Content -->
                        <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); border-radius: 8px; padding: 24px;">
                            <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">Cross-Product Insights</h3>
                            <div style="display: grid; gap: 16px;">
                                <div style="background: rgba(255,255,255,0.02); padding: 16px; border-radius: 6px; border-left: 3px solid #1db954;">
                                    <div style="font-size: 12px; color: #1db954; font-weight: 600; margin-bottom: 6px;">PROVEN WINNER</div>
                                    <div style="font-size: 14px; line-height: 1.5;">
                                        "Before/After" imagery increases conversion by <strong>+18%</strong> across Collagen, Creatine, and Probiotics.
                                    </div>
                                </div>
                                <div style="background: rgba(255,255,255,0.02); padding: 16px; border-radius: 6px; border-left: 3px solid #eab308;">
                                    <div style="font-size: 12px; color: #eab308; font-weight: 600; margin-bottom: 6px;">WORTH TESTING</div>
                                    <div style="font-size: 14px; line-height: 1.5;">
                                        Social proof sections perform better at the <strong>middle</strong> of the page rather than top. Consider testing on new products.
                                    </div>
                                </div>
                                <div style="background: rgba(255,255,255,0.02); padding: 16px; border-radius: 6px; border-left: 3px solid #3b82f6;">
                                    <div style="font-size: 12px; color: #3b82f6; font-weight: 600; margin-bottom: 6px;">INSIGHT</div>
                                    <div style="font-size: 14px; line-height: 1.5;">
                                        Video testimonials achieve <strong>+25% higher engagement</strong> than text reviews on landing pages.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End AI Insights Tab -->
                </div>
            </div>

            <!-- Launches View -->
            <!-- Free Gifts Library View -->
            <div class="view" id="free-gifts-view">
                <div class="content-header">
                    <h1 class="header-title">Free Gifts Library</h1>
                    <p class="header-subtitle">All available free gift options  Inventory tracking  Gift assignment</p>
                </div>
                <div class="content-body">
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 24px;">
                        
                        <!-- Frother -->
                        <div style="background: #181818; border-radius: 6px; padding: 24px;">
                            <div style="font-size: 48px; text-align: center; margin-bottom: 16px;"></div>
                            <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 8px; text-align: center;">Frother</h3>
                            <div style="text-align: center; color: #b3b3b3; font-size: 14px; margin-bottom: 16px;">Electric Milk Frother</div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">USED WITH PRODUCTS:</div>
                                <div style="font-size: 12px; font-weight: 600;">Collagen, Collagen 56s, MCT Oil, Bone Health Collagen, Joint Health Collagen, Flavored Collagen, Creamers, Complete Protein</div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">INVENTORY:</div>
                                <div style="font-size: 18px; font-weight: 700; color: #1db954;">1,247 units</div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">COST PER UNIT:</div>
                                <div style="font-size: 16px; font-weight: 700;">$4.50</div>
                            </div>
                        </div>

                        <!-- Tumbler -->
                        <div style="background: #181818; border-radius: 6px; padding: 24px;">
                            <div style="font-size: 48px; text-align: center; margin-bottom: 16px;"></div>
                            <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 8px; text-align: center;">Tumbler</h3>
                            <div style="text-align: center; color: #b3b3b3; font-size: 14px; margin-bottom: 16px;">20oz Insulated Tumbler</div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">USED WITH PRODUCTS:</div>
                                <div style="font-size: 12px; font-weight: 600;">Collagen, Collagen 56s, Hydrate, Fiber, Bone Health Collagen, Joint Health Collagen, Colostrum, NAC, Organ Complex, Flavored Collagen, Complete Protein</div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">INVENTORY:</div>
                                <div style="font-size: 18px; font-weight: 700; color: #ffc107;">892 units</div>
                                <div style="font-size: 10px; color: #ffc107; margin-top: 2px;"> Running low</div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">COST PER UNIT:</div>
                                <div style="font-size: 16px; font-weight: 700;">$6.25</div>
                            </div>
                        </div>

                        <!-- Shaker -->
                        <div style="background: #181818; border-radius: 6px; padding: 24px;">
                            <div style="font-size: 48px; text-align: center; margin-bottom: 16px;"></div>
                            <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 8px; text-align: center;">Shaker Bottle</h3>
                            <div style="text-align: center; color: #b3b3b3; font-size: 14px; margin-bottom: 16px;">28oz Protein Shaker</div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">USED WITH PRODUCTS:</div>
                                <div style="font-size: 12px; font-weight: 600;">Collagen, Hydrate, Creatine, Colostrum, Organ Complex, Hydrate Stick Packs, Complete Protein</div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">INVENTORY:</div>
                                <div style="font-size: 18px; font-weight: 700; color: #1db954;">2,104 units</div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">COST PER UNIT:</div>
                                <div style="font-size: 16px; font-weight: 700;">$3.75</div>
                            </div>
                        </div>

                        <!-- Tote -->
                        <div style="background: #181818; border-radius: 6px; padding: 24px;">
                            <div style="font-size: 48px; text-align: center; margin-bottom: 16px;"></div>
                            <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 8px; text-align: center;">Tote Bag</h3>
                            <div style="text-align: center; color: #b3b3b3; font-size: 14px; margin-bottom: 16px;">Canvas Tote Bag</div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">USED WITH PRODUCTS:</div>
                                <div style="font-size: 12px; font-weight: 600;">Krill Oil, Hydrate Stick Packs</div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">INVENTORY:</div>
                                <div style="font-size: 18px; font-weight: 700; color: #1db954;">1,556 units</div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">COST PER UNIT:</div>
                                <div style="font-size: 16px; font-weight: 700;">$2.50</div>
                            </div>
                        </div>

                        <!-- Mug -->
                        <div style="background: #181818; border-radius: 6px; padding: 24px;">
                            <div style="font-size: 48px; text-align: center; margin-bottom: 16px;"></div>
                            <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 8px; text-align: center;">Coffee Mug</h3>
                            <div style="text-align: center; color: #b3b3b3; font-size: 14px; margin-bottom: 16px;">12oz Ceramic Mug</div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">USED WITH PRODUCTS:</div>
                                <div style="font-size: 12px; font-weight: 600;">Berberine, Liposomal Vitamin C, D3K2, CoQ10, Creamers</div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 12px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">INVENTORY:</div>
                                <div style="font-size: 18px; font-weight: 700; color: #dc2626;">342 units</div>
                                <div style="font-size: 10px; color: #dc2626; margin-top: 2px;"> Critical - Reorder needed</div>
                            </div>
                            
                            <div style="background: rgba(255, 255, 255, 0.05); padding: 12px; border-radius: 8px;">
                                <div style="font-size: 11px; color: #b3b3b3; margin-bottom: 4px;">COST PER UNIT:</div>
                                <div style="font-size: 16px; font-weight: 700;">$5.00</div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 48px; background: rgba(29, 185, 84, 0.1); border-left: 4px solid #1db954; padding: 24px; border-radius: 8px;">
                        <h3 style="font-size: 18px; font-weight: 700; margin-bottom: 12px;"> Free Gift Strategy</h3>
                        <div style="font-size: 14px; color: #b3b3b3; line-height: 1.8;">
                            <p style="margin-bottom: 12px;"><strong style="color: #ffffff;">Bundle-Based Gifting:</strong> Free gifts are awarded on 3-Pack and 6-Pack purchases to incentivize larger orders and increase AOV (Average Order Value).</p>
                            <p style="margin-bottom: 12px;"><strong style="color: #ffffff;">Gift Selection:</strong> Each product is paired with complementary gifts that enhance the customer experience (e.g., Frother with Collagen, Shaker with Protein).</p>
                            <p><strong style="color: #ffffff;">Inventory Monitoring:</strong> Track inventory levels to prevent overselling. Gifts marked as "Running Low" or "Critical" should be reordered or temporarily removed from promotions.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Margin Calculator View (Spreadsheet Style) -->
            <div class="view" id="margin-calc-view">
                <div class="content-header">
                    <h1 class="header-title">Margin Calculator</h1>
                    <p class="header-subtitle">Calculate margins with take rates, shipping, and discounts  Add rows to compare scenarios</p>
                </div>
                <div class="content-body">
                    <!-- Instructions -->
                    <div style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); padding: 16px; border-radius: 8px; margin-bottom: 24px;">
                        <div style="font-weight: 700; margin-bottom: 8px;"> How to Use</div>
                        <div style="font-size: 13px; color: #b3b3b3;">Enter your pricing data in the spreadsheet below. Margins auto-calculate based on: <strong style="color: #fff;">Revenue = (Price - Discount)  (1 - Take Rate)</strong> and <strong style="color: #fff;">Margin = (Revenue - COGS - Shipping) / Revenue</strong></div>
                    </div>

                    <!-- Spreadsheet Table -->
                    <div style="overflow-x: auto; margin-bottom: 24px;">
                        <table id="margin-spreadsheet" style="width: 100%; border-collapse: collapse; background: #181818; border-radius: 6px; overflow: hidden;">
                            <thead>
                                <tr style="background: #282828;">
                                    <th style="padding: 12px 16px; text-align: left; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);">PRODUCT</th>
                                    <th style="padding: 12px 16px; text-align: center; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);">UNIT</th>
                                    <th style="padding: 12px 16px; text-align: center; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);">NEW PRICE</th>
                                    <th style="padding: 12px 16px; text-align: center; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);">COGS</th>
                                    <th style="padding: 12px 16px; text-align: center; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);">DISCOUNT %</th>
                                    <th style="padding: 12px 16px; text-align: center; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);">SHIPPING</th>
                                    <th style="padding: 12px 16px; text-align: center; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);">TOTAL PRICE</th>
                                    <th style="padding: 12px 16px; text-align: center; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);">TAKE RATE %</th>
                                    <th style="padding: 12px 16px; text-align: center; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);">REVENUE</th>
                                    <th style="padding: 12px 16px; text-align: center; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);">MARGIN</th>
                                    <th style="padding: 12px 16px; text-align: center; font-size: 11px; font-weight: 600; color: #b3b3b3; border-bottom: 1px solid rgba(255,255,255,0.1);"></th>
                                </tr>
                            </thead>
                            <tbody id="spreadsheet-body">
                                <!-- Row 1: Collagen Single -->
                                <tr class="spreadsheet-row" style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                                    <td style="padding: 12px 16px;"><input type="text" value="Collagen" class="ss-input ss-product" style="width: 100%; background: transparent; border: 1px solid transparent; color: #fff; padding: 8px; border-radius: 4px; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="1" class="ss-input ss-unit" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="33.99" step="0.01" class="ss-input ss-price" style="width: 80px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="15.34" step="0.01" class="ss-input ss-cogs" style="width: 80px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="0" class="ss-input ss-discount" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="9.00" step="0.01" class="ss-input ss-shipping" style="width: 70px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span class="ss-total" style="font-weight: 600; color: #fff;">$42.99</span></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="30" class="ss-input ss-takerate" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span class="ss-revenue" style="font-weight: 600; color: #3b82f6;">$30.09</span></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span class="ss-margin" style="font-weight: 700; font-size: 14px; color: #1db954;">64.32%</span></td>
                                    <td style="padding: 12px 8px; text-align: center;"><button onclick="deleteRow(this)" style="background: none; border: none; color: #666; cursor: pointer; font-size: 16px;"></button></td>
                                </tr>
                                <!-- Row 2: Collagen 3-Pack -->
                                <tr class="spreadsheet-row" style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                                    <td style="padding: 12px 16px;"><input type="text" value="Collagen" class="ss-input ss-product" style="width: 100%; background: transparent; border: 1px solid transparent; color: #fff; padding: 8px; border-radius: 4px; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="3" class="ss-input ss-unit" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="29.00" step="0.01" class="ss-input ss-price" style="width: 80px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="23.76" step="0.01" class="ss-input ss-cogs" style="width: 80px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="15" class="ss-input ss-discount" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="0" step="0.01" class="ss-input ss-shipping" style="width: 70px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span class="ss-total" style="font-weight: 600; color: #fff;">$87.00</span></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="30" class="ss-input ss-takerate" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span class="ss-revenue" style="font-weight: 600; color: #3b82f6;">$60.90</span></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span class="ss-margin" style="font-weight: 700; font-size: 14px; color: #1db954;">72.69%</span></td>
                                    <td style="padding: 12px 8px; text-align: center;"><button onclick="deleteRow(this)" style="background: none; border: none; color: #666; cursor: pointer; font-size: 16px;"></button></td>
                                </tr>
                                <!-- Row 3: Collagen 6-Pack -->
                                <tr class="spreadsheet-row" style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                                    <td style="padding: 12px 16px;"><input type="text" value="Collagen" class="ss-input ss-product" style="width: 100%; background: transparent; border: 1px solid transparent; color: #fff; padding: 8px; border-radius: 4px; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="6" class="ss-input ss-unit" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="22.00" step="0.01" class="ss-input ss-price" style="width: 80px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="36.39" step="0.01" class="ss-input ss-cogs" style="width: 80px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="35" class="ss-input ss-discount" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="0" step="0.01" class="ss-input ss-shipping" style="width: 70px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span class="ss-total" style="font-weight: 600; color: #fff;">$132.00</span></td>
                                    <td style="padding: 12px 8px; text-align: center;"><input type="number" value="40" class="ss-input ss-takerate" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span class="ss-revenue" style="font-weight: 600; color: #3b82f6;">$79.20</span></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span class="ss-margin" style="font-weight: 700; font-size: 14px; color: #1db954;">72.43%</span></td>
                                    <td style="padding: 12px 8px; text-align: center;"><button onclick="deleteRow(this)" style="background: none; border: none; color: #666; cursor: pointer; font-size: 16px;"></button></td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr style="background: rgba(29, 185, 84, 0.1);">
                                    <td colspan="6" style="padding: 12px 16px; font-weight: 600;">Collagen - Blended</td>
                                    <td style="padding: 12px 8px; text-align: center;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span id="blended-revenue" style="font-weight: 600; color: #3b82f6;">$170.19</span></td>
                                    <td style="padding: 12px 8px; text-align: center;"><span id="blended-margin" style="font-weight: 700; font-size: 14px; color: #1db954;">71.37%</span></td>
                                    <td></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>

                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 12px; margin-bottom: 32px;">
                        <button onclick="addSpreadsheetRow()" style="padding: 12px 24px; background: #3b82f6; color: #fff; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                            <span style="font-size: 16px;">+</span> Add Row
                        </button>
                        <button onclick="recalculateAll()" style="padding: 12px 24px; background: rgba(255,255,255,0.1); color: #fff; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">
                             Recalculate All
                        </button>
                        <button onclick="exportToCSV()" style="padding: 12px 24px; background: rgba(255,255,255,0.1); color: #fff; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">
                             Export CSV
                        </button>
                    </div>

                    <!-- Summary Cards -->
                    <h2 class="section-header">Summary</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 16px;">
                        <div style="background: #181818; border-radius: 6px; padding: 20px; text-align: center;">
                            <div style="font-size: 12px; color: #888; margin-bottom: 8px;">TOTAL REVENUE</div>
                            <div id="summary-revenue" style="font-size: 28px; font-weight: 700; color: #3b82f6;">$170.19</div>
                        </div>
                        <div style="background: #181818; border-radius: 6px; padding: 20px; text-align: center;">
                            <div style="font-size: 12px; color: #888; margin-bottom: 8px;">TOTAL COGS</div>
                            <div id="summary-cogs" style="font-size: 28px; font-weight: 700; color: #fff;">$75.49</div>
                        </div>
                        <div style="background: #181818; border-radius: 6px; padding: 20px; text-align: center;">
                            <div style="font-size: 12px; color: #888; margin-bottom: 8px;">BLENDED MARGIN</div>
                            <div id="summary-margin" style="font-size: 28px; font-weight: 700; color: #1db954;">71.37%</div>
                        </div>
                        <div style="background: #181818; border-radius: 6px; padding: 20px; text-align: center;">
                            <div style="font-size: 12px; color: #888; margin-bottom: 8px;">TOTAL PROFIT</div>
                            <div id="summary-profit" style="font-size: 28px; font-weight: 700; color: #1db954;">$94.70</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Admin View (Password Protected) -->
            <div class="view" id="admin-view">
                <div class="content-header">
                    <h1 class="header-title"> Admin Panel</h1>
                    <p class="header-subtitle">Approve or reject promotion requests</p>
                </div>
                <div class="content-body">
                    <!-- Pending Approvals -->
                    <h2 class="section-header">Pending Promo Requests</h2>
                    <div id="pending-promos-list">
                        <!-- Sample pending request -->
                        <div class="pending-promo-card" style="background: #181818; border-radius: 6px; padding: 24px; margin-bottom: 16px; border-left: 4px solid #ffc107;">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                                <div>
                                    <h3 style="font-size: 18px; font-weight: 700; margin-bottom: 4px;"> Valentine's Day Flash Sale</h3>
                                    <p style="font-size: 13px; color: #b3b3b3;">Submitted by: Shelby  Jan 5, 2026</p>
                                </div>
                                <span style="background: rgba(255, 193, 7, 0.2); color: #ffc107; padding: 4px 12px; border-radius: 6px; font-size: 11px; font-weight: 600;">PENDING</span>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 16px; margin-bottom: 20px;">
                                <div>
                                    <div style="font-size: 11px; color: #888;">DISCOUNT</div>
                                    <div style="font-size: 16px; font-weight: 700;">25%</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #888;">PRODUCTS</div>
                                    <div style="font-size: 16px; font-weight: 700;">All Collagen</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #888;">BUNDLE SIZE</div>
                                    <div style="font-size: 16px; font-weight: 700;">3-Pack</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #888;">DATE RANGE</div>
                                    <div style="font-size: 16px; font-weight: 700;">Feb 10-14</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #888;">TARGET</div>
                                    <div style="font-size: 16px; font-weight: 700;">$250,000</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #888;">CHANNELS</div>
                                    <div style="font-size: 16px; font-weight: 700;">All</div>
                                </div>
                            </div>
                            <div style="background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px; margin-bottom: 16px;">
                                <div style="font-size: 11px; color: #888; margin-bottom: 4px;">NOTES</div>
                                <div style="font-size: 13px; color: #b3b3b3;">Focus on couples and gift-giving angle. Coordinate with email team for early access to subscribers.</div>
                            </div>
                            <div style="display: flex; gap: 12px;">
                                <button onclick="approvePromo(this)" style="flex: 1; padding: 12px; background: #1db954; color: #000; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;"> Approve</button>
                                <button onclick="rejectPromo(this)" style="flex: 1; padding: 12px; background: #dc2626; color: #fff; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;"> Reject</button>
                                <button onclick="requestChanges(this)" style="flex: 1; padding: 12px; background: rgba(255,255,255,0.1); color: #fff; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">Request Changes</button>
                            </div>
                        </div>

                        <!-- Another sample pending request -->
                        <div class="pending-promo-card" style="background: #181818; border-radius: 6px; padding: 24px; margin-bottom: 16px; border-left: 4px solid #ffc107;">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                                <div>
                                    <h3 style="font-size: 18px; font-weight: 700; margin-bottom: 4px;"> Spring Wellness Bundle</h3>
                                    <p style="font-size: 13px; color: #b3b3b3;">Submitted by: Marketing Team  Jan 4, 2026</p>
                                </div>
                                <span style="background: rgba(255, 193, 7, 0.2); color: #ffc107; padding: 4px 12px; border-radius: 6px; font-size: 11px; font-weight: 600;">PENDING</span>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 16px; margin-bottom: 20px;">
                                <div>
                                    <div style="font-size: 11px; color: #888;">DISCOUNT</div>
                                    <div style="font-size: 16px; font-weight: 700;">20%</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #888;">PRODUCTS</div>
                                    <div style="font-size: 16px; font-weight: 700;">Hydrate, Vitamin C</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #888;">BUNDLE SIZE</div>
                                    <div style="font-size: 16px; font-weight: 700;">6-Pack</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #888;">DATE RANGE</div>
                                    <div style="font-size: 16px; font-weight: 700;">Mar 1-15</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #888;">TARGET</div>
                                    <div style="font-size: 16px; font-weight: 700;">$180,000</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #888;">CHANNELS</div>
                                    <div style="font-size: 16px; font-weight: 700;">Retention Only</div>
                                </div>
                            </div>
                            <div style="display: flex; gap: 12px;">
                                <button onclick="approvePromo(this)" style="flex: 1; padding: 12px; background: #1db954; color: #000; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;"> Approve</button>
                                <button onclick="rejectPromo(this)" style="flex: 1; padding: 12px; background: #dc2626; color: #fff; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;"> Reject</button>
                                <button onclick="requestChanges(this)" style="flex: 1; padding: 12px; background: rgba(255,255,255,0.1); color: #fff; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">Request Changes</button>
                            </div>
                        </div>
                    </div>

                    <!-- Approved Promos -->
                    <h2 class="section-header" style="margin-top: 48px;">Recently Approved</h2>
                    <div id="approved-promos-list">
                        <div style="background: #181818; border-radius: 6px; padding: 24px; margin-bottom: 16px; border-left: 4px solid #1db954;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <h3 style="font-size: 16px; font-weight: 700;"> Holiday Gift Bundle</h3>
                                    <p style="font-size: 12px; color: #b3b3b3;">30% off  All Products  Dec 15-25</p>
                                </div>
                                <span style="background: rgba(29, 185, 84, 0.2); color: #1db954; padding: 4px 12px; border-radius: 6px; font-size: 11px; font-weight: 600;">APPROVED</span>
                            </div>
                        </div>
                    </div>

                    <!-- Rejected Promos -->
                    <h2 class="section-header" style="margin-top: 48px;">Rejected</h2>
                    <div id="rejected-promos-list">
                        <div style="background: #181818; border-radius: 6px; padding: 24px; margin-bottom: 16px; border-left: 4px solid #dc2626; opacity: 0.6;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <h3 style="font-size: 16px; font-weight: 700;">Flash Sale Test</h3>
                                    <p style="font-size: 12px; color: #b3b3b3;">50% off - Rejected: Margin too low</p>
                                </div>
                                <span style="background: rgba(233, 20, 41, 0.2); color: #dc2626; padding: 4px 12px; border-radius: 6px; font-size: 11px; font-weight: 600;">REJECTED</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Add Channel Pricing Modal -->
    <div id="request-form-modal" class="modal-overlay" onclick="if(event.target === this) this.style.display='none'" style="z-index: 10000;">
        <div style="max-width: 800px; margin: 40px auto; background: #111; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; padding: 28px; position: relative;" onclick="event.stopPropagation()">
            <button id="close-modal-btn" class="modal-close-btn">&times;</button>
            <h2 style="font-size: 20px; font-weight: 600; margin-bottom: 4px;">Create New Offer</h2>
            <p style="font-size: 13px; color: #666; margin-bottom: 24px;">Set pricing for a specific product within a campaign</p>
            
            <form id="promo-request-form" onsubmit="submitCampaignRequest(event)">
                <div class="form-group">
                    <label class="form-label">Your Name *</label>
                    <input type="text" id="requestor-name" class="form-input" placeholder="Your name" required>
                </div>

                <!-- Campaign Selection -->
                <div style="padding: 20px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); border-radius: 6px; margin-bottom: 20px;">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Campaign *</label>
                            <select id="campaign-selector" class="form-select" onchange="toggleNewCampaignFields()" required>
                                <option value="">Select a campaign...</option>
                                <option value="new"> Create New Campaign</option>
                                <option value="evergreen"> Evergreen</option>
                                <option value="flash"> Flash Sale</option>
                                <optgroup label=" Scheduled Campaigns">
                                    <option value="valentines"> Valentine's Day 2026 (Jan 25 - Feb 14)</option>
                                    <option value="spring"> Spring Renewal (Mar 1-31)</option>
                                    <option value="summer"> Summer Sale (Jun 1 - Aug 31)</option>
                                    <option value="halloween"> Halloween (Oct 15-31)</option>
                                    <option value="thanksgiving"> Thanksgiving (Nov 20-26)</option>
                                    <option value="blackfriday"> Black Friday (Nov 27-29)</option>
                                    <option value="cybermonday"> Cyber Monday (Nov 30 - Dec 2)</option>
                                    <option value="christmas"> Christmas (Dec 10-25)</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Your Channel *</label>
                            <select id="channel-selector" class="form-select" onchange="updateChannelBreakdown()" required>
                                <option value="">Select your channel...</option>
                                <option value="internal-google"> Internal Google</option>
                                <option value="tigertail"> TigerTail</option>
                                <option value="ret-sms"> Ret SMS</option>
                                <option value="amazon"> Amazon</option>
                                <option value="shopify"> Shopify</option>
                                <option value="meta"> Meta</option>
                                <option value="youtube"> YouTube</option>
                                <option value="tiktok"> TikTok</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- New Campaign Fields (hidden by default, shown when "Create New" selected) -->
                <div id="new-campaign-fields" style="display: none; padding: 20px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); border-radius: 6px; margin-bottom: 20px;">
                    <h3 style="font-size: 13px; font-weight: 600; margin: 0 0 16px; color: #888;"> New Campaign Details</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Campaign Name *</label>
                            <input type="text" id="campaign-name" class="form-input" placeholder="e.g., Spring Flash Sale">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Campaign Type</label>
                            <select id="campaign-type" class="form-select">
                                <option value="seasonal">Seasonal</option>
                                <option value="holiday">Holiday</option>
                                <option value="flash">Flash Sale</option>
                                <option value="launch">Product Launch</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Start Date</label>
                            <input type="date" id="launch-date" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label">End Date</label>
                            <input type="date" id="end-date" class="form-input">
                        </div>
                    </div>
                </div>

                <!-- Product Selection - Clickable Cards -->
                <div class="form-group">
                    <label class="form-label">Select Product *</label>
                    <div id="product-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 12px; margin-top: 8px;">
                        <div class="product-select-card" onclick="selectProduct(this, 'collagen', 33.99)" style="background: #282828; padding: 16px; border-radius: 4px; text-align: center; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;">
                            <div style="font-size: 28px; margin-bottom: 8px;"></div>
                            <div style="font-size: 13px; font-weight: 600;">Collagen 25s</div>
                            <div style="font-size: 11px; color: #888;">$33.99 base</div>
                        </div>
                        <div class="product-select-card" onclick="selectProduct(this, 'collagen56', 59.99)" style="background: #282828; padding: 16px; border-radius: 4px; text-align: center; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;">
                            <div style="font-size: 28px; margin-bottom: 8px;"></div>
                            <div style="font-size: 13px; font-weight: 600;">Collagen 56s</div>
                            <div style="font-size: 11px; color: #888;">$59.99 base</div>
                        </div>
                        <div class="product-select-card" onclick="selectProduct(this, 'hydrate', 29.99)" style="background: #282828; padding: 16px; border-radius: 4px; text-align: center; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;">
                            <div style="font-size: 28px; margin-bottom: 8px;"></div>
                            <div style="font-size: 13px; font-weight: 600;">Hydrate</div>
                            <div style="font-size: 11px; color: #888;">$29.99 base</div>
                        </div>
                        <div class="product-select-card" onclick="selectProduct(this, 'creatine', 34.00)" style="background: #282828; padding: 16px; border-radius: 4px; text-align: center; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;">
                            <div style="font-size: 28px; margin-bottom: 8px;"></div>
                            <div style="font-size: 13px; font-weight: 600;">Creatine</div>
                            <div style="font-size: 11px; color: #888;">$34.00 base</div>
                        </div>
                        <div class="product-select-card" onclick="selectProduct(this, 'mct', 29.99)" style="background: #282828; padding: 16px; border-radius: 4px; text-align: center; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;">
                            <div style="font-size: 28px; margin-bottom: 8px;"></div>
                            <div style="font-size: 13px; font-weight: 600;">MCT Oil</div>
                            <div style="font-size: 11px; color: #888;">$29.99 base</div>
                        </div>
                        <div class="product-select-card" onclick="selectProduct(this, 'krill', 39.99)" style="background: #282828; padding: 16px; border-radius: 4px; text-align: center; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;">
                            <div style="font-size: 28px; margin-bottom: 8px;"></div>
                            <div style="font-size: 13px; font-weight: 600;">Krill Oil</div>
                            <div style="font-size: 11px; color: #888;">$39.99 base</div>
                        </div>
                        <div class="product-select-card" onclick="selectProduct(this, 'colostrum', 49.99)" style="background: #282828; padding: 16px; border-radius: 4px; text-align: center; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;">
                            <div style="font-size: 28px; margin-bottom: 8px;"></div>
                            <div style="font-size: 13px; font-weight: 600;">Colostrum</div>
                            <div style="font-size: 11px; color: #888;">$49.99 base</div>
                        </div>
                        <div class="product-select-card" onclick="selectProduct(this, 'protein', 44.99)" style="background: #282828; padding: 16px; border-radius: 4px; text-align: center; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;">
                            <div style="font-size: 28px; margin-bottom: 8px;"></div>
                            <div style="font-size: 13px; font-weight: 600;">Protein</div>
                            <div style="font-size: 11px; color: #888;">$44.99 base</div>
                        </div>
                    </div>
                    <input type="hidden" id="selected-product" required>
                    <input type="hidden" id="selected-base-price" value="33.99">
                </div>

                <!-- Pricing Section - Per Bundle Size -->
                <h3 style="font-size: 16px; font-weight: 700; margin: 24px 0 16px; color: #1db954;"> Set Your Pricing</h3>
                <p style="font-size: 13px; color: #b3b3b3; margin-bottom: 16px;">Enter either $ Off, % Discount, or Target Price - all fields auto-calculate. Margin shown based on $12 COGS.</p>
                
                <!-- Duplicate Warning - Hidden by default -->
                <div id="offer-duplicate-warning" style="display: none; background: rgba(251,191,36,0.1); border: 1px solid rgba(251,191,36,0.3); border-radius: 6px; padding: 16px; margin-bottom: 16px;">
                    <div style="display: flex; gap: 12px; align-items: flex-start;">
                        <span style="font-size: 20px;"></span>
                        <div>
                            <strong style="color: #fbbf24;">Similar offer may already exist!</strong>
                            <p style="color: #888; font-size: 12px; margin-top: 4px;">Review existing offers before creating a duplicate:</p>
                            <div id="duplicate-offer-list" style="margin-top: 8px;"></div>
                        </div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px;">
                    <!-- Single -->
                    <div style="background: rgba(255,255,255,0.03); padding: 16px; border-radius: 6px; border: 1px solid rgba(255,255,255,0.1);">
                        <div style="font-weight: 700; font-size: 14px; margin-bottom: 12px;">Single Unit</div>
                        <div style="background: #282828; padding: 8px; border-radius: 6px; text-align: center; margin-bottom: 12px;">
                            <div style="font-size: 10px; color: #888;">BASE PRICE</div>
                            <div id="single-base-price" style="font-size: 16px; font-weight: 700; color: #fff;">$33.99</div>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <label style="font-size: 11px; color: #888;">$ OFF</label>
                            <input type="number" id="single-dollar-off" class="form-input" placeholder="0.00" step="0.01" oninput="calcFromDollarOff('single'); checkForDuplicateOffer();">
                        </div>
                        <div style="margin-bottom: 8px;">
                            <label style="font-size: 11px; color: #888;">% DISCOUNT</label>
                            <input type="number" id="single-percent-off" class="form-input" placeholder="0" oninput="calcFromPercent('single'); checkForDuplicateOffer();">
                        </div>
                        <div style="margin-bottom: 8px;">
                            <label style="font-size: 11px; color: #888;">TARGET PRICE</label>
                            <input type="number" id="single-target-price" class="form-input" placeholder="0.00" step="0.01" oninput="calcFromTarget('single'); checkForDuplicateOffer();">
                        </div>
                        <div style="background: #1db954; padding: 10px; border-radius: 6px; text-align: center; margin-bottom: 8px;">
                            <div style="font-size: 10px; color: rgba(0,0,0,0.6);">FINAL PRICE</div>
                            <div id="single-final-price" style="font-size: 20px; font-weight: 700; color: #000;">$33.99</div>
                        </div>
                        <div style="background: #282828; padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 10px; color: #888;">MARGIN</div>
                            <div id="single-margin" style="font-size: 14px; font-weight: 700; color: #1db954;">$21.99 (65%)</div>
                        </div>
                    </div>
                    
                    <!-- 3-Pack -->
                    <div style="background: rgba(29, 185, 84, 0.05); padding: 16px; border-radius: 6px; border: 1px solid rgba(29, 185, 84, 0.3);">
                        <div style="font-weight: 700; font-size: 14px; margin-bottom: 12px;">3-Pack</div>
                        <div style="background: #282828; padding: 8px; border-radius: 6px; text-align: center; margin-bottom: 12px;">
                            <div style="font-size: 10px; color: #888;">BASE PRICE (3)</div>
                            <div id="3pack-base-price" style="font-size: 16px; font-weight: 700; color: #fff;">$101.97</div>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <label style="font-size: 11px; color: #888;">$ OFF (per unit)</label>
                            <input type="number" id="3pack-dollar-off" class="form-input" placeholder="0.00" step="0.01" oninput="calcFromDollarOff('3pack')">
                        </div>
                        <div style="margin-bottom: 8px;">
                            <label style="font-size: 11px; color: #888;">% DISCOUNT</label>
                            <input type="number" id="3pack-percent-off" class="form-input" placeholder="0" oninput="calcFromPercent('3pack')">
                        </div>
                        <div style="margin-bottom: 8px;">
                            <label style="font-size: 11px; color: #888;">TARGET PRICE (total)</label>
                            <input type="number" id="3pack-target-price" class="form-input" placeholder="0.00" step="0.01" oninput="calcFromTarget('3pack')">
                        </div>
                        <div style="background: #1db954; padding: 10px; border-radius: 6px; text-align: center; margin-bottom: 8px;">
                            <div style="font-size: 10px; color: rgba(0,0,0,0.6);">FINAL PRICE</div>
                            <div id="3pack-final-price" style="font-size: 20px; font-weight: 700; color: #000;">$101.97</div>
                        </div>
                        <div style="background: #282828; padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 10px; color: #888;">MARGIN</div>
                            <div id="3pack-margin" style="font-size: 14px; font-weight: 700; color: #1db954;">$65.97 (65%)</div>
                        </div>
                    </div>
                    
                    <!-- 6-Pack -->
                    <div style="background: rgba(29, 185, 84, 0.1); padding: 16px; border-radius: 6px; border: 1px solid rgba(29, 185, 84, 0.5);">
                        <div style="font-weight: 700; font-size: 14px; margin-bottom: 12px;">6-Pack</div>
                        <div style="background: #282828; padding: 8px; border-radius: 6px; text-align: center; margin-bottom: 12px;">
                            <div style="font-size: 10px; color: #888;">BASE PRICE (6)</div>
                            <div id="6pack-base-price" style="font-size: 16px; font-weight: 700; color: #fff;">$203.94</div>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <label style="font-size: 11px; color: #888;">$ OFF (per unit)</label>
                            <input type="number" id="6pack-dollar-off" class="form-input" placeholder="0.00" step="0.01" oninput="calcFromDollarOff('6pack')">
                        </div>
                        <div style="margin-bottom: 8px;">
                            <label style="font-size: 11px; color: #888;">% DISCOUNT</label>
                            <input type="number" id="6pack-percent-off" class="form-input" placeholder="0" oninput="calcFromPercent('6pack')">
                        </div>
                        <div style="margin-bottom: 8px;">
                            <label style="font-size: 11px; color: #888;">TARGET PRICE (total)</label>
                            <input type="number" id="6pack-target-price" class="form-input" placeholder="0.00" step="0.01" oninput="calcFromTarget('6pack')">
                        </div>
                        <div style="background: #1db954; padding: 10px; border-radius: 6px; text-align: center; margin-bottom: 8px;">
                            <div style="font-size: 10px; color: rgba(0,0,0,0.6);">FINAL PRICE</div>
                            <div id="6pack-final-price" style="font-size: 20px; font-weight: 700; color: #000;">$203.94</div>
                        </div>
                        <div style="background: #282828; padding: 8px; border-radius: 6px; text-align: center;">
                            <div style="font-size: 10px; color: #888;">MARGIN</div>
                            <div id="6pack-margin" style="font-size: 14px; font-weight: 700; color: #1db954;">$131.94 (65%)</div>
                        </div>
                    </div>
                </div>

                <!-- Channel-Specific Breakdown (dynamic based on channel selected) -->
                <div id="channel-breakdown-section">
                    <h3 style="font-size: 16px; font-weight: 700; margin: 24px 0 16px; color: #a855f7;"> Channel Details</h3>
                    <p style="font-size: 13px; color: #888; margin-bottom: 16px;">Select a channel above to see channel-specific options</p>
                </div>

                <div class="form-group">
                    <label class="form-label">Notes (optional)</label>
                    <textarea id="strategy-notes" class="form-textarea" placeholder="Any additional context about this pricing decision, competitive considerations, margin goals, etc."></textarea>
                </div>

                <div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 16px; border-radius: 8px; margin-bottom: 24px;">
                    <div style="font-weight: 700; margin-bottom: 8px;"> What happens next?</div>
                    <div style="font-size: 14px; color: #b3b3b3; line-height: 1.6;">
                        Your pricing request will be sent to Admin for approval. Once approved, you can request landing pages for this campaign.
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit" class="submit-btn">Submit for Approval</button>
                    <button type="button" class="cancel-btn" id="cancel-form">Cancel</button>
                </div>
            </form>
        </div>
    </div>
                        </div>
                        <div class="form-group">
    <!-- Request New Page Modal -->
    <div id="page-request-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10000; overflow-y: auto; padding: 40px 20px;">
        <div style="max-width: 800px; margin: 0 auto; background: #181818; border-radius: 6px; padding: 32px; position: relative;">
            <button onclick="document.getElementById('page-request-modal').style.display='none'" style="position: absolute; top: 16px; right: 16px; background: none; border: none; color: #888; font-size: 24px; cursor: pointer;">&times;</button>
            <h2 class="form-title">Request New Landing Page</h2>
            <p class="form-subtitle">Submit a landing page request for an existing campaign</p>
            
            <form id="page-request-form" onsubmit="submitPageRequest(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Your Name *</label>
                        <input type="text" id="page-requestor-name" class="form-input" placeholder="Your name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email *</label>
                        <input type="email" id="page-requestor-email" class="form-input" placeholder="your.email@nativepath.com" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Associated Campaign *</label>
                        <select id="page-campaign" class="form-select" required>
                            <option value="">Select campaign...</option>
                            <option value="evergreen"> Evergreen</option>
                            <option value="flash"> Flash Sale</option>
                            <optgroup label=" Scheduled Campaigns">
                                <option value="valentines">VDAY-26</option>
                                <option value="spring"> Spring Renewal</option>
                                <option value="summer"> Summer Sale</option>
                                <option value="halloween"> Halloween</option>
                                <option value="blackfriday"> Black Friday</option>
                                <option value="christmas"> Christmas</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Channel *</label>
                        <select id="page-channel" class="form-select" required>
                            <option value="">Select channel...</option>
                            <option value="meta"> Meta</option>
                            <option value="google"> Google</option>
                            <option value="youtube"> YouTube</option>
                            <option value="tiktok"> TikTok</option>
                            <option value="sms"> SMS</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Page Name *</label>
                    <input type="text" id="page-name" class="form-input" placeholder="e.g., VDay-26 | Meta Cold | Joint Pain Angle" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Traffic Type *</label>
                        <select id="page-traffic" class="form-select" required>
                            <option value="">Select...</option>
                            <option value="cold">Cold Traffic</option>
                            <option value="warm">Warm Traffic</option>
                            <option value="retargeting">Retargeting</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Primary Hook/Angle *</label>
                        <div style="position: relative;">
                            <input type="text" id="page-hook-search" class="form-input" placeholder="Search or type to add new..." oninput="filterHooks()" onfocus="showHookDropdown()" autocomplete="off">
                            <input type="hidden" id="page-hook" required>
                            <div id="hook-dropdown" style="display: none; position: absolute; top: 100%; left: 0; right: 0; background: #282828; border: 1px solid #444; border-radius: 8px; max-height: 200px; overflow-y: auto; z-index: 100;">
                                <div class="hook-option" onclick="selectHook('joint-pain', 'Joint Pain')">Joint Pain</div>
                                <div class="hook-option" onclick="selectHook('energy', 'Energy')">Energy</div>
                                <div class="hook-option" onclick="selectHook('weight-loss', 'Weight Loss')">Weight Loss</div>
                                <div class="hook-option" onclick="selectHook('beauty', 'Beauty/Skin')">Beauty/Skin</div>
                                <div class="hook-option" onclick="selectHook('testimonial', 'Testimonial')">Testimonial</div>
                                <div class="hook-option" onclick="selectHook('dr-chad', 'Dr. Chad')">Dr. Chad</div>
                                <div class="hook-option" onclick="selectHook('science', 'Science/Research')">Science/Research</div>
                                <div class="hook-option" onclick="selectHook('mobility', 'Mobility')">Mobility</div>
                                <div class="hook-option" onclick="selectHook('sleep', 'Sleep')">Sleep</div>
                                <div class="hook-option" onclick="selectHook('gut-health', 'Gut Health')">Gut Health</div>
                                <div class="hook-option" onclick="selectHook('inflammation', 'Inflammation')">Inflammation</div>
                                <div id="add-new-hook" style="display: none; padding: 10px 12px; color: #1db954; cursor: pointer; border-top: 1px solid #444;">
                                     Add "<span id="new-hook-text"></span>" as new hook
                                </div>
                            </div>
                        </div>
                        <style>
                            .hook-option { padding: 10px 12px; cursor: pointer; }
                            .hook-option:hover { background: rgba(29, 185, 84, 0.2); }
                        </style>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Target Audience *</label>
                    <select id="page-audience" class="form-select" required>
                        <option value="">Select target audience...</option>
                        <optgroup label="Age + Gender">
                            <option value="women-45-65">Women 45-65</option>
                            <option value="women-35-55">Women 35-55</option>
                            <option value="women-55+">Women 55+</option>
                            <option value="men-45-65">Men 45-65</option>
                            <option value="men-35-55">Men 35-55</option>
                            <option value="men-55+">Men 55+</option>
                            <option value="all-adults">All Adults 35+</option>
                        </optgroup>
                        <optgroup label="Interest/Pain Point">
                            <option value="joint-pain-sufferers">Joint Pain Sufferers</option>
                            <option value="active-lifestyle">Active Lifestyle</option>
                            <option value="weight-conscious">Weight Conscious</option>
                            <option value="beauty-focused">Beauty/Anti-Aging Focused</option>
                            <option value="health-enthusiasts">Health Enthusiasts</option>
                            <option value="fitness-focused">Fitness Focused</option>
                        </optgroup>
                        <optgroup label="Buyer Type">
                            <option value="first-time">First-Time Buyers</option>
                            <option value="repeat">Repeat Customers</option>
                            <option value="lapsed">Lapsed Customers</option>
                            <option value="high-value">High-Value Customers</option>
                        </optgroup>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Strategy Notes</label>
                    <textarea id="page-strategy" class="form-textarea" placeholder="Describe the strategy, messaging, any specific requirements..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Additional Tags (select multiple)</label>
                    <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px;">
                        <label style="display: flex; align-items: center; gap: 4px; background: rgba(255,255,255,0.05); padding: 6px 12px; border-radius: 6px; cursor: pointer;">
                            <input type="checkbox" name="page-tags" value="urgency"> Urgency
                        </label>
                        <label style="display: flex; align-items: center; gap: 4px; background: rgba(255,255,255,0.05); padding: 6px 12px; border-radius: 6px; cursor: pointer;">
                            <input type="checkbox" name="page-tags" value="social-proof"> Social Proof
                        </label>
                        <label style="display: flex; align-items: center; gap: 4px; background: rgba(255,255,255,0.05); padding: 6px 12px; border-radius: 6px; cursor: pointer;">
                            <input type="checkbox" name="page-tags" value="discount"> Discount Focus
                        </label>
                        <label style="display: flex; align-items: center; gap: 4px; background: rgba(255,255,255,0.05); padding: 6px 12px; border-radius: 6px; cursor: pointer;">
                            <input type="checkbox" name="page-tags" value="long-form"> Long-Form
                        </label>
                        <label style="display: flex; align-items: center; gap: 4px; background: rgba(255,255,255,0.05); padding: 6px 12px; border-radius: 6px; cursor: pointer;">
                            <input type="checkbox" name="page-tags" value="video"> Video-Based
                        </label>
                        <label style="display: flex; align-items: center; gap: 4px; background: rgba(255,255,255,0.05); padding: 6px 12px; border-radius: 6px; cursor: pointer;">
                            <input type="checkbox" name="page-tags" value="quiz"> Quiz/Interactive
                        </label>
                    </div>
                </div>

                <div style="background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; padding: 16px; border-radius: 8px; margin-bottom: 24px;">
                    <div style="font-weight: 700; margin-bottom: 8px;"> What happens next?</div>
                    <div style="font-size: 14px; color: #b3b3b3; line-height: 1.6;">
                        Your page request will be added to Page Manager. The web team will build it, add the live URL, and it will automatically flow into Testing tracking.
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit" class="submit-btn">Submit Page Request</button>
                    <button type="button" class="cancel-btn" onclick="document.getElementById('page-request-modal').style.display='none'">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Page Detail Modal -->
    <div id="page-detail-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10000; overflow-y: auto; padding: 40px 20px;">
        <div style="max-width: 900px; margin: 0 auto; background: #181818; border-radius: 6px; padding: 32px; position: relative;">
            <button onclick="document.getElementById('page-detail-modal').style.display='none'" style="position: absolute; top: 16px; right: 16px; background: none; border: none; color: #888; font-size: 24px; cursor: pointer;">&times;</button>
            
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 24px;">
                <div>
                    <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 8px;">VDay-26 | Meta Cold | Joint Pain Angle</h2>
                    <p style="color: #b3b3b3;">Channel:  Meta</p>
                </div>
                <div style="display: flex; gap: 12px; align-items: center;">
                    <span style="background: rgba(29, 185, 84, 0.2); color: #1db954; padding: 8px 16px; border-radius: 8px; font-weight: 600;"> Live</span>
                    <a href="https://nativepath.instapage.com/vday-meta-joint" target="_blank" style="background: #1db954; color: #000; padding: 8px 16px; border-radius: 8px; font-weight: 600; text-decoration: none; display: flex; align-items: center; gap: 6px;">View Live </a>
                </div>
            </div>

            <!-- Editable Fields Section -->
            <div style="background: #0f0f0f; border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 20px; margin-bottom: 24px;">
                <div style="font-size: 12px; color: #888; margin-bottom: 16px; font-weight: 600; letter-spacing: 0.5px;">PAGE SETTINGS</div>
                
                <!-- Campaign & Offer Dropdowns -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                    <!-- Searchable Campaign Dropdown -->
                    <div class="searchable-dropdown" id="campaign-dropdown">
                        <label style="font-size: 11px; color: #666; display: block; margin-bottom: 6px;">CAMPAIGN</label>
                        <div class="dropdown-selected" onclick="toggleSearchDropdown('campaign-dropdown')">
                            <span id="campaign-selected-text"> VDAY-26 - Valentine's Day 2026</span>
                            <span class="dropdown-arrow"></span>
                        </div>
                        <div class="dropdown-menu" style="display: none;">
                            <input type="text" class="dropdown-search" placeholder="Search campaigns..." oninput="filterDropdownOptions('campaign-dropdown', this.value)">
                            <div class="dropdown-options">
                                <div class="dropdown-option" data-value="VDAY-26" onclick="selectDropdownOption('campaign-dropdown', 'VDAY-26', ' VDAY-26 - Valentine\'s Day 2026')"> VDAY-26 - Valentine's Day 2026</div>
                                <div class="dropdown-option" data-value="EVRGN" onclick="selectDropdownOption('campaign-dropdown', 'EVRGN', ' EVRGN - Evergreen')"> EVRGN - Evergreen</div>
                                <div class="dropdown-option" data-value="SPRNG-26" onclick="selectDropdownOption('campaign-dropdown', 'SPRNG-26', ' SPRNG-26 - Spring Renewal 2026')"> SPRNG-26 - Spring Renewal 2026</div>
                                <div class="dropdown-option" data-value="SUMR-26" onclick="selectDropdownOption('campaign-dropdown', 'SUMR-26', ' SUMR-26 - Summer Sale 2026')"> SUMR-26 - Summer Sale 2026</div>
                                <div class="dropdown-option" data-value="BFCM-26" onclick="selectDropdownOption('campaign-dropdown', 'BFCM-26', ' BFCM-26 - Black Friday 2026')"> BFCM-26 - Black Friday 2026</div>
                                <div class="dropdown-option" data-value="XMAS-26" onclick="selectDropdownOption('campaign-dropdown', 'XMAS-26', ' XMAS-26 - Christmas 2026')"> XMAS-26 - Christmas 2026</div>
                            </div>
                        </div>
                        <input type="hidden" id="page-campaign-select" value="VDAY-26">
                    </div>
                    
                    <!-- Searchable Offer Dropdown -->
                    <div class="searchable-dropdown" id="offer-dropdown">
                        <label style="font-size: 11px; color: #666; display: block; margin-bottom: 6px;">OFFER</label>
                        <div class="dropdown-selected" onclick="toggleSearchDropdown('offer-dropdown')">
                            <span id="offer-selected-text">VDAY-COL25 - Collagen 25s</span>
                            <span class="dropdown-arrow"></span>
                        </div>
                        <div class="dropdown-menu" style="display: none;">
                            <input type="text" class="dropdown-search" placeholder="Search offers..." oninput="filterDropdownOptions('offer-dropdown', this.value)">
                            <div class="dropdown-options">
                                <div class="dropdown-option" data-value="VDAY-COL25" onclick="selectDropdownOption('offer-dropdown', 'VDAY-COL25', 'VDAY-COL25 - Collagen 25s')">VDAY-COL25 - Collagen 25s ($33.99 / $87 / $132)</div>
                                <div class="dropdown-option" data-value="VDAY-HYD30" onclick="selectDropdownOption('offer-dropdown', 'VDAY-HYD30', 'VDAY-HYD30 - Hydrate')">VDAY-HYD30 - Hydrate ($29.99 / $74.97 / $119.94)</div>
                                <div class="dropdown-option" data-value="VDAY-PRO60" onclick="selectDropdownOption('offer-dropdown', 'VDAY-PRO60', 'VDAY-PRO60 - Probiotics')">VDAY-PRO60 - Probiotics 30B ($32.95 / $79 / $139)</div>
                                <div class="dropdown-option" data-value="EG-COL25" onclick="selectDropdownOption('offer-dropdown', 'EG-COL25', 'EG-COL25 - Collagen Evergreen')">EG-COL25 - Collagen Evergreen ($36.99 / $99 / $149)</div>
                                <div class="dropdown-option" data-value="EG-HYD30" onclick="selectDropdownOption('offer-dropdown', 'EG-HYD30', 'EG-HYD30 - Hydrate Evergreen')">EG-HYD30 - Hydrate Evergreen ($32.99 / $84.97 / $139.94)</div>
                                <div class="dropdown-option" data-value="EG-PRO60" onclick="selectDropdownOption('offer-dropdown', 'EG-PRO60', 'EG-PRO60 - Probiotics Evergreen')">EG-PRO60 - Probiotics Evergreen ($34.95 / $89 / $149)</div>
                                <div class="dropdown-option" data-value="EG-MCT30" onclick="selectDropdownOption('offer-dropdown', 'EG-MCT30', 'EG-MCT30 - MCT Oil')">EG-MCT30 - MCT Oil ($39.99 / $99 / $169)</div>
                            </div>
                        </div>
                        <input type="hidden" id="page-offer-select" value="VDAY-COL25">
                    </div>
                </div>

                <!-- URL Field -->
                <div>
                    <label style="font-size: 11px; color: #666; display: block; margin-bottom: 6px;">LIVE URL</label>
                    <div style="display: flex; gap: 8px;">
                        <input type="text" id="page-url-input" value="https://nativepath.instapage.com/vday-meta-joint" style="flex: 1; padding: 10px 12px; background: #282828; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #1db954; font-size: 13px;">
                        <button onclick="copyPageUrl()" style="padding: 10px 14px; background: #282828; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #888; font-size: 12px; cursor: pointer;">Copy</button>
                        <button onclick="window.open(document.getElementById('page-url-input').value, '_blank')" style="padding: 10px 14px; background: #282828; border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #888; font-size: 12px; cursor: pointer;">Open </button>
                    </div>
                    <div style="font-size: 10px; color: #555; margin-top: 6px;">Edit the URL if incorrect. Changes are saved automatically.</div>
                </div>
            </div>

            <!-- Performance Summary -->
            <h3 style="font-size: 12px; font-weight: 600; margin-bottom: 12px; color: #666; letter-spacing: 0.5px;">PERFORMANCE SUMMARY</h3>
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 24px;">
                <div style="background: #282828; padding: 16px; border-radius: 8px; text-align: center;">
                    <div style="font-size: 24px; font-weight: 700; color: #fff;">12,847</div>
                    <div style="font-size: 11px; color: #888;">Visits</div>
                </div>
                <div style="background: #282828; padding: 16px; border-radius: 8px; text-align: center;">
                    <div style="font-size: 24px; font-weight: 700; color: #1db954;">342</div>
                    <div style="font-size: 11px; color: #888;">Orders</div>
                </div>
                <div style="background: #282828; padding: 16px; border-radius: 8px; text-align: center;">
                    <div style="font-size: 24px; font-weight: 700; color: #1db954;">$28,400</div>
                    <div style="font-size: 11px; color: #888;">Revenue</div>
                </div>
                <div style="background: #282828; padding: 16px; border-radius: 8px; text-align: center;">
                    <div style="font-size: 24px; font-weight: 700; color: #1db954;">2.4x</div>
                    <div style="font-size: 11px; color: #888;">ROAS</div>
                </div>
            </div>

            <!-- Page History -->
            <h3 style="font-size: 12px; font-weight: 600; margin-bottom: 12px; color: #666; letter-spacing: 0.5px;">PAGE HISTORY</h3>
            <div style="background: #282828; border-radius: 6px; padding: 16px; margin-bottom: 24px;">
                <div style="border-left: 2px solid #1db954; padding-left: 16px; margin-bottom: 16px;">
                    <div style="font-size: 12px; color: #1db954; font-weight: 600;">Jan 25, 2026 - Status  Live</div>
                    <div style="font-size: 13px; color: #b3b3b3; margin-top: 4px;">URL added by Web Team</div>
                    <div style="font-size: 11px; color: #666; margin-top: 2px;">By: Dev Team</div>
                </div>
                <div style="border-left: 2px solid #3b82f6; padding-left: 16px; margin-bottom: 16px;">
                    <div style="font-size: 12px; color: #3b82f6; font-weight: 600;">Jan 20, 2026 - Page Requested</div>
                    <div style="font-size: 13px; color: #b3b3b3; margin-top: 4px;">Campaign: VDAY-26  Offer: VDAY-COL25  Hook: Joint Pain</div>
                    <div style="font-size: 11px; color: #666; margin-top: 2px;">By: Sarah M.</div>
                </div>
            </div>

            <!-- Actions -->
            <div style="display: flex; gap: 12px;">
                <button onclick="savePageChanges()" style="padding: 12px 24px; background: #1db954; color: #000; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">Save Changes</button>
                <button onclick="openStatusChangeModal()" style="padding: 12px 24px; background: #282828; color: #fff; border: 1px solid #444; border-radius: 8px; font-weight: 600; cursor: pointer;">Change Status</button>
                <button style="padding: 12px 24px; background: #282828; color: #fff; border: 1px solid #444; border-radius: 8px; font-weight: 600; cursor: pointer;">Add Note</button>
                <button onclick="document.getElementById('page-detail-modal').style.display='none'; showView('performance-view')" style="margin-left: auto; padding: 12px 24px; background: #3b82f6; color: #fff; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">View in Testing</button>
            </div>
        </div>
    </div>

    <!-- Add URL Modal (for Web Team) -->
    <div id="add-url-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10001; overflow-y: auto; padding: 40px 20px;">
        <div style="max-width: 500px; margin: 100px auto; background: #181818; border-radius: 6px; padding: 32px; position: relative;">
            <button onclick="document.getElementById('add-url-modal').style.display='none'" style="position: absolute; top: 16px; right: 16px; background: none; border: none; color: #888; font-size: 24px; cursor: pointer;">&times;</button>
            <h2 style="font-size: 20px; font-weight: 700; margin-bottom: 8px;">Add Live URL</h2>
            <p style="color: #b3b3b3; font-size: 14px; margin-bottom: 24px;">Page is ready! Add the URL to make it live and start tracking performance.</p>
            
            <div style="background: rgba(29, 185, 84, 0.1); border: 1px solid rgba(29, 185, 84, 0.3); padding: 12px; border-radius: 8px; margin-bottom: 16px;">
                <div style="font-size: 11px; color: #888;">PAGE NAME</div>
                <div id="add-url-page-name" style="font-weight: 600;">VDay - Google - Testimonial</div>
            </div>

            <div class="form-group" style="margin-bottom: 24px;">
                <label class="form-label">Live URL *</label>
                <input type="url" id="new-page-url" class="form-input" placeholder="https://nativepath.instapage.com/..." required>
            </div>

            <div class="button-group">
                <button onclick="submitNewUrl()" style="flex: 1; padding: 12px; background: #1db954; color: #000; border: none; border-radius: 8px; font-weight: 700; cursor: pointer;">Add URL & Go Live</button>
                <button onclick="document.getElementById('add-url-modal').style.display='none'" style="flex: 1; padding: 12px; background: #282828; color: #fff; border: 1px solid #444; border-radius: 8px; font-weight: 600; cursor: pointer;">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Status Change Modal -->
    <div id="status-change-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10002; overflow-y: auto; padding: 40px 20px;">
        <div style="max-width: 500px; margin: 100px auto; background: #181818; border-radius: 6px; padding: 32px; position: relative;">
            <button onclick="document.getElementById('status-change-modal').style.display='none'" style="position: absolute; top: 16px; right: 16px; background: none; border: none; color: #888; font-size: 24px; cursor: pointer;">&times;</button>
            <h2 style="font-size: 20px; font-weight: 700; margin-bottom: 24px;">Change Page Status</h2>
            
            <div class="form-group" style="margin-bottom: 16px;">
                <label class="form-label">New Status *</label>
                <select id="new-status" class="form-select" required onchange="toggleReasonField()">
                    <option value="">Select new status...</option>
                    <option value="live"> Live</option>
                    <option value="paused"> Paused</option>
                    <option value="unpublished"> Unpublished</option>
                </select>
            </div>

            <div id="reason-field" style="display: none;">
                <div class="form-group" style="margin-bottom: 16px;">
                    <label class="form-label">Reason *</label>
                    <select id="status-reason" class="form-select">
                        <option value="">Select reason...</option>
                        <option value="campaign-ended">Campaign Ended</option>
                        <option value="low-roas">Low ROAS</option>
                        <option value="budget-cut">Budget Cut</option>
                        <option value="creative-fatigue">Creative Fatigue</option>
                        <option value="testing">Testing / A-B Test</option>
                        <option value="seasonal">Seasonal - Will Resume</option>
                        <option value="compliance">Compliance Issue</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group" style="margin-bottom: 24px;">
                    <label class="form-label">Additional Notes</label>
                    <textarea id="status-notes" class="form-textarea" placeholder="Add any additional context..."></textarea>
                </div>
            </div>

            <div class="button-group">
                <button onclick="submitStatusChange()" style="flex: 1; padding: 12px; background: #3b82f6; color: #fff; border: none; border-radius: 8px; font-weight: 700; cursor: pointer;">Update Status</button>
                <button onclick="document.getElementById('status-change-modal').style.display='none'" style="flex: 1; padding: 12px; background: #282828; color: #fff; border: 1px solid #444; border-radius: 8px; font-weight: 600; cursor: pointer;">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Duplicate Page Alert Modal -->
    <div id="duplicate-alert-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10003; overflow-y: auto; padding: 40px 20px;">
        <div style="max-width: 450px; margin: 100px auto; background: #181818; border-radius: 6px; padding: 32px; text-align: center;">
            <div style="font-size: 48px; margin-bottom: 16px;"></div>
            <h2 style="font-size: 20px; font-weight: 700; margin-bottom: 12px;">Similar Page Exists</h2>
            <p style="color: #b3b3b3; font-size: 14px; margin-bottom: 24px;">
                A page with the same <strong>Campaign + Channel + Hook</strong> already exists:<br><br>
                <span style="color: #fff; font-weight: 600;">"VDay - Meta - Joint Pain"</span>
            </p>
            <div style="display: flex; gap: 12px;">
                <button onclick="document.getElementById('duplicate-alert-modal').style.display='none'" style="flex: 1; padding: 12px; background: #282828; color: #fff; border: 1px solid #444; border-radius: 8px; font-weight: 600; cursor: pointer;">Cancel</button>
                <button onclick="document.getElementById('duplicate-alert-modal').style.display='none'; submitPageRequestAnyway()" style="flex: 1; padding: 12px; background: #ffc107; color: #000; border: none; border-radius: 8px; font-weight: 700; cursor: pointer;">Create Anyway</button>
            </div>
        </div>
    </div>

    <!-- Offer Detail Modal -->
    <!-- Offer Detail Modal - Full Version -->
    <div id="offer-detail-modal" class="modal-overlay" onclick="if(event.target === this) this.style.display='none'">
        <div class="offer-modal-content" onclick="event.stopPropagation()">
            <button onclick="document.getElementById('offer-detail-modal').style.display='none'" class="modal-close-btn">&times;</button>
            
            <!-- Header (simplified - main info is in card preview) -->
            <div class="offer-modal-header" style="padding: 16px 24px; border-bottom: none;">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <div class="offer-modal-id">VDAY-COL25</div>
                    <div class="offer-modal-campaign">VDAY-26</div>
                </div>
            </div>

            <!-- Offer Card Preview -->
            <div class="offer-modal-card-preview">
                <div class="offer-modal-card-image"></div>
                <div class="offer-modal-card-info">
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px;">
                        <span class="offer-modal-card-id">VDAY-COL25</span>
                        <span class="offer-modal-card-status">Active</span>
                    </div>
                    <div class="offer-modal-card-title">Collagen 25s</div>
                    <div class="offer-modal-card-meta">COL-25  25 Servings</div>
                    <div class="offer-modal-card-channels">
                        <span class="offer-modal-channel active">Web</span>
                        <span class="offer-modal-channel active">Amazon</span>
                        <span class="offer-modal-channel active">Walmart</span>
                        <span class="offer-modal-channel">Shopify</span>
                    </div>
                </div>
            </div>

            <!-- Tier Pricing Preview -->
            <div class="offer-modal-tiers-preview">
                <div class="offer-modal-tier">
                    <div class="offer-modal-tier-label">SINGLE</div>
                    <div class="offer-modal-tier-price">$33.99</div>
                    <div class="offer-modal-tier-shipping paid">+$9.00 ship</div>
                    <div class="offer-modal-tier-totals">
                        <div class="offer-modal-tier-total">Total: $42.99</div>
                        <div class="offer-modal-tier-per">$1.36/srv</div>
                    </div>
                </div>
                <div class="offer-modal-tier">
                    <div class="offer-modal-tier-label">3-PACK</div>
                    <div class="offer-modal-tier-price-row">
                        <span class="offer-modal-tier-original">$110.97</span>
                        <span class="offer-modal-tier-price">$87.00</span>
                    </div>
                    <div class="offer-modal-tier-shipping free">FREE ship</div>
                    <div class="offer-modal-tier-gift"> Frother</div>
                    <div class="offer-modal-tier-totals">
                        <div class="offer-modal-tier-save">Save $38.92 (35%)</div>
                        <div class="offer-modal-tier-per">$1.16/srv</div>
                    </div>
                </div>
                <div class="offer-modal-tier">
                    <div class="offer-modal-tier-label">6-PACK</div>
                    <div class="offer-modal-tier-price-row">
                        <span class="offer-modal-tier-original">$212.94</span>
                        <span class="offer-modal-tier-price">$132.00</span>
                    </div>
                    <div class="offer-modal-tier-shipping free">FREE ship</div>
                    <div class="offer-modal-tier-gift"> Frother</div>
                    <div class="offer-modal-tier-totals">
                        <div class="offer-modal-tier-save">Save $95.89 (45%)</div>
                        <div class="offer-modal-tier-per">$0.88/srv</div>
                    </div>
                </div>
            </div>

            <!-- Blended Stats -->
            <div class="offer-modal-blended-row">
                <span class="offer-modal-blended">Blended Margin: <strong>71%</strong></span>
                <span class="offer-modal-pages"> 3 Pages</span>
            </div>

            <div class="offer-modal-body">
                <!-- Internal Metrics - Collapsible -->
                <div class="offer-modal-section collapsible">
                    <div class="offer-modal-section-header" onclick="toggleOfferSection(this)">
                        <div class="offer-modal-section-title">
                            INTERNAL METRICS
                            <span class="offer-edit-indicator">EDITABLE</span>
                        </div>
                        <span class="offer-collapse-icon"></span>
                    </div>
                    <div class="offer-modal-section-content collapsed">
                        <table class="offer-metrics-table">
                            <thead>
                                <tr>
                                    <th>Tier</th>
                                    <th>Price per Unit</th>
                                    <th>COGS</th>
                                    <th>Margin</th>
                                    <th>Take Rate</th>
                                    <th># Orders</th>
                                    <th>Revenue</th>
                                    <th>Total COGS</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="offer-tier-name">Single</td>
                                    <td><input type="text" class="offer-editable-input" value="$33.99" onchange="recalculateOfferMetrics()"></td>
                                    <td><input type="text" class="offer-editable-input" value="$15.34" onchange="recalculateOfferMetrics()"></td>
                                    <td class="offer-margin" id="offer-margin-single">64.32%</td>
                                    <td><input type="text" class="offer-editable-input" value="30%" style="width:50px" onchange="recalculateOfferMetrics()"></td>
                                    <td><input type="text" class="offer-editable-input" value="30" style="width:50px" onchange="recalculateOfferMetrics()"></td>
                                    <td id="offer-revenue-single">$1,019.70</td>
                                    <td id="offer-cogs-single">$460.20</td>
                                </tr>
                                <tr>
                                    <td class="offer-tier-name">3-Pack</td>
                                    <td><input type="text" class="offer-editable-input" value="$87.00" onchange="recalculateOfferMetrics()"></td>
                                    <td><input type="text" class="offer-editable-input" value="$23.76" onchange="recalculateOfferMetrics()"></td>
                                    <td class="offer-margin" id="offer-margin-3pack">72.69%</td>
                                    <td><input type="text" class="offer-editable-input" value="30%" style="width:50px" onchange="recalculateOfferMetrics()"></td>
                                    <td><input type="text" class="offer-editable-input" value="30" style="width:50px" onchange="recalculateOfferMetrics()"></td>
                                    <td id="offer-revenue-3pack">$2,610.00</td>
                                    <td id="offer-cogs-3pack">$712.80</td>
                                </tr>
                                <tr>
                                    <td class="offer-tier-name">6-Pack</td>
                                    <td><input type="text" class="offer-editable-input" value="$132.00" onchange="recalculateOfferMetrics()"></td>
                                    <td><input type="text" class="offer-editable-input" value="$36.39" onchange="recalculateOfferMetrics()"></td>
                                    <td class="offer-margin" id="offer-margin-6pack">72.43%</td>
                                    <td><input type="text" class="offer-editable-input" value="40%" style="width:50px" onchange="recalculateOfferMetrics()"></td>
                                    <td><input type="text" class="offer-editable-input" value="40" style="width:50px" onchange="recalculateOfferMetrics()"></td>
                                    <td id="offer-revenue-6pack">$5,280.00</td>
                                    <td id="offer-cogs-6pack">$1,455.60</td>
                                </tr>
                                <tr class="offer-blended-row">
                                    <td class="offer-tier-name">Blended</td>
                                    <td></td>
                                    <td></td>
                                    <td class="offer-margin" id="offer-margin-blended">71.37%</td>
                                    <td></td>
                                    <td id="offer-orders-blended">100</td>
                                    <td id="offer-revenue-blended">$8,909.70</td>
                                    <td id="offer-cogs-blended">$2,628.60</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Pricing Details -->
                <div class="offer-modal-section">
                    <div class="offer-modal-section-title">PRICING DETAILS</div>
                    <table class="offer-metrics-table">
                        <thead>
                            <tr>
                                <th>Tier</th>
                                <th>Servings</th>
                                <th>Original</th>
                                <th>Price</th>
                                <th>Shipping</th>
                                <th>Total</th>
                                <th>Savings</th>
                                <th>$/Serving</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="offer-tier-name">Single</td>
                                <td>25</td>
                                <td></td>
                                <td>$33.99</td>
                                <td class="offer-shipping-paid">+$9.00</td>
                                <td>$42.99</td>
                                <td></td>
                                <td>$1.36</td>
                            </tr>
                            <tr>
                                <td class="offer-tier-name">3-Pack</td>
                                <td>75</td>
                                <td class="offer-original-price">$110.97</td>
                                <td>$87.00</td>
                                <td class="offer-shipping-free">FREE</td>
                                <td>$87.00</td>
                                <td class="offer-savings">$38.92 (35%)</td>
                                <td>$1.16</td>
                            </tr>
                            <tr>
                                <td class="offer-tier-name">6-Pack</td>
                                <td>150</td>
                                <td class="offer-original-price">$212.94</td>
                                <td>$132.00</td>
                                <td class="offer-shipping-free">FREE</td>
                                <td>$132.00</td>
                                <td class="offer-savings">$95.89 (45%)</td>
                                <td>$0.88</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Pages Using This Offer -->
                <div class="offer-modal-section">
                    <div class="offer-modal-section-title">PAGES USING THIS OFFER (3)</div>
                    <div class="offer-pages-filter">
                        <span class="offer-page-filter-chip active" onclick="filterOfferPages('all', this)">All</span>
                        <span class="offer-page-filter-chip" onclick="filterOfferPages('web', this)">Web</span>
                        <span class="offer-page-filter-chip" onclick="filterOfferPages('amazon', this)">Amazon</span>
                        <span class="offer-page-filter-chip" onclick="filterOfferPages('walmart', this)">Walmart</span>
                    </div>
                    <div class="offer-pages-list">
                        <div class="offer-page-item" data-channel="web">
                            <div>
                                <div class="offer-page-name">VDay - Meta - Joint Pain</div>
                                <div class="offer-page-channel">Meta</div>
                            </div>
                            <div class="offer-page-right">
                                <span class="offer-page-status live">Live</span>
                                <span class="offer-page-view">View </span>
                            </div>
                        </div>
                        <div class="offer-page-item" data-channel="web">
                            <div>
                                <div class="offer-page-name">VDay - Meta - Energy</div>
                                <div class="offer-page-channel">Meta</div>
                            </div>
                            <div class="offer-page-right">
                                <span class="offer-page-status live">Live</span>
                                <span class="offer-page-view">View </span>
                            </div>
                        </div>
                        <div class="offer-page-item" data-channel="amazon">
                            <div>
                                <div class="offer-page-name">Amazon Collagen Listing</div>
                                <div class="offer-page-channel">Amazon</div>
                            </div>
                            <div class="offer-page-right">
                                <span class="offer-page-status live">Live</span>
                                <span class="offer-page-view">View </span>
                            </div>
                        </div>
                        <div class="offer-page-item" data-channel="walmart">
                            <div>
                                <div class="offer-page-name">Walmart Marketplace Listing</div>
                                <div class="offer-page-channel">Walmart</div>
                            </div>
                            <div class="offer-page-right">
                                <span class="offer-page-status dev">In Dev</span>
                                <span class="offer-page-view">View </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="offer-modal-footer">
                <button class="offer-modal-btn-secondary" onclick="document.getElementById('offer-detail-modal').style.display='none'">Cancel</button>
                <button class="offer-modal-btn-primary" onclick="saveOfferChanges()">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Campaign Detail Modal -->
    <div id="campaign-detail-modal" class="modal-overlay" onclick="if(event.target === this) this.style.display='none'">
        <div class="campaign-modal-content" onclick="event.stopPropagation()">
            <button onclick="document.getElementById('campaign-detail-modal').style.display='none'" class="modal-close-btn">&times;</button>
            
            <!-- Header -->
            <div class="campaign-modal-header">
                <div class="campaign-modal-icon" id="campaign-modal-icon"></div>
                <div class="campaign-modal-info">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 6px;">
                        <span class="campaign-modal-code" id="campaign-modal-code">VDAY-26</span>
                    </div>
                    <div class="campaign-modal-title" id="campaign-modal-title">Valentine's Day 2026</div>
                    <div class="campaign-modal-dates" id="campaign-modal-dates">Jan 25 - Feb 14, 2026</div>
                </div>
                <div class="campaign-modal-status active" id="campaign-modal-status"> Live</div>
            </div>

            <!-- Stats -->
            <div class="campaign-modal-stats">
                <div class="campaign-modal-stat">
                    <div class="campaign-modal-stat-value" id="campaign-stat-offers">3</div>
                    <div class="campaign-modal-stat-label">Offers</div>
                </div>
                <div class="campaign-modal-stat">
                    <div class="campaign-modal-stat-value" id="campaign-stat-pages">8</div>
                    <div class="campaign-modal-stat-label">Pages</div>
                </div>
                <div class="campaign-modal-stat">
                    <div class="campaign-modal-stat-value green" id="campaign-stat-live">6</div>
                    <div class="campaign-modal-stat-label">Live</div>
                </div>
                <div class="campaign-modal-stat">
                    <div class="campaign-modal-stat-value yellow" id="campaign-stat-dev">2</div>
                    <div class="campaign-modal-stat-label">In Dev</div>
                </div>
            </div>

            <div class="campaign-modal-body">
                <!-- Offers in this Campaign -->
                <div class="campaign-modal-section">
                    <div class="campaign-modal-section-title">OFFERS IN THIS CAMPAIGN</div>
                    <div class="campaign-offers-list" id="campaign-offers-list">
                        <!-- Offer 1 -->
                        <div class="campaign-offer-item" onclick="document.getElementById('campaign-detail-modal').style.display='none'; openOfferDetail('VDAY-COL25')">
                            <div class="campaign-offer-left">
                                <div class="campaign-offer-id">VDAY-COL25</div>
                                <div class="campaign-offer-name">Collagen 25s</div>
                                <div class="campaign-offer-meta">$33.99 / $87.00 / $132.00   Frother</div>
                            </div>
                            <div class="campaign-offer-right">
                                <span class="campaign-offer-pages">3 pages</span>
                                <span class="campaign-offer-arrow"></span>
                            </div>
                        </div>
                        <!-- Offer 2 -->
                        <div class="campaign-offer-item" onclick="document.getElementById('campaign-detail-modal').style.display='none'; openOfferDetail('VDAY-HYD30')">
                            <div class="campaign-offer-left">
                                <div class="campaign-offer-id">VDAY-HYD30</div>
                                <div class="campaign-offer-name">Hydrate</div>
                                <div class="campaign-offer-meta">$29.99 / $74.97 / $119.94   Shaker</div>
                            </div>
                            <div class="campaign-offer-right">
                                <span class="campaign-offer-pages">3 pages</span>
                                <span class="campaign-offer-arrow"></span>
                            </div>
                        </div>
                        <!-- Offer 3 -->
                        <div class="campaign-offer-item" onclick="document.getElementById('campaign-detail-modal').style.display='none'; openOfferDetail('VDAY-PRO60')">
                            <div class="campaign-offer-left">
                                <div class="campaign-offer-id">VDAY-PRO60</div>
                                <div class="campaign-offer-name">Probiotics 30B</div>
                                <div class="campaign-offer-meta">$32.95 / $79.00 / $139.00</div>
                            </div>
                            <div class="campaign-offer-right">
                                <span class="campaign-offer-pages">2 pages</span>
                                <span class="campaign-offer-arrow"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pages in this Campaign -->
                <div class="campaign-modal-section">
                    <div class="campaign-modal-section-title">PAGES IN THIS CAMPAIGN</div>
                    <div class="campaign-pages-filter">
                        <span class="campaign-page-filter active" onclick="filterCampaignPages('all', this)">All (8)</span>
                        <span class="campaign-page-filter" onclick="filterCampaignPages('live', this)">Live (6)</span>
                        <span class="campaign-page-filter" onclick="filterCampaignPages('dev', this)">In Dev (2)</span>
                    </div>
                    <div class="campaign-pages-list" id="campaign-pages-list">
                        <div class="campaign-page-item" data-status="live">
                            <div class="campaign-page-left">
                                <div class="campaign-page-name">VDay - Meta - Joint Pain</div>
                                <div class="campaign-page-meta">VDAY-COL25  Meta</div>
                            </div>
                            <div class="campaign-page-right">
                                <span class="campaign-page-status live"> Live</span>
                                <span class="campaign-page-view">View </span>
                            </div>
                        </div>
                        <div class="campaign-page-item" data-status="live">
                            <div class="campaign-page-left">
                                <div class="campaign-page-name">VDay - Meta - Energy</div>
                                <div class="campaign-page-meta">VDAY-COL25  Meta</div>
                            </div>
                            <div class="campaign-page-right">
                                <span class="campaign-page-status live"> Live</span>
                                <span class="campaign-page-view">View </span>
                            </div>
                        </div>
                        <div class="campaign-page-item" data-status="live">
                            <div class="campaign-page-left">
                                <div class="campaign-page-name">VDay - Google - Testimonial</div>
                                <div class="campaign-page-meta">VDAY-COL25  Google</div>
                            </div>
                            <div class="campaign-page-right">
                                <span class="campaign-page-status live"> Live</span>
                                <span class="campaign-page-view">View </span>
                            </div>
                        </div>
                        <div class="campaign-page-item" data-status="live">
                            <div class="campaign-page-left">
                                <div class="campaign-page-name">VDay - Hydrate Landing</div>
                                <div class="campaign-page-meta">VDAY-HYD30  Meta</div>
                            </div>
                            <div class="campaign-page-right">
                                <span class="campaign-page-status live"> Live</span>
                                <span class="campaign-page-view">View </span>
                            </div>
                        </div>
                        <div class="campaign-page-item" data-status="live">
                            <div class="campaign-page-left">
                                <div class="campaign-page-name">VDay - Hydrate TikTok</div>
                                <div class="campaign-page-meta">VDAY-HYD30  TikTok</div>
                            </div>
                            <div class="campaign-page-right">
                                <span class="campaign-page-status live"> Live</span>
                                <span class="campaign-page-view">View </span>
                            </div>
                        </div>
                        <div class="campaign-page-item" data-status="live">
                            <div class="campaign-page-left">
                                <div class="campaign-page-name">VDay - Probiotics Meta</div>
                                <div class="campaign-page-meta">VDAY-PRO60  Meta</div>
                            </div>
                            <div class="campaign-page-right">
                                <span class="campaign-page-status live"> Live</span>
                                <span class="campaign-page-view">View </span>
                            </div>
                        </div>
                        <div class="campaign-page-item" data-status="dev">
                            <div class="campaign-page-left">
                                <div class="campaign-page-name">VDay - Hydrate Email</div>
                                <div class="campaign-page-meta">VDAY-HYD30  Email</div>
                            </div>
                            <div class="campaign-page-right">
                                <span class="campaign-page-status dev"> In Dev</span>
                                <span class="campaign-page-view">View </span>
                            </div>
                        </div>
                        <div class="campaign-page-item" data-status="dev">
                            <div class="campaign-page-left">
                                <div class="campaign-page-name">VDay - Probiotics Google</div>
                                <div class="campaign-page-meta">VDAY-PRO60  Google</div>
                            </div>
                            <div class="campaign-page-right">
                                <span class="campaign-page-status dev"> In Dev</span>
                                <span class="campaign-page-view">View </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="campaign-modal-footer">
                <button class="campaign-modal-btn" onclick="document.getElementById('campaign-detail-modal').style.display='none'; openNewOfferModal()">+ Add Offer</button>
                <button class="campaign-modal-btn primary" onclick="document.getElementById('campaign-detail-modal').style.display='none'">Close</button>
            </div>
        </div>
    </div>

    <script>
        // Current base price (updated when product selected)
        let currentBasePrice = 33.99;
        
        // Product Selection
        function selectProduct(element, productId, basePrice) {
            // Remove selection from all cards
            document.querySelectorAll('.product-select-card').forEach(card => {
                card.style.border = '2px solid transparent';
                card.style.background = '#282828';
            });
            // Select this card
            element.style.border = '2px solid #1db954';
            element.style.background = 'rgba(29, 185, 84, 0.1)';
            
            // Update hidden fields
            document.getElementById('selected-product').value = productId;
            document.getElementById('selected-base-price').value = basePrice;
            currentBasePrice = basePrice;
            
            // Update base price displays
            document.getElementById('single-base-price').textContent = '$' + basePrice.toFixed(2);
            document.getElementById('3pack-base-price').textContent = '$' + (basePrice * 3).toFixed(2);
            document.getElementById('6pack-base-price').textContent = '$' + (basePrice * 6).toFixed(2);
            
            // Update final prices and margins
            document.getElementById('single-final-price').textContent = '$' + basePrice.toFixed(2);
            document.getElementById('3pack-final-price').textContent = '$' + (basePrice * 3).toFixed(2);
            document.getElementById('6pack-final-price').textContent = '$' + (basePrice * 6).toFixed(2);
            
            // Update margins (assuming $12 COGS per unit)
            updateMargin('single', basePrice);
            updateMargin('3pack', basePrice * 3);
            updateMargin('6pack', basePrice * 6);
            
            // Clear discount fields
            ['single', '3pack', '6pack'].forEach(pack => {
                document.getElementById(pack + '-dollar-off').value = '';
                document.getElementById(pack + '-percent-off').value = '';
                document.getElementById(pack + '-target-price').value = '';
            });
        }
        
        // COGS per unit (can be adjusted per product in future)
        const COGS_PER_UNIT = 12;
        
        // Update margin display
        function updateMargin(pack, finalPrice) {
            let multiplier = pack === '3pack' ? 3 : (pack === '6pack' ? 6 : 1);
            const totalCogs = COGS_PER_UNIT * multiplier;
            const margin = finalPrice - totalCogs;
            const marginPercent = (margin / finalPrice) * 100;
            
            const marginEl = document.getElementById(pack + '-margin');
            if (marginEl) {
                const color = marginPercent >= 50 ? '#1db954' : (marginPercent >= 30 ? '#ffc107' : '#dc2626');
                marginEl.style.color = color;
                marginEl.textContent = '$' + margin.toFixed(2) + ' (' + marginPercent.toFixed(0) + '%)';
            }
        }
        
        // Calculate from $ Off input
        function calcFromDollarOff(pack) {
            const dollarOff = parseFloat(document.getElementById(pack + '-dollar-off').value) || 0;
            const percentOff = (dollarOff / currentBasePrice) * 100;
            document.getElementById(pack + '-percent-off').value = percentOff.toFixed(1);
            
            let multiplier = pack === '3pack' ? 3 : (pack === '6pack' ? 6 : 1);
            const finalPrice = (currentBasePrice - dollarOff) * multiplier;
            document.getElementById(pack + '-target-price').value = finalPrice.toFixed(2);
            document.getElementById(pack + '-final-price').textContent = '$' + finalPrice.toFixed(2);
            updateMargin(pack, finalPrice);
        }
        
        // Calculate from % Discount input
        function calcFromPercent(pack) {
            const percentOff = parseFloat(document.getElementById(pack + '-percent-off').value) || 0;
            const dollarOff = (percentOff / 100) * currentBasePrice;
            document.getElementById(pack + '-dollar-off').value = dollarOff.toFixed(2);
            
            let multiplier = pack === '3pack' ? 3 : (pack === '6pack' ? 6 : 1);
            const finalPrice = (currentBasePrice - dollarOff) * multiplier;
            document.getElementById(pack + '-target-price').value = finalPrice.toFixed(2);
            document.getElementById(pack + '-final-price').textContent = '$' + finalPrice.toFixed(2);
            updateMargin(pack, finalPrice);
        }
        
        // Calculate from Target Price input
        function calcFromTarget(pack) {
            const targetPrice = parseFloat(document.getElementById(pack + '-target-price').value) || 0;
            let multiplier = pack === '3pack' ? 3 : (pack === '6pack' ? 6 : 1);
            const baseTotal = currentBasePrice * multiplier;
            const dollarOffTotal = baseTotal - targetPrice;
            const dollarOffPerUnit = dollarOffTotal / multiplier;
            const percentOff = (dollarOffPerUnit / currentBasePrice) * 100;
            
            document.getElementById(pack + '-dollar-off').value = dollarOffPerUnit.toFixed(2);
            document.getElementById(pack + '-percent-off').value = percentOff.toFixed(1);
            document.getElementById(pack + '-final-price').textContent = '$' + targetPrice.toFixed(2);
            updateMargin(pack, targetPrice);
        }
        
        // Toggle new campaign fields
        function toggleNewCampaignFields() {
            const selector = document.getElementById('campaign-selector');
            const newFields = document.getElementById('new-campaign-fields');
            if (selector.value === 'new') {
                newFields.style.display = 'block';
            } else {
                newFields.style.display = 'none';
            }
        }
        
        // Page Request Button Handler
        document.getElementById('request-page-btn')?.addEventListener('click', function() {
            document.getElementById('page-request-modal').style.display = 'block';
        });
        
        // Submit Page Request
        function submitPageRequest(event) {
            event.preventDefault();
            
            const pageName = document.getElementById('page-name').value;
            const campaign = document.getElementById('page-campaign').value;
            const channel = document.getElementById('page-channel').value;
            const hook = document.getElementById('page-hook').value;
            
            // Check for duplicates (simplified check)
            // In real app, this would check against database
            if (campaign === 'valentines' && channel === 'meta' && hook === 'joint-pain') {
                document.getElementById('duplicate-alert-modal').style.display = 'block';
                return;
            }
            
            submitPageRequestAnyway();
        }
        
        function submitPageRequestAnyway() {
            const pageName = document.getElementById('page-name').value;
            alert(' Page request submitted!\n\nPage: ' + pageName + '\n\nThe web team has been notified and will add the URL when ready.');
            document.getElementById('page-request-modal').style.display = 'none';
            document.getElementById('page-request-form').reset();
        }
        
        // Hook/Angle Search Functions
        function filterHooks() {
            const search = document.getElementById('page-hook-search').value.toLowerCase();
            const dropdown = document.getElementById('hook-dropdown');
            const options = dropdown.querySelectorAll('.hook-option');
            const addNew = document.getElementById('add-new-hook');
            
            let hasMatch = false;
            options.forEach(opt => {
                if (opt.textContent.toLowerCase().includes(search)) {
                    opt.style.display = 'block';
                    hasMatch = true;
                } else {
                    opt.style.display = 'none';
                }
            });
            
            // Show "Add new" option if no exact match
            if (search && !hasMatch) {
                addNew.style.display = 'block';
                document.getElementById('new-hook-text').textContent = search;
            } else {
                addNew.style.display = 'none';
            }
        }
        
        function showHookDropdown() {
            document.getElementById('hook-dropdown').style.display = 'block';
        }
        
        function selectHook(value, label) {
            document.getElementById('page-hook').value = value;
            document.getElementById('page-hook-search').value = label;
            document.getElementById('hook-dropdown').style.display = 'none';
        }
        
        // Close hook dropdown when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('#page-hook-search') && !e.target.closest('#hook-dropdown')) {
                const dropdown = document.getElementById('hook-dropdown');
                if (dropdown) dropdown.style.display = 'none';
            }
        });

        // Filter Offers Function
        function filterOffers() {
            const search = document.getElementById('offer-search').value.toLowerCase();
            const campaign = document.getElementById('offer-campaign-filter').value;
            const product = document.getElementById('offer-product-filter').value;
            const status = document.getElementById('offer-status-filter').value;
            
            const cards = document.querySelectorAll('.offer-card-new');
            cards.forEach(card => {
                const cardSearch = card.dataset.search ? card.dataset.search.toLowerCase() : '';
                const cardProduct = card.dataset.product;
                const statusEl = card.querySelector('.offer-card-status');
                const cardStatus = statusEl?.classList.contains('active') ? 'active' : 'pending';
                const cardText = card.textContent.toLowerCase();
                
                let show = true;
                
                if (search && !cardText.includes(search) && !cardSearch.includes(search)) show = false;
                if (product !== 'all' && cardProduct !== product) show = false;
                if (status !== 'all' && cardStatus !== status) show = false;
                
                card.style.display = show ? '' : 'none';
            });
        }
        
        // Check for duplicate offers when single price is entered
        const existingOffers = [
            { id: 'VDAY-COL25', name: 'Collagen 25s', sku: 'COL-25', singlePrice: 33.99, threePrice: 87.00, sixPrice: 132.00 },
            { id: 'VDAY-HYD30', name: 'Hydrate', sku: 'HYD-30', singlePrice: 29.99, threePrice: 74.97, sixPrice: 119.94 },
            { id: 'EG-PRO60', name: 'Probiotics 30B', sku: 'PRO-60', singlePrice: 32.95, threePrice: 79.00, sixPrice: 139.00 },
            { id: 'EG-MCT30', name: 'MCT Oil Powder', sku: 'MCT-30', singlePrice: 39.99, threePrice: 99.00, sixPrice: 169.00 }
        ];
        
        function checkForDuplicateOffer() {
            const singleFinalPrice = parseFloat(document.getElementById('single-final-price').textContent.replace('$', '')) || 0;
            const warningEl = document.getElementById('offer-duplicate-warning');
            const listEl = document.getElementById('duplicate-offer-list');
            
            if (singleFinalPrice <= 0) {
                warningEl.style.display = 'none';
                return;
            }
            
            // Find offers with similar single price (within $2)
            const matches = existingOffers.filter(offer => 
                Math.abs(offer.singlePrice - singleFinalPrice) <= 2
            );
            
            if (matches.length > 0) {
                listEl.innerHTML = matches.map(offer => `
                    <div style="background: rgba(0,0,0,0.3); padding: 8px 12px; border-radius: 4px; margin-top: 6px; font-size: 12px; color: #ccc;">
                        <span style="font-family: monospace; color: #1db954; background: rgba(29,185,84,0.1); padding: 2px 6px; border-radius: 3px; margin-right: 8px;">${offer.id}</span>
                        <strong>${offer.name}</strong> (${offer.sku}) - 
                        Single: $${offer.singlePrice} / 3-Pack: $${offer.threePrice} / 6-Pack: $${offer.sixPrice}
                    </div>
                `).join('');
                warningEl.style.display = 'block';
            } else {
                warningEl.style.display = 'none';
            }
        }
        
        // Offer Detail Modal
        function openOfferDetail(offerCode) {
            document.getElementById('offer-detail-modal').style.display = 'block';
        }
        
        // Toggle offer modal collapsible section
        function toggleOfferSection(header) {
            const content = header.nextElementSibling;
            const icon = header.querySelector('.offer-collapse-icon');
            
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                content.classList.add('expanded');
                icon.classList.add('expanded');
            } else {
                content.classList.remove('expanded');
                content.classList.add('collapsed');
                icon.classList.remove('expanded');
            }
        }
        
        // Filter pages in offer modal
        function filterOfferPages(channel, chip) {
            // Update active chip
            document.querySelectorAll('.offer-page-filter-chip').forEach(c => c.classList.remove('active'));
            chip.classList.add('active');
            
            // Filter pages
            document.querySelectorAll('.offer-page-item').forEach(item => {
                if (channel === 'all' || item.dataset.channel === channel) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }
        
        // Recalculate offer metrics
        function recalculateOfferMetrics() {
            // Get values from inputs
            const rows = document.querySelectorAll('.offer-metrics-table tbody tr:not(.offer-blended-row)');
            let totalRevenue = 0;
            let totalCogs = 0;
            let totalOrders = 0;
            
            rows.forEach(row => {
                const inputs = row.querySelectorAll('.offer-editable-input');
                if (inputs.length >= 4) {
                    const price = parseFloat(inputs[0].value.replace('$', '')) || 0;
                    const cogs = parseFloat(inputs[1].value.replace('$', '')) || 0;
                    const orders = parseFloat(inputs[3].value) || 0;
                    
                    const margin = price > 0 ? ((price - cogs) / price * 100).toFixed(2) : 0;
                    const revenue = price * orders;
                    const totalCogsRow = cogs * orders;
                    
                    // Update calculated fields
                    const marginCell = row.querySelector('.offer-margin');
                    if (marginCell) marginCell.textContent = margin + '%';
                    
                    const tierName = row.querySelector('.offer-tier-name').textContent.toLowerCase();
                    const revenueCell = document.getElementById('offer-revenue-' + (tierName === '3-pack' ? '3pack' : tierName === '6-pack' ? '6pack' : tierName));
                    const cogsCell = document.getElementById('offer-cogs-' + (tierName === '3-pack' ? '3pack' : tierName === '6-pack' ? '6pack' : tierName));
                    
                    if (revenueCell) revenueCell.textContent = '$' + revenue.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                    if (cogsCell) cogsCell.textContent = '$' + totalCogsRow.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                    
                    totalRevenue += revenue;
                    totalCogs += totalCogsRow;
                    totalOrders += orders;
                }
            });
            
            // Update blended row
            const blendedMargin = totalRevenue > 0 ? ((totalRevenue - totalCogs) / totalRevenue * 100).toFixed(2) : 0;
            document.getElementById('offer-margin-blended').textContent = blendedMargin + '%';
            document.getElementById('offer-orders-blended').textContent = totalOrders;
            document.getElementById('offer-revenue-blended').textContent = '$' + totalRevenue.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            document.getElementById('offer-cogs-blended').textContent = '$' + totalCogs.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
        }
        
        // Save offer changes
        function saveOfferChanges() {
            alert(' Changes saved successfully!');
            document.getElementById('offer-detail-modal').style.display = 'none';
        }
        
        // Show pages using an offer (just opens the offer detail which shows pages)
        function showOfferPages(offerCode) {
            openOfferDetail(offerCode);
        }
        
        // Toggle Product View (Pricing vs Details)
        function toggleProductView(view) {
            const pricingView = document.getElementById('products-pricing-view');
            const detailsView = document.getElementById('products-details-view');
            const pricingBtn = document.getElementById('pricing-view-btn');
            const detailsBtn = document.getElementById('details-view-btn');
            
            if (view === 'pricing') {
                pricingView.style.display = 'block';
                detailsView.style.display = 'none';
                pricingBtn.style.background = '#1db954';
                pricingBtn.style.color = '#000';
                detailsBtn.style.background = 'transparent';
                detailsBtn.style.color = '#fff';
            } else {
                pricingView.style.display = 'none';
                detailsView.style.display = 'block';
                detailsBtn.style.background = '#1db954';
                detailsBtn.style.color = '#000';
                pricingBtn.style.background = 'transparent';
                pricingBtn.style.color = '#fff';
            }
        }
        
        // New Offer Modal (reuse existing pricing modal)
        function openNewOfferModal() {
            document.getElementById('request-form-modal').style.display = 'block';
        }
        
        // Page Detail Modal
        function openPageDetail(pageId) {
            document.getElementById('page-detail-modal').style.display = 'block';
        }
        
        // Searchable Dropdown Functions
        function toggleSearchDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            const menu = dropdown.querySelector('.dropdown-menu');
            const isOpen = menu.style.display === 'block';
            
            // Close all dropdowns first
            document.querySelectorAll('.dropdown-menu').forEach(m => m.style.display = 'none');
            
            if (!isOpen) {
                menu.style.display = 'block';
                const searchInput = menu.querySelector('.dropdown-search');
                if (searchInput) searchInput.focus();
            }
        }
        
        function filterDropdownOptions(dropdownId, searchTerm) {
            const dropdown = document.getElementById(dropdownId);
            const options = dropdown.querySelectorAll('.dropdown-option');
            const term = searchTerm.toLowerCase();
            
            options.forEach(option => {
                const text = option.textContent.toLowerCase();
                if (text.includes(term)) {
                    option.classList.remove('hidden');
                } else {
                    option.classList.add('hidden');
                }
            });
        }
        
        function selectDropdownOption(dropdownId, value, displayText) {
            const dropdown = document.getElementById(dropdownId);
            const hiddenInput = dropdown.querySelector('input[type="hidden"]');
            const selectedText = dropdown.querySelector('[id$="-selected-text"]');
            const menu = dropdown.querySelector('.dropdown-menu');
            
            if (hiddenInput) hiddenInput.value = value;
            if (selectedText) selectedText.textContent = displayText;
            menu.style.display = 'none';
            
            // Clear search
            const searchInput = menu.querySelector('.dropdown-search');
            if (searchInput) searchInput.value = '';
            dropdown.querySelectorAll('.dropdown-option').forEach(opt => opt.classList.remove('hidden'));
        }
        
        // Close dropdowns when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.searchable-dropdown')) {
                document.querySelectorAll('.dropdown-menu').forEach(m => m.style.display = 'none');
            }
        });
        
        // Test Tracker Tab Switching
        function showTestTab(tabId) {
            // Hide all tabs
            document.getElementById('daily-tab').style.display = 'none';
            document.getElementById('totals-tab').style.display = 'none';
            
            // Show selected tab
            document.getElementById(tabId + '-tab').style.display = 'block';
            
            // Update button states
            document.querySelectorAll('.test-tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }
        
        // Filter Dropdown Functions
        function toggleFilterDropdown(el) {
            const menu = el.nextElementSibling;
            // Close all other dropdowns
            document.querySelectorAll('.filter-menu').forEach(m => {
                if (m !== menu) m.classList.remove('open');
            });
            menu.classList.toggle('open');
            // Focus search if exists
            const search = menu.querySelector('.filter-search');
            if (search) search.focus();
        }
        
        function selectFilterOption(el) {
            const dropdown = el.closest('.filter-dropdown');
            const selectText = dropdown.querySelector('.filter-select span:first-child');
            const menu = dropdown.querySelector('.filter-menu');
            
            // Update selected state
            dropdown.querySelectorAll('.filter-option').forEach(opt => opt.classList.remove('selected'));
            el.classList.add('selected');
            
            // Update display text (remove checkmark)
            selectText.textContent = el.textContent.replace('', '').trim();
            
            // Close menu
            menu.classList.remove('open');
        }
        
        function filterOptions(input) {
            const menu = input.closest('.filter-menu');
            const options = menu.querySelectorAll('.filter-option');
            const term = input.value.toLowerCase();
            
            options.forEach(opt => {
                const text = opt.textContent.toLowerCase();
                if (text.includes(term)) {
                    opt.classList.remove('hidden');
                } else {
                    opt.classList.add('hidden');
                }
            });
        }
        
        // Close filter dropdowns when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.filter-dropdown')) {
                document.querySelectorAll('.filter-menu').forEach(m => m.classList.remove('open'));
            }
        });
        
        // Insight Tab Switching
        function switchInsightTab(btn, tab) {
            document.querySelectorAll('.insight-tab').forEach(t => t.classList.remove('active'));
            btn.classList.add('active');
            // In production, this would filter the insights by product
        }
        
        // Test Search Function
        function searchTests(term) {
            const container = document.getElementById('tests-container');
            const cards = container.querySelectorAll('.test-card');
            const searchTerm = term.toLowerCase();
            let visibleCount = 0;
            
            cards.forEach(card => {
                const testName = card.dataset.testName || '';
                const cid = card.dataset.cid || '';
                const hypothesis = card.dataset.hypothesis || '';
                const allText = (testName + ' ' + cid + ' ' + hypothesis).toLowerCase();
                
                if (searchTerm === '' || allText.includes(searchTerm)) {
                    card.style.display = '';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Update count
            document.getElementById('test-count').textContent = visibleCount + ' tests';
        }
        
        // Copy page URL to clipboard
        function copyPageUrl() {
            const urlInput = document.getElementById('page-url-input');
            urlInput.select();
            document.execCommand('copy');
            alert(' URL copied to clipboard!');
        }
        
        // Save page changes
        function savePageChanges() {
            const campaign = document.getElementById('page-campaign-select').value;
            const offer = document.getElementById('page-offer-select').value;
            const url = document.getElementById('page-url-input').value;
            
            alert(' Page settings saved!\n\nCampaign: ' + campaign + '\nOffer: ' + offer + '\nURL: ' + url);
        }
        
        // Add URL Modal (Web Team)
        function openAddUrlModal(pageId) {
            document.getElementById('add-url-page-name').textContent = pageId.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
            document.getElementById('add-url-modal').style.display = 'block';
        }
        
        function submitNewUrl() {
            const url = document.getElementById('new-page-url').value;
            if (url) {
                alert(' URL Added!\n\nPage is now LIVE and will appear in Testing tracking.\n\nURL: ' + url);
                document.getElementById('add-url-modal').style.display = 'none';
            }
        }
        
        // Status Change Modal
        function openStatusChangeModal() {
            document.getElementById('status-change-modal').style.display = 'block';
        }
        
        function toggleReasonField() {
            const status = document.getElementById('new-status').value;
            const reasonField = document.getElementById('reason-field');
            if (status === 'paused' || status === 'unpublished') {
                reasonField.style.display = 'block';
            } else {
                reasonField.style.display = 'none';
            }
        }
        
        function submitStatusChange() {
            const status = document.getElementById('new-status').value;
            const reason = document.getElementById('status-reason').value;
            alert(' Status updated to: ' + status + (reason ? '\nReason: ' + reason : ''));
            document.getElementById('status-change-modal').style.display = 'none';
            document.getElementById('page-detail-modal').style.display = 'none';
        }
        
        // Channel-specific breakdown options
        function updateChannelBreakdown() {
            const channel = document.getElementById('channel-selector').value;
            const section = document.getElementById('channel-breakdown-section');
            
            const channelOptions = {
                'internal-google': {
                    icon: '',
                    name: 'Internal Google',
                    fields: `
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label"># of Landing Pages Needed</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                            <div class="form-group">
                                <label class="form-label"># of Ad Angles</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Target Keywords/Audiences</label>
                            <input type="text" class="form-input" placeholder="e.g., collagen supplements, joint pain relief">
                        </div>
                    `
                },
                'meta': {
                    icon: '',
                    name: 'Meta',
                    fields: `
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label"># of Landing Pages Needed</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                            <div class="form-group">
                                <label class="form-label"># of Ad Creatives</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Target Audience</label>
                                <select class="form-select">
                                    <option value="cold">Cold Traffic</option>
                                    <option value="warm">Warm Traffic</option>
                                    <option value="retargeting">Retargeting</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Primary Hook/Angle</label>
                                <select class="form-select">
                                    <option value="">Select...</option>
                                    <option value="joint-pain">Joint Pain</option>
                                    <option value="energy">Energy</option>
                                    <option value="weight-loss">Weight Loss</option>
                                    <option value="beauty">Beauty/Skin</option>
                                    <option value="testimonial">Testimonial</option>
                                </select>
                            </div>
                        </div>
                    `
                },
                'ret-sms': {
                    icon: '',
                    name: 'Ret SMS',
                    fields: `
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label"># of SMS Campaigns</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Target Segment</label>
                                <select class="form-select">
                                    <option value="all">All Subscribers</option>
                                    <option value="vip">VIP Customers</option>
                                    <option value="lapsed">Lapsed Buyers</option>
                                    <option value="new">New Subscribers</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">SMS Copy Angle</label>
                            <input type="text" class="form-input" placeholder="e.g., Urgency, Exclusive offer, Last chance">
                        </div>
                    `
                },
                'ret-email': {
                    icon: '',
                    name: 'Ret Email',
                    fields: `
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label"># of Email Campaigns</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                            <div class="form-group">
                                <label class="form-label"># of Email Angles</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Target Segment</label>
                                <select class="form-select">
                                    <option value="all">Full List</option>
                                    <option value="engaged">Engaged (90 days)</option>
                                    <option value="buyers">Past Buyers</option>
                                    <option value="vip">VIP</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email Type</label>
                                <select class="form-select">
                                    <option value="promo">Promotional</option>
                                    <option value="educational">Educational</option>
                                    <option value="testimonial">Testimonial</option>
                                </select>
                            </div>
                        </div>
                    `
                },
                'amazon': {
                    icon: '',
                    name: 'Amazon',
                    fields: `
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Coupon Type</label>
                                <select class="form-select">
                                    <option value="percent">Percentage Off</option>
                                    <option value="dollar">Dollar Off</option>
                                    <option value="bogo">BOGO</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Lightning Deal?</label>
                                <select class="form-select">
                                    <option value="no">No</option>
                                    <option value="yes">Yes - Request</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ASINs to Include</label>
                            <input type="text" class="form-input" placeholder="e.g., B08X123, B09Y456">
                        </div>
                    `
                },
                'youtube': {
                    icon: '',
                    name: 'YouTube',
                    fields: `
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label"># of Landing Pages Needed</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                            <div class="form-group">
                                <label class="form-label"># of Video Ads</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Video Style</label>
                            <select class="form-select">
                                <option value="dr-chad">Dr. Chad</option>
                                <option value="testimonial">Testimonial</option>
                                <option value="ugc">UGC Style</option>
                                <option value="product">Product Demo</option>
                            </select>
                        </div>
                    `
                },
                'tiktok': {
                    icon: '',
                    name: 'TikTok',
                    fields: `
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label"># of Landing Pages Needed</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                            <div class="form-group">
                                <label class="form-label"># of Creatives</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Content Style</label>
                            <select class="form-select">
                                <option value="ugc">UGC</option>
                                <option value="trending">Trending Sound</option>
                                <option value="educational">Educational</option>
                                <option value="testimonial">Testimonial</option>
                            </select>
                        </div>
                    `
                },
                'tigertail': {
                    icon: '',
                    name: 'TigerTail',
                    fields: `
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label"># of Landing Pages Needed</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                            <div class="form-group">
                                <label class="form-label"># of Ad Sets</label>
                                <input type="number" class="form-input" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Traffic Source</label>
                            <select class="form-select">
                                <option value="native">Native Ads</option>
                                <option value="display">Display</option>
                                <option value="social">Social</option>
                            </select>
                        </div>
                    `
                },
                'shopify': {
                    icon: '',
                    name: 'Shopify',
                    fields: `
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Discount Code</label>
                                <input type="text" class="form-input" placeholder="e.g., VDAY25">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Banner/Homepage Update?</label>
                                <select class="form-select">
                                    <option value="yes">Yes</option>
                                    <option value="no">No</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Collection Page Updates Needed</label>
                            <input type="text" class="form-input" placeholder="e.g., Sale page, Collagen collection">
                        </div>
                    `
                }
            };
            
            if (channel && channelOptions[channel]) {
                const opt = channelOptions[channel];
                section.innerHTML = '<h3 style="font-size: 16px; font-weight: 700; margin: 24px 0 16px; color: #a855f7;">' + opt.icon + ' ' + opt.name + ' Details</h3>' + opt.fields;
            } else {
                section.innerHTML = '<h3 style="font-size: 16px; font-weight: 700; margin: 24px 0 16px; color: #a855f7;"> Channel Details</h3><p style="font-size: 13px; color: #888; margin-bottom: 16px;">Select a channel above to see channel-specific options</p>';
            }
        }
        
        // Submit to Admin
        function submitCampaignRequest(event) {
            event.preventDefault();
            
            const requestData = {
                requestor: document.getElementById('requestor-name').value,
                email: document.getElementById('requestor-email').value,
                campaign: document.getElementById('campaign-selector').value,
                channel: document.getElementById('channel-selector').value,
                campaignName: document.getElementById('campaign-name')?.value || '',
                notes: document.getElementById('strategy-notes').value,
                timestamp: new Date().toISOString()
            };
            
            // Add to pending promos in Admin
            addPendingPromo(requestData);
            
            // Close modal and reset
            document.getElementById('request-form-modal').style.display = 'none';
            document.getElementById('promo-request-form').reset();
            
            // Show success and navigate to admin
            alert(' Request submitted!\n\nYour campaign request has been sent to Admin for approval.\n\nClick OK to view pending requests (Admin password: 123)');
        }
        
        // Add to Admin pending list
        function addPendingPromo(data) {
            const pendingList = document.getElementById('pending-promos-list');
            if (!pendingList) return;
            
            const channelNames = {
                'internal-google': ' Internal Google',
                'tigertail': ' TigerTail',
                'ret-sms': ' Ret SMS',
                'ret-email': ' Ret Email',
                'amazon': ' Amazon',
                'shopify': ' Shopify',
                'meta': ' Meta',
                'youtube': ' YouTube',
                'tiktok': ' TikTok'
            };
            
            const campaignNames = {
                'evergreen-main': ' Evergreen - Main Funnel',
                'evergreen-cold': ' Evergreen - Cold Traffic',
                'evergreen-ret': ' Evergreen - Retargeting',
                'oneoff': ' One-Off / Test',
                'flash': ' Flash Sale',
                'valentines': " Valentine's Day 2026",
                'spring': ' Spring Renewal',
                'summer': ' Summer Sale',
                'halloween': ' Halloween',
                'thanksgiving': ' Thanksgiving',
                'blackfriday': ' Black Friday',
                'cybermonday': ' Cyber Monday',
                'christmas': ' Christmas'
            };
            
            const campaignDisplay = campaignNames[data.campaign] || data.campaign;
            const channelDisplay = channelNames[data.channel] || data.channel;
            
            const newCard = document.createElement('div');
            newCard.className = 'pending-promo-card';
            newCard.style.cssText = 'background: #181818; border-radius: 6px; padding: 24px; margin-bottom: 16px; border-left: 4px solid #ffc107;';
            newCard.innerHTML = '<div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;"><div><h3 style="font-size: 18px; font-weight: 700;">' + campaignDisplay + '</h3><p style="font-size: 13px; color: #b3b3b3;">Channel: ' + channelDisplay + '</p><p style="font-size: 12px; color: #888;">Requested by: ' + data.requestor + '  Just now</p></div><span style="background: rgba(255, 193, 7, 0.2); color: #ffc107; padding: 4px 12px; border-radius: 6px; font-size: 11px; font-weight: 600;">PENDING</span></div><div style="display: flex; gap: 12px;"><button onclick="approvePromo(this)" style="flex: 1; padding: 12px; background: #1db954; color: #000; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;"> Approve</button><button onclick="rejectPromo(this)" style="flex: 1; padding: 12px; background: #dc2626; color: #fff; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;"> Reject</button></div>';
            
            pendingList.insertBefore(newCard, pendingList.firstChild);
        }

        // Admin Access Function
        function handleAdminAccess() {
            const password = prompt('Enter admin password:');
            if (password === '123') {
                // Show admin nav item
                const adminNav = document.getElementById('admin-nav');
                if (adminNav) {
                    adminNav.style.display = 'flex';
                }
                // Navigate to admin view
                document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
                document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
                if (adminNav) adminNav.classList.add('active');
                const adminView = document.getElementById('admin-view');
                if (adminView) adminView.classList.add('active');
                alert('Admin access granted!');
            } else if (password !== null) {
                alert('Incorrect password');
            }
        }

        // Product data from pricing sheet - FULL DETAILS
        const products = [
            { 
                name: 'Collagen 25s', 
                icon: '',
                image: '', // Image URL needed - add your product image URL here
                sku: 'COL-001', 
                unit1: 33.99,
                shipping1: 9.00,
                total1: 42.99,
                servings1: 25,
                pricePerServing1: 1.36,
                cogs1: 15.34,
                unit3: 29.00,
                shipping3: 0.00,
                total3: 87.00,
                servings3: 75,
                pricePerServing3: 1.16,
                cogs3: 23.76,
                unit6: 22.00,
                shipping6: 0.00,
                total6: 132.00,
                servings6: 150,
                pricePerServing6: 0.88,
                cogs6: 36.39,
                originalPrice3: 110.97,
                originalPrice6: 212.94,
                margin: '71.37%',
                discount3: '15%',
                discount6: '35%',
                savings3: '$23.97',
                savings6: '$80.94',
                savingsWithFrother3: '$48.92',
                savingsWithFrother6: '$105.89',
                savingsWithTumbler3: '$56.96',
                savingsWithTumbler6: '$113.93',
                savingsWithShaker3: '$52.96',
                savingsWithShaker6: '$109.93',
                savingsWithTote3: '$51.96',
                savingsWithTote6: '$108.93',
                savingsWithMug3: '$52.92',
                savingsWithMug6: '$109.89',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Frother', 'Tumbler', 'Shaker'],
                category: 'collagen' 
            },
            { 
                name: 'Collagen 56s', 
                icon: '', 
                sku: 'COL-056', 
                unit1: 48.99, 
                unit3: 39.00, 
                unit6: 32.00,
                originalPrice3: 155.97,
                originalPrice6: 302.94,
                margin: '72.01%',
                discount3: '20%',
                discount6: '35%',
                savings3: '$38.97',
                savings6: '$110.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Frother', 'Tumbler'],
                category: 'collagen' 
            },
            { 
                name: 'Hydrate', 
                icon: '', 
                sku: 'HYD-001', 
                unit1: 39.99, 
                unit3: 36.00, 
                unit6: 32.00,
                originalPrice3: 128.97,
                originalPrice6: 248.94,
                margin: '70.39%',
                discount3: '10%',
                discount6: '20%',
                savings3: '$20.97',
                savings6: '$56.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Shaker', 'Tumbler'],
                category: 'supplements' 
            },
            { 
                name: 'Creatine', 
                icon: '', 
                sku: 'CRE-001', 
                unit1: 37.99, 
                unit3: 34.00, 
                unit6: 27.00,
                originalPrice3: 122.97,
                originalPrice6: 236.94,
                margin: '71.46%',
                discount3: '11%',
                discount6: '29%',
                savings3: '$20.97',
                savings6: '$74.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Shaker'],
                category: 'supplements' 
            },
            { 
                name: 'MCT Oil', 
                icon: '', 
                sku: 'MCT-001', 
                unit1: 39.99, 
                unit3: 35.00, 
                unit6: 28.00,
                originalPrice3: 128.97,
                originalPrice6: 248.94,
                margin: '70.88%',
                discount3: '12%',
                discount6: '30%',
                savings3: '$23.97',
                savings6: '$80.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Frother'],
                category: 'supplements' 
            },
            { 
                name: 'Krill Oil', 
                icon: '', 
                sku: 'KRL-001', 
                unit1: 31.99, 
                unit3: 28.00, 
                unit6: 21.00,
                originalPrice3: 104.97,
                originalPrice6: 200.94,
                margin: '73.72%',
                discount3: '12%',
                discount6: '34%',
                savings3: '$20.97',
                savings6: '$74.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Tote'],
                category: 'supplements' 
            },
            { 
                name: 'Berberine', 
                icon: '', 
                sku: 'BER-001', 
                unit1: 35.99, 
                unit3: 32.00, 
                unit6: 27.00,
                originalPrice3: 116.97,
                originalPrice6: 224.94,
                margin: '72.71%',
                discount3: '11%',
                discount6: '25%',
                savings3: '$20.97',
                savings6: '$62.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Mug'],
                category: 'supplements' 
            },
            { 
                name: 'Fiber', 
                icon: '', 
                sku: 'FIB-001', 
                unit1: 41.99, 
                unit3: 37.00, 
                unit6: 31.00,
                originalPrice3: 134.97,
                originalPrice6: 260.94,
                margin: '73.33%',
                discount3: '12%',
                discount6: '26%',
                savings3: '$23.97',
                savings6: '$74.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Tumbler'],
                category: 'supplements' 
            },
            { 
                name: 'Bone Health Collagen', 
                icon: '', 
                sku: 'BHC-001', 
                unit1: 59.99, 
                unit3: 51.00, 
                unit6: 39.00,
                originalPrice3: 188.97,
                originalPrice6: 368.94,
                margin: '76.04%',
                discount3: '15%',
                discount6: '35%',
                savings3: '$35.97',
                savings6: '$134.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Frother', 'Tumbler'],
                category: 'collagen' 
            },
            { 
                name: 'Liposomal Vitamin C', 
                icon: '', 
                sku: 'VTC-001', 
                unit1: 34.99, 
                unit3: 31.00, 
                unit6: 27.00,
                originalPrice3: 113.97,
                originalPrice6: 218.94,
                margin: '72.93%',
                discount3: '11%',
                discount6: '23%',
                savings3: '$20.97',
                savings6: '$56.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Mug'],
                category: 'supplements' 
            },
            { 
                name: 'Joint Health Collagen', 
                icon: '', 
                sku: 'JHC-001', 
                unit1: 59.99, 
                unit3: 51.00, 
                unit6: 39.00,
                originalPrice3: 188.97,
                originalPrice6: 368.94,
                margin: '76.00%',
                discount3: '15%',
                discount6: '35%',
                savings3: '$35.97',
                savings6: '$134.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Frother', 'Tumbler'],
                category: 'collagen' 
            },
            { 
                name: 'Colostrum', 
                icon: '', 
                sku: 'CLT-001', 
                unit1: 69.99, 
                unit3: 63.00, 
                unit6: 55.00,
                originalPrice3: 218.97,
                originalPrice6: 428.94,
                margin: '75.23%',
                discount3: '10%',
                discount6: '21%',
                savings3: '$29.97',
                savings6: '$98.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Tumbler', 'Shaker'],
                category: 'supplements' 
            },
            { 
                name: 'D3K2 4oz', 
                icon: '', 
                sku: 'D3K-001', 
                unit1: 36.99, 
                unit3: 33.00, 
                unit6: 28.00,
                originalPrice3: 119.97,
                originalPrice6: 230.94,
                margin: '74.52%',
                discount3: '11%',
                discount6: '24%',
                savings3: '$20.97',
                savings6: '$62.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Mug'],
                category: 'supplements' 
            },
            { 
                name: 'NAC', 
                icon: '', 
                sku: 'NAC-001', 
                unit1: 43.99, 
                unit3: 39.00, 
                unit6: 32.00,
                originalPrice3: 140.97,
                originalPrice6: 272.94,
                margin: '70.78%',
                discount3: '11%',
                discount6: '27%',
                savings3: '$23.97',
                savings6: '$80.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Tumbler'],
                category: 'supplements' 
            },
            { 
                name: 'Complete Protein', 
                icon: '', 
                sku: 'PRO-001', 
                unit1: 99.99, 
                unit3: 89.00, 
                unit6: 79.00,
                originalPrice3: 308.97,
                originalPrice6: 608.94,
                margin: '70.08%',
                discount3: '11%',
                discount6: '21%',
                savings3: '$41.97',
                savings6: '$134.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Frother', 'Shaker', 'Tumbler'],
                category: 'supplements' 
            },
            { 
                name: 'CoQ10', 
                icon: '', 
                sku: 'COQ-001', 
                unit1: 42.99, 
                unit3: 39.00, 
                unit6: 34.00,
                originalPrice3: 137.97,
                originalPrice6: 266.94,
                margin: '75.17%',
                discount3: '9%',
                discount6: '21%',
                savings3: '$20.97',
                savings6: '$62.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Mug'],
                category: 'supplements' 
            },
            { 
                name: 'Organ Complex', 
                icon: '', 
                sku: 'ORG-001', 
                unit1: 59.99, 
                unit3: 54.00, 
                unit6: 48.00,
                originalPrice3: 188.97,
                originalPrice6: 368.94,
                margin: '72.34%',
                discount3: '10%',
                discount6: '20%',
                savings3: '$26.97',
                savings6: '$80.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Tumbler', 'Shaker'],
                category: 'supplements' 
            },
            { 
                name: 'Hydrate Stick Packs', 
                icon: '', 
                sku: 'HYD-SP', 
                unit1: 54.99, 
                unit3: 49.00, 
                unit6: 44.00,
                originalPrice3: 173.97,
                originalPrice6: 338.94,
                margin: '69.90%',
                discount3: '11%',
                discount6: '20%',
                savings3: '$26.97',
                savings6: '$74.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Shaker', 'Tote'],
                category: 'supplements' 
            },
            { 
                name: 'Flavored Collagen', 
                icon: '', 
                sku: 'FLC-001', 
                unit1: 42.99, 
                unit3: 38.00, 
                unit6: 34.00,
                originalPrice3: 137.97,
                originalPrice6: 266.94,
                margin: '70.32%',
                discount3: '12%',
                discount6: '21%',
                savings3: '$23.97',
                savings6: '$62.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Frother', 'Tumbler'],
                category: 'collagen' 
            },
            { 
                name: 'Creamers', 
                icon: '', 
                sku: 'CRM-001', 
                unit1: 42.99, 
                unit3: 39.00, 
                unit6: 34.00,
                originalPrice3: 137.97,
                originalPrice6: 266.94,
                margin: '71.96%',
                discount3: '9%',
                discount6: '21%',
                savings3: '$20.97',
                savings6: '$62.94',
                freeGiftBundles: ['3-Pack', '6-Pack'],
                freeGifts: ['Frother', 'Mug'],
                category: 'supplements' 
            }
        ];

        // Calendar state
        let currentMonth = 0; // January 2026
        let currentYear = 2026;
        const monthNames = ["January", "February", "March", "April", "May", "June", 
                           "July", "August", "September", "October", "November", "December"];

        // Promo data - each promo can have different channels with different date ranges
        const promos = [
            {
                name: "Valentine's Day Sale",
                icon: "",
                filter: "valentines",
                requestDeadline: new Date(2026, 0, 11), // Jan 11 - 2 weeks before launch
                prepStart: new Date(2026, 0, 13), // Jan 13
                launchDate: new Date(2026, 0, 25), // Jan 25
                endDate: new Date(2026, 1, 14), // Feb 14
                channels: {
                    all: { start: new Date(2026, 0, 25), end: new Date(2026, 1, 14) },
                    amazon: { start: new Date(2026, 0, 25), end: new Date(2026, 1, 14) },
                    shopify: { start: new Date(2026, 0, 25), end: new Date(2026, 1, 14) },
                    email: { start: new Date(2026, 0, 25), end: new Date(2026, 1, 10) },
                    social: { start: new Date(2026, 0, 20), end: new Date(2026, 1, 14) }
                }
            },
            {
                name: "Spring Renewal",
                icon: "",
                filter: "spring",
                requestDeadline: new Date(2026, 1, 15), // Feb 15 - 2 weeks before launch
                prepStart: new Date(2026, 1, 15), // Feb 15
                launchDate: new Date(2026, 2, 1), // Mar 1
                endDate: new Date(2026, 2, 31), // Mar 31
                channels: {
                    all: { start: new Date(2026, 2, 1), end: new Date(2026, 2, 31) },
                    amazon: { start: new Date(2026, 2, 1), end: new Date(2026, 2, 31) },
                    shopify: { start: new Date(2026, 2, 1), end: new Date(2026, 2, 31) },
                    email: { start: new Date(2026, 2, 1), end: new Date(2026, 2, 15) },
                    social: { start: new Date(2026, 1, 25), end: new Date(2026, 2, 31) }
                }
            },
            {
                name: "Summer Sale",
                icon: "",
                filter: "summer",
                requestDeadline: new Date(2026, 4, 18), // May 18 - 2 weeks before launch
                prepStart: new Date(2026, 4, 15), // May 15
                launchDate: new Date(2026, 5, 1), // Jun 1
                endDate: new Date(2026, 7, 31), // Aug 31
                channels: {
                    all: { start: new Date(2026, 5, 1), end: new Date(2026, 7, 31) },
                    amazon: { start: new Date(2026, 5, 1), end: new Date(2026, 7, 31) },
                    shopify: { start: new Date(2026, 5, 1), end: new Date(2026, 7, 31) },
                    email: { start: new Date(2026, 5, 1), end: new Date(2026, 6, 15) },
                    social: { start: new Date(2026, 4, 25), end: new Date(2026, 7, 31) }
                }
            },
            {
                name: "Halloween",
                icon: "",
                filter: "halloween",
                requestDeadline: new Date(2026, 9, 1), // Oct 1 - 2 weeks before launch
                prepStart: new Date(2026, 9, 1), // Oct 1
                launchDate: new Date(2026, 9, 15), // Oct 15
                endDate: new Date(2026, 9, 31), // Oct 31
                channels: {
                    all: { start: new Date(2026, 9, 15), end: new Date(2026, 9, 31) },
                    amazon: { start: new Date(2026, 9, 15), end: new Date(2026, 9, 31) },
                    shopify: { start: new Date(2026, 9, 15), end: new Date(2026, 9, 31) },
                    email: { start: new Date(2026, 9, 20), end: new Date(2026, 9, 31) },
                    social: { start: new Date(2026, 9, 10), end: new Date(2026, 9, 31) }
                }
            },
            {
                name: "Thanksgiving",
                icon: "",
                filter: "thanksgiving",
                requestDeadline: new Date(2026, 10, 6), // Nov 6 - 2 weeks before launch
                prepStart: new Date(2026, 10, 1), // Nov 1
                launchDate: new Date(2026, 10, 20), // Nov 20
                endDate: new Date(2026, 10, 26), // Nov 26
                channels: {
                    all: { start: new Date(2026, 10, 20), end: new Date(2026, 10, 26) },
                    amazon: { start: new Date(2026, 10, 20), end: new Date(2026, 10, 26) },
                    shopify: { start: new Date(2026, 10, 20), end: new Date(2026, 10, 26) },
                    email: { start: new Date(2026, 10, 22), end: new Date(2026, 10, 26) },
                    social: { start: new Date(2026, 10, 15), end: new Date(2026, 10, 26) }
                }
            },
            {
                name: "Black Friday",
                icon: "",
                filter: "black-friday",
                requestDeadline: new Date(2026, 10, 13), // Nov 13 - 2 weeks before launch
                prepStart: new Date(2026, 10, 10), // Nov 10
                launchDate: new Date(2026, 10, 27), // Nov 27
                endDate: new Date(2026, 10, 29), // Nov 29
                channels: {
                    all: { start: new Date(2026, 10, 27), end: new Date(2026, 10, 29) },
                    amazon: { start: new Date(2026, 10, 27), end: new Date(2026, 10, 29) },
                    shopify: { start: new Date(2026, 10, 27), end: new Date(2026, 10, 29) },
                    email: { start: new Date(2026, 10, 27), end: new Date(2026, 10, 28) },
                    social: { start: new Date(2026, 10, 25), end: new Date(2026, 10, 29) }
                }
            },
            {
                name: "Cyber Monday",
                icon: "",
                filter: "cyber-monday",
                requestDeadline: new Date(2026, 10, 16), // Nov 16 - 2 weeks before launch
                prepStart: new Date(2026, 10, 25), // Nov 25
                launchDate: new Date(2026, 10, 30), // Nov 30
                endDate: new Date(2026, 11, 2), // Dec 2
                channels: {
                    all: { start: new Date(2026, 10, 30), end: new Date(2026, 11, 2) },
                    amazon: { start: new Date(2026, 10, 30), end: new Date(2026, 11, 2) },
                    shopify: { start: new Date(2026, 10, 30), end: new Date(2026, 11, 2) },
                    email: { start: new Date(2026, 10, 30), end: new Date(2026, 11, 1) },
                    social: { start: new Date(2026, 10, 29), end: new Date(2026, 11, 2) }
                }
            },
            {
                name: "Christmas",
                icon: "",
                filter: "christmas",
                requestDeadline: new Date(2026, 10, 26), // Nov 26 - 2 weeks before launch
                prepStart: new Date(2026, 11, 1), // Dec 1
                launchDate: new Date(2026, 11, 10), // Dec 10
                endDate: new Date(2026, 11, 25), // Dec 25
                channels: {
                    all: { start: new Date(2026, 11, 10), end: new Date(2026, 11, 25) },
                    amazon: { start: new Date(2026, 11, 10), end: new Date(2026, 11, 25) },
                    shopify: { start: new Date(2026, 11, 10), end: new Date(2026, 11, 25) },
                    email: { start: new Date(2026, 11, 15), end: new Date(2026, 11, 24) },
                    social: { start: new Date(2026, 11, 5), end: new Date(2026, 11, 25) }
                }
            }
        ];

        let currentChannelFilter = 'all';

        function generateCalendar(month, year, channelFilter = 'all', promoFilter = 'all') {
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const prevLastDay = new Date(year, month, 0);
            
            const firstDayOfWeek = firstDay.getDay();
            const lastDate = lastDay.getDate();
            const prevLastDate = prevLastDay.getDate();
            
            let html = `
                <div class="calendar-day-header">Sun</div>
                <div class="calendar-day-header">Mon</div>
                <div class="calendar-day-header">Tue</div>
                <div class="calendar-day-header">Wed</div>
                <div class="calendar-day-header">Thu</div>
                <div class="calendar-day-header">Fri</div>
                <div class="calendar-day-header">Sat</div>
            `;
            
            // Previous month days
            for (let i = firstDayOfWeek - 1; i >= 0; i--) {
                html += `<div class="calendar-day other-month"><div class="calendar-day-number">${prevLastDate - i}</div></div>`;
            }
            
            // Current month days
            for (let day = 1; day <= lastDate; day++) {
                const currentDate = new Date(year, month, day);
                const promoLabels = getPromoLabelsForDate(currentDate, channelFilter, promoFilter);
                
                html += `<div class="calendar-day">
                    <div class="calendar-day-number">${day}</div>
                    ${promoLabels}
                </div>`;
            }
            
            // Next month days to fill grid
            const totalCells = Math.ceil((firstDayOfWeek + lastDate) / 7) * 7;
            const nextMonthDays = totalCells - (firstDayOfWeek + lastDate);
            for (let i = 1; i <= nextMonthDays; i++) {
                html += `<div class="calendar-day other-month"><div class="calendar-day-number">${i}</div></div>`;
            }
            
            const calendarGrid = document.getElementById('calendar-grid');
            const calendarTitle = document.getElementById('calendar-month-title');
            if (calendarGrid) calendarGrid.innerHTML = html;
            if (calendarTitle) calendarTitle.textContent = `Promotion Calendar - ${monthNames[month]} ${year}`;
        }

        function getPromoLabelsForDate(date, channelFilter = 'all', promoFilter = 'all') {
            let labels = '';
            const addedPromos = new Set();
            
            promos.forEach(promo => {
                // Filter by promo type if not 'all'
                if (promoFilter !== 'all' && promo.filter !== promoFilter) return;
                
                const channelData = promo.channels[channelFilter] || promo.channels.all;
                const requestDeadline = promo.requestDeadline;
                const prepStart = promo.prepStart;
                const launchDate = channelData.start;
                const endDate = channelData.end;
                
                // Skip if we've already added this promo for this date
                if (addedPromos.has(promo.name)) return;
                
                // Request Deadline
                if (requestDeadline && date.getTime() === requestDeadline.getTime()) {
                    labels += `<div class="promo-label" style="background: rgba(220, 38, 38, 0.3); border-left: 3px solid #dc2626; color: #fff;">${promo.icon} ${promo.name.split(' ')[0]} REQUEST DUE</div>`;
                    addedPromos.add(promo.name);
                    return;
                }
                
                // Prep phase
                if (date >= prepStart && date < launchDate) {
                    const daysUntilLaunch = Math.ceil((launchDate - date) / (1000 * 60 * 60 * 24));
                    if (daysUntilLaunch <= 3) {
                        labels += `<div class="promo-label prep">${promo.icon} ${promo.name.split(' ')[0]} Final Prep</div>`;
                    } else if (date.getTime() === prepStart.getTime()) {
                        labels += `<div class="promo-label prep">${promo.icon} ${promo.name.split(' ')[0]} Prep Start</div>`;
                    } else {
                        labels += `<div class="promo-label prep">${promo.icon} ${promo.name.split(' ')[0]} Prep</div>`;
                    }
                    addedPromos.add(promo.name);
                }
                
                // Live phase
                if (date >= launchDate && date <= endDate) {
                    if (date.getTime() === launchDate.getTime()) {
                        labels += `<div class="promo-label live">${promo.icon} ${promo.name} LIVE</div>`;
                    } else {
                        labels += `<div class="promo-label live">${promo.icon} ${promo.name}</div>`;
                    }
                    addedPromos.add(promo.name);
                }
            });
            
            return labels;
        }

        // Calendar navigation (old campaigns calendar - may not exist)
        const prevMonthBtn = document.getElementById('prev-month');
        const nextMonthBtn = document.getElementById('next-month');
        
        if (prevMonthBtn) {
            prevMonthBtn.addEventListener('click', function() {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                generateCalendar(currentMonth, currentYear, currentChannelFilter);
            });
        }

        if (nextMonthBtn) {
            nextMonthBtn.addEventListener('click', function() {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                generateCalendar(currentMonth, currentYear, currentChannelFilter);
            });
        }

        // Channel filter buttons
        document.querySelectorAll('[data-channel-filter]').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                //console.log('Filter button clicked:', this.dataset.channelFilter);
                
                document.querySelectorAll('[data-channel-filter]').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentChannelFilter = this.dataset.channelFilter;
                
                //console.log('Generating calendar with filter:', currentChannelFilter);
                generateCalendar(currentMonth, currentYear, currentChannelFilter);
            });
        });

        // Initial calendar render
        generateCalendar(currentMonth, currentYear, currentChannelFilter);

        // Render products with full details - CLEAN VERSION
        function renderProducts(container, productList) {
            container.innerHTML = productList.map(product => `
                <div class="product-card" data-category="${product.category}">
                    <div class="product-image" style="${product.image ? 'padding: 0; overflow: hidden;' : ''}">
                        ${product.image ? `<img src="${product.image}" alt="${product.name}" style="width: 100%; height: 100%; object-fit: contain;">` : (product.icon || '')}
                    </div>
                    <h3 class="product-name">${product.name}</h3>
                    
                    <div class="product-prices">
                        <!-- Single -->
                        <div style="background: rgba(255,255,255,0.03); padding: 10px; border-radius: 8px; margin-bottom: 8px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                <span style="font-weight: 600; font-size: 13px;">Single</span>
                                <span style="font-size: 18px; font-weight: 700; color: #ffffff;">$${product.unit1 ? product.unit1.toFixed(2) : 'N/A'}</span>
                            </div>
                            ${product.shipping1 > 0 ? `<div style="font-size: 11px; color: #ffc107; font-weight: 600;"> +$${product.shipping1.toFixed(2)} shipping</div>` : '<div style="font-size: 11px; color: #ffc107; font-weight: 600;"> FREE shipping</div>'}
                            <div style="font-size: 10px; color: #b3b3b3; margin-top: 2px;">${product.servings1 || 25} servings  $${product.pricePerServing1 ? product.pricePerServing1.toFixed(2) : '1.36'}/srv</div>
                        </div>
                        
                        <!-- 3-Pack -->
                        <div style="background: rgba(29, 185, 84, 0.05); padding: 10px; border-radius: 8px; margin-bottom: 8px; border: 1px solid rgba(29, 185, 84, 0.2);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                <span style="font-weight: 600; font-size: 13px;">3-Pack</span>
                                <div style="text-align: right;">
                                    ${product.originalPrice3 ? `<span style="text-decoration: line-through; color: #666; font-size: 12px; margin-right: 6px;">$${product.originalPrice3.toFixed(2)}</span>` : ''}
                                    <span style="font-size: 18px; font-weight: 700; color: #1db954;">$${product.total3 ? product.total3.toFixed(2) : (product.unit3 ? (product.unit3 * 3).toFixed(2) : 'N/A')}</span>
                                </div>
                            </div>
                            <div style="font-size: 11px; color: #1db954; font-weight: 600;"> Save ${product.savings3 || '$23.97'}</div>
                            <div style="font-size: 11px; color: #ffc107; font-weight: 600;"> FREE shipping</div>
                            <div style="font-size: 10px; color: #b3b3b3; margin-top: 2px;">${product.servings3 || 75} servings  $${product.pricePerServing3 ? product.pricePerServing3.toFixed(2) : '1.16'}/srv</div>
                        </div>
                        
                        <!-- 6-Pack -->
                        <div style="background: rgba(29, 185, 84, 0.1); padding: 10px; border-radius: 8px; border: 1px solid rgba(29, 185, 84, 0.3);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                <span style="font-weight: 600; font-size: 13px;">6-Pack</span>
                                <div style="text-align: right;">
                                    ${product.originalPrice6 ? `<span style="text-decoration: line-through; color: #666; font-size: 12px; margin-right: 6px;">$${product.originalPrice6.toFixed(2)}</span>` : ''}
                                    <span style="font-size: 18px; font-weight: 700; color: #1db954;">$${product.total6 ? product.total6.toFixed(2) : (product.unit6 ? (product.unit6 * 6).toFixed(2) : 'N/A')}</span>
                                </div>
                            </div>
                            <div style="font-size: 11px; color: #1db954; font-weight: 600;"> Save ${product.savings6 || '$80.94'}</div>
                            <div style="font-size: 11px; color: #ffc107; font-weight: 600;"> FREE shipping</div>
                            <div style="font-size: 10px; color: #b3b3b3; margin-top: 2px;">${product.servings6 || 150} servings  $${product.pricePerServing6 ? product.pricePerServing6.toFixed(2) : '0.88'}/srv</div>
                        </div>
                    </div>
                    
                    <!-- Margin & COGS Row -->
                    <div style="display: flex; justify-content: space-between; margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                        <div style="text-align: center; flex: 1;">
                            <div style="font-size: 10px; color: #b3b3b3;">Margin</div>
                            <div style="font-size: 14px; font-weight: 700; color: #1db954;">${product.margin || '71%'}</div>
                        </div>
                        <div style="text-align: center; flex: 1; border-left: 1px solid rgba(255,255,255,0.1);">
                            <div style="font-size: 10px; color: #b3b3b3;">COGS</div>
                            <div style="font-size: 14px; font-weight: 600;">$${product.cogs1 ? product.cogs1.toFixed(2) : '15.34'}</div>
                        </div>
                        <div style="text-align: center; flex: 1; border-left: 1px solid rgba(255,255,255,0.1);">
                            <div style="font-size: 10px; color: #b3b3b3;">Inventory</div>
                            <div style="font-size: 14px; font-weight: 600; color: ${(product.inventory || 1200) > 500 ? '#1db954' : (product.inventory || 1200) > 200 ? '#ffc107' : '#dc2626'};">${product.inventory || '1,200'}</div>
                        </div>
                    </div>
                    
                    <!-- Free Gifts -->
                    ${product.freeGifts && product.freeGifts.length > 0 ? `
                        <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                            <div style="font-size: 10px; color: #b3b3b3; margin-bottom: 6px;">FREE GIFTS AVAILABLE (3 & 6 Pack):</div>
                            <div style="display: flex; gap: 4px; flex-wrap: wrap;">
                                ${product.freeGifts.map(gift => `
                                    <span style="background: rgba(29, 185, 84, 0.1); color: #1db954; padding: 2px 6px; border-radius: 4px; font-size: 9px; font-weight: 600;"> ${gift}</span>
                                `).join('')}
                            </div>
                        </div>
                    ` : ''}
                    
                    <button onclick="showGiftSavings('${product.name.replace(/'/g, "\\'")}', '${product.sku}')" style="margin-top: 12px; background: rgba(29, 185, 84, 0.1); border: 1px solid #1db954; color: #1db954; padding: 8px 12px; border-radius: 6px; font-size: 11px; cursor: pointer; width: 100%; font-weight: 600;">
                        View Free Gifts Pricing
                    </button>
                </div>
            `).join('');
        }

        // Initial render - only if element exists
        const allProductsGrid = document.getElementById('all-products-grid');
        if (allProductsGrid) {
            renderProducts(allProductsGrid, products);
        }

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                const viewName = this.dataset.view;
                showView(viewName + '-view');
            });
        });

        // Programmatic view switching function
        function showView(viewId) {
            // Remove -view suffix if present to get base name
            const baseName = viewId.replace('-view', '');
            
            // Update active nav
            document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
            const navItem = document.querySelector('[data-view="' + baseName + '"]');
            if (navItem) navItem.classList.add('active');

            // Show corresponding view
            document.querySelectorAll('.view').forEach(view => view.classList.remove('active'));
            const targetView = document.getElementById(baseName + '-view');
            if (targetView) {
                targetView.classList.add('active');
                
                // Initialize view-specific content
                if (baseName === 'launches') {
                    setTimeout(() => renderLaunchCalendar(), 10);
                }
                if (baseName === 'promotions') {
                    setTimeout(() => renderCampaignCalendar(), 10);
                }
            }
        }

        // Sidebar channel/seasonal items - FIXED VERSION
        //console.log('Setting up sidebar click handlers...');
        
        const channelItems = document.querySelectorAll('.channel-item');
        //console.log('Found', channelItems.length, 'channel items');
        
        channelItems.forEach((item, index) => {
            //console.log('Setting up item', index, ':', item.textContent.trim());
            
            item.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                //console.log('=== SIDEBAR ITEM CLICKED ===');
                //console.log('Item:', this.textContent.trim());
                //console.log('Has data-channel:', this.dataset.channel);
                //console.log('Has data-seasonal:', this.dataset.seasonal);
                
                // Remove active from all channel items
                document.querySelectorAll('.channel-item').forEach(ch => ch.classList.remove('active'));
                this.classList.add('active');
                
                // Navigate to promotions view
                //console.log('Navigating to promotions view...');
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                const promoNavItem = document.querySelector('[data-view="promotions"]');
                if (promoNavItem) promoNavItem.classList.add('active');
                
                document.querySelectorAll('.view').forEach(view => view.classList.remove('active'));
                const promoView = document.getElementById('promotions-view');
                if (promoView) promoView.classList.add('active');
                
                // Handle channel filtering
                if (this.dataset.channel) {
                    const channel = this.dataset.channel;
                    //console.log('Channel selected:', channel);
                    
                    currentChannelFilter = channel;
                    
                    // Update filter buttons
                    const filterButtons = document.querySelectorAll('[data-channel-filter]');
                    filterButtons.forEach(b => b.classList.remove('active'));
                    
                    const matchingButton = document.querySelector(`[data-channel-filter="${channel}"]`);
                    if (matchingButton) {
                        matchingButton.classList.add('active');
                    } else {
                        // Default to 'all' if no match
                        const allBtn = document.querySelector('[data-channel-filter="all"]');
                        if (allBtn) allBtn.classList.add('active');
                        currentChannelFilter = 'all';
                    }
                    
                    //console.log('Regenerating calendar with filter:', currentChannelFilter);
                    generateCalendar(currentMonth, currentYear, currentChannelFilter);
                }
                
                // Handle seasonal event selection
                if (this.dataset.seasonal) {
                    //console.log('Seasonal event selected:', this.dataset.seasonal);
                    currentChannelFilter = 'all';
                    
                    // Reset to all channels
                    document.querySelectorAll('[data-channel-filter]').forEach(b => b.classList.remove('active'));
                    const allBtn = document.querySelector('[data-channel-filter="all"]');
                    if (allBtn) allBtn.classList.add('active');
                    
                    generateCalendar(currentMonth, currentYear, currentChannelFilter);
                }
                
                // Scroll to top
                const mainContent = document.querySelector('.main-content');
                if (mainContent) mainContent.scrollTop = 0;
                //console.log('=== SIDEBAR CLICK COMPLETE ===');
            });
        });

        // Filter functionality
        document.querySelectorAll('.filter-btn:not([data-channel-filter])').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn:not([data-channel-filter])').forEach(b => b.classList.remove('active'));
                this.classList.add('active');

                const filter = this.dataset.filter;
                const cards = document.querySelectorAll('#product-grid .product-card');

                cards.forEach(card => {
                    if (filter === 'all' || card.dataset.category === filter) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Form submission
        const promoRequestForm = document.getElementById('promo-request-form');
        if (promoRequestForm) {
            promoRequestForm.addEventListener('submit', function(e) {
                e.preventDefault();
                alert(' Campaign submitted!\n\nStatus: Pending Approval\nReviewer: Jason (CMO)\n\nYou\'ll receive an email notification within 24 hours with approval status. Once approved, your channel pricing will be added to the campaign.');
                this.reset();
                document.getElementById('request-form-modal').style.display = 'none';
            });
        }

        // Toggle new campaign fields based on selector
        function toggleNewCampaignFields() {
            const selector = document.getElementById('campaign-selector');
            const newFields = document.getElementById('new-campaign-fields');
            if (selector && newFields) {
                if (selector.value === 'new') {
                    newFields.style.display = 'block';
                } else {
                    newFields.style.display = 'none';
                }
            }
        }

        // Show request form modal - from sidebar button
        const sidebarRequestBtn = document.getElementById('sidebar-request-promo');
        if (sidebarRequestBtn) {
            sidebarRequestBtn.addEventListener('click', function() {
                document.getElementById('request-form-modal').style.display = 'block';
            });
        }

        // Close modal - X button
        const closeModalBtn = document.getElementById('close-modal-btn');
        if (closeModalBtn) {
            closeModalBtn.addEventListener('click', function() {
                document.getElementById('request-form-modal').style.display = 'none';
            });
        }

        // Close modal - Cancel button
        const cancelFormBtn = document.getElementById('cancel-form');
        if (cancelFormBtn) {
            cancelFormBtn.addEventListener('click', function() {
                if (confirm('Are you sure you want to cancel? All form data will be lost.')) {
                    document.getElementById('promo-request-form').reset();
                    document.getElementById('request-form-modal').style.display = 'none';
                }
            });
        }

        // Close modal - Click outside
        const requestFormModal = document.getElementById('request-form-modal');
        if (requestFormModal) {
            requestFormModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    document.getElementById('request-form-modal').style.display = 'none';
                }
            });
        }

        // Scanner functions
        function scanAmazon() {
            const btn = event.target;
            btn.textContent = 'Scanning...';
            btn.disabled = true;
            
            // Simulate scanning
            setTimeout(() => {
                btn.textContent = 'Scan Now';
                btn.disabled = false;
                alert('Amazon scan complete! 2 products scanned. 1 pricing alert detected.');
            }, 2000);
        }

        function scanShopify() {
            const btn = event.target;
            btn.textContent = 'Scanning...';
            btn.disabled = true;
            
            setTimeout(() => {
                btn.textContent = 'Scan Now';
                btn.disabled = false;
                alert('Shopify scan complete! All prices match approved pricing.');
            }, 1500);
        }

        function scanInstapage() {
            const btn = event.target;
            btn.textContent = 'Scanning...';
            btn.disabled = true;
            
            setTimeout(() => {
                btn.textContent = 'Scan Now';
                btn.disabled = false;
                const results = document.getElementById('instapage-scan-results');
                results.innerHTML = `
                    <div class="scan-result-item">
                        <div>
                            <div style="font-weight: 600;">Valentine's Landing Page</div>
                            <div style="font-size: 12px; color: #b3b3b3;">valentines.nativepath.com</div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 16px;">
                            <div style="font-size: 18px; font-weight: 700; color: #1db954;">$87.00</div>
                            <span class="approval-status approved"> Match</span>
                        </div>
                    </div>
                `;
            }, 2500);
        }

        // Make scanner functions global
        window.scanAmazon = scanAmazon;
        window.scanShopify = scanShopify;
        window.scanInstapage = scanInstapage;

        // Channel visibility filter
        document.querySelectorAll('[data-visibility-filter]').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('[data-visibility-filter]').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const filter = this.dataset.visibilityFilter;
                document.querySelectorAll('.channel-section').forEach(section => {
                    if (filter === 'all' || section.dataset.channel === filter) {
                        section.style.display = 'block';
                    } else {
                        section.style.display = 'none';
                    }
                });
            });
        });

        // Gift Savings Calculator
        function showGiftSavings(productName, sku) {
            const product = products.find(p => p.sku === sku);
            if (!product) return;
            
            const modal = document.createElement('div');
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.9); display: flex; align-items: center; justify-content: center; z-index: 1000; padding: 24px;';
            
            modal.innerHTML = `
                <div style="background: #181818; border-radius: 6px; padding: 32px; max-width: 900px; width: 100%; max-height: 90vh; overflow-y: auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <h2 style="font-size: 24px; font-weight: 700;">${productName} - Free Gift Savings</h2>
                        <button onclick="this.closest('[style*=fixed]').remove()" style="background: rgba(255, 255, 255, 0.1); border: none; color: #ffffff; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; font-size: 20px;"></button>
                    </div>
                    
                    <div style="background: rgba(29, 185, 84, 0.1); border-left: 4px solid #1db954; padding: 16px; border-radius: 8px; margin-bottom: 24px;">
                        <div style="font-weight: 700; margin-bottom: 8px;"> How Free Gifts Increase Your Savings</div>
                        <div style="font-size: 14px; color: #b3b3b3;">When you purchase a 3-Pack or 6-Pack, you not only save on the bundle discount, but you also receive a free gift! The total savings shown below include both the bundle savings AND the retail value of your free gift.</div>
                    </div>
                    
                    <h3 style="font-size: 18px; font-weight: 700; margin-bottom: 16px;">3-Pack Savings</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-bottom: 32px;">
                        ${product.savingsWithFrother3 ? `
                            <div style="background: rgba(255, 255, 255, 0.05); border-radius: 8px; padding: 16px; text-align: center;">
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-size: 12px; color: #b3b3b3; margin-bottom: 8px;">With Frother</div>
                                <div style="font-size: 20px; font-weight: 700; color: #1db954;">${product.savingsWithFrother3}</div>
                                <div style="font-size: 10px; color: #b3b3b3; margin-top: 4px;">Frother value: $4.50</div>
                            </div>
                        ` : ''}
                        ${product.savingsWithTumbler3 ? `
                            <div style="background: rgba(29, 185, 84, 0.1); border: 2px solid #1db954; border-radius: 8px; padding: 16px; text-align: center;">
                                <div style="font-size: 10px; background: #1db954; color: #000; padding: 2px 6px; border-radius: 4px; margin-bottom: 8px; font-weight: 700;">BEST VALUE</div>
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-size: 12px; color: #b3b3b3; margin-bottom: 8px;">With Tumbler</div>
                                <div style="font-size: 20px; font-weight: 700; color: #1db954;">${product.savingsWithTumbler3}</div>
                                <div style="font-size: 10px; color: #b3b3b3; margin-top: 4px;">Tumbler value: $6.25</div>
                            </div>
                        ` : ''}
                        ${product.savingsWithShaker3 ? `
                            <div style="background: rgba(255, 255, 255, 0.05); border-radius: 8px; padding: 16px; text-align: center;">
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-size: 12px; color: #b3b3b3; margin-bottom: 8px;">With Shaker</div>
                                <div style="font-size: 20px; font-weight: 700; color: #1db954;">${product.savingsWithShaker3}</div>
                                <div style="font-size: 10px; color: #b3b3b3; margin-top: 4px;">Shaker value: $3.75</div>
                            </div>
                        ` : ''}
                    </div>
                    
                    <h3 style="font-size: 18px; font-weight: 700; margin-bottom: 16px;">6-Pack Savings</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px;">
                        ${product.savingsWithFrother6 ? `
                            <div style="background: rgba(255, 255, 255, 0.05); border-radius: 8px; padding: 16px; text-align: center;">
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-size: 12px; color: #b3b3b3; margin-bottom: 8px;">With Frother</div>
                                <div style="font-size: 20px; font-weight: 700; color: #1db954;">${product.savingsWithFrother6}</div>
                                <div style="font-size: 10px; color: #b3b3b3; margin-top: 4px;">Frother value: $4.50</div>
                            </div>
                        ` : ''}
                        ${product.savingsWithTumbler6 ? `
                            <div style="background: rgba(29, 185, 84, 0.1); border: 2px solid #1db954; border-radius: 8px; padding: 16px; text-align: center;">
                                <div style="font-size: 10px; background: #1db954; color: #000; padding: 2px 6px; border-radius: 4px; margin-bottom: 8px; font-weight: 700;">BEST VALUE</div>
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-size: 12px; color: #b3b3b3; margin-bottom: 8px;">With Tumbler</div>
                                <div style="font-size: 20px; font-weight: 700; color: #1db954;">${product.savingsWithTumbler6}</div>
                                <div style="font-size: 10px; color: #b3b3b3; margin-top: 4px;">Tumbler value: $6.25</div>
                            </div>
                        ` : ''}
                        ${product.savingsWithShaker6 ? `
                            <div style="background: rgba(255, 255, 255, 0.05); border-radius: 8px; padding: 16px; text-align: center;">
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-size: 12px; color: #b3b3b3; margin-bottom: 8px;">With Shaker</div>
                                <div style="font-size: 20px; font-weight: 700; color: #1db954;">${product.savingsWithShaker6}</div>
                                <div style="font-size: 10px; color: #b3b3b3; margin-top: 4px;">Shaker value: $3.75</div>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        window.showGiftSavings = showGiftSavings;

        // Free Gift Calculator filter
        document.querySelectorAll('[data-filter]').forEach(btn => {
            btn.addEventListener('click', function() {
                if (this.dataset.filter === 'free-gifts') {
                    // Show free gifts calculator modal for first product
                    if (products.length > 0) {
                        showGiftSavings(products[0].name, products[0].sku);
                    }
                    return;
                }
                
                // Regular filtering logic
                document.querySelectorAll('[data-filter]').forEach(b => b.classList.remove('active'));
                this.classList.add('active');

                const filter = this.dataset.filter;
                const cards = document.querySelectorAll('#all-products-grid .product-card');

                cards.forEach(card => {
                    if (filter === 'all' || card.dataset.category === filter) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Global promo filter variable
        let currentPromoFilter = 'all';

        // Promo filter buttons - navigate to calendar for that promotion
        document.querySelectorAll('[data-promo-filter]').forEach(btn => {
            btn.addEventListener('click', function() {
                // Update active state
                document.querySelectorAll('[data-promo-filter]').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const promo = this.dataset.promoFilter;
                currentPromoFilter = promo;
                
                // Define promo date ranges (month is 0-indexed)
                const promoCalendarDates = {
                    'valentines': { month: 0, year: 2026 },
                    'spring': { month: 2, year: 2026 },
                    'summer': { month: 5, year: 2026 },
                    'halloween': { month: 9, year: 2026 },
                    'thanksgiving': { month: 10, year: 2026 },
                    'black-friday': { month: 10, year: 2026 },
                    'cyber-monday': { month: 10, year: 2026 },
                    'christmas': { month: 11, year: 2026 },
                    'all': { month: new Date().getMonth(), year: new Date().getFullYear() }
                };
                
                if (promo && promoCalendarDates[promo]) {
                    const targetDate = promoCalendarDates[promo];
                    currentMonth = targetDate.month;
                    currentYear = targetDate.year;
                    generateCalendar(currentMonth, currentYear, currentChannelFilter, currentPromoFilter);
                    
                    // Scroll to calendar
                    document.querySelector('.calendar-container').scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Pack size toggle functionality
        document.querySelectorAll('.pack-toggle').forEach(btn => {
            btn.addEventListener('click', function() {
                // Update toggle button styles
                document.querySelectorAll('.pack-toggle').forEach(b => {
                    b.style.background = 'transparent';
                    b.style.color = '#fff';
                });
                this.style.background = '#3b82f6';
                this.style.color = '#fff';
                
                const packType = this.dataset.pack;
                
                // Show/hide pack content
                document.querySelectorAll('.pack-content').forEach(content => {
                    if (content.dataset.packType === packType) {
                        content.style.display = 'block';
                    } else {
                        content.style.display = 'none';
                    }
                });
            });
        });

        // Scan All Pages function
        function scanAllPages() {
            alert('Scanning all pages... (This is a demo - real scanning requires API integration)');
        }

        // Admin Access - Password Protection
        const adminAccessBtn = document.getElementById('admin-access-btn');
        if (adminAccessBtn) {
            adminAccessBtn.addEventListener('click', function() {
                const password = prompt('Enter admin password:');
                if (password === '123') {
                    // Show admin nav item
                    const adminNav = document.getElementById('admin-nav');
                    if (adminNav) {
                        adminNav.style.display = 'flex';
                    }
                    // Navigate to admin view
                    document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
                    document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
                    if (adminNav) adminNav.classList.add('active');
                    const adminView = document.getElementById('admin-view');
                    if (adminView) adminView.classList.add('active');
                    alert('Admin access granted!');
                } else if (password !== null) {
                    alert('Incorrect password');
                }
            });
        }

        // Admin Functions
        function approvePromo(btn) {
            const card = btn.closest('.pending-promo-card');
            if (confirm('Approve this promotion request?')) {
                card.style.borderLeftColor = '#1db954';
                card.querySelector('[style*="PENDING"]').textContent = 'APPROVED';
                card.querySelector('[style*="PENDING"]').style.background = 'rgba(29, 185, 84, 0.2)';
                card.querySelector('[style*="PENDING"]').style.color = '#1db954';
                btn.parentElement.innerHTML = '<div style="text-align: center; color: #1db954; font-weight: 600;"> Approved - Added to Calendar</div>';
                // In real app, this would add to the calendar and notify the requestor
            }
        }

        function rejectPromo(btn) {
            const card = btn.closest('.pending-promo-card');
            const reason = prompt('Reason for rejection:');
            if (reason) {
                card.style.borderLeftColor = '#dc2626';
                card.style.opacity = '0.6';
                card.querySelector('[style*="PENDING"]').textContent = 'REJECTED';
                card.querySelector('[style*="PENDING"]').style.background = 'rgba(233, 20, 41, 0.2)';
                card.querySelector('[style*="PENDING"]').style.color = '#dc2626';
                btn.parentElement.innerHTML = '<div style="text-align: center; color: #dc2626; font-weight: 600;"> Rejected: ' + reason + '</div>';
            }
        }

        function requestChanges(btn) {
            const changes = prompt('What changes are needed?');
            if (changes) {
                alert('Request sent back to ' + btn.closest('.pending-promo-card').querySelector('p').textContent.split('')[0].replace('Submitted by:', '').trim() + ' with feedback: ' + changes);
            }
        }

        // Margin Calculator Toggle
        const calcToggleBtn = document.getElementById('calc-toggle-btn');
        if (calcToggleBtn) {
            calcToggleBtn.addEventListener('click', function() {
                const panel = document.getElementById('calc-panel');
                if (panel.style.display === 'none') {
                    panel.style.display = 'block';
                    this.style.background = '#3b82f6';
                    this.style.color = '#fff';
                } else {
                    panel.style.display = 'none';
                    this.style.background = 'rgba(255,255,255,0.05)';
                    this.style.color = '#b3b3b3';
                }
            });
        }

        // Spreadsheet Calculator Functions
        function calculateRowMargin(row) {
            const unit = parseFloat(row.querySelector('.ss-unit').value) || 1;
            const price = parseFloat(row.querySelector('.ss-price').value) || 0;
            const cogs = parseFloat(row.querySelector('.ss-cogs').value) || 0;
            const discount = parseFloat(row.querySelector('.ss-discount').value) || 0;
            const shipping = parseFloat(row.querySelector('.ss-shipping').value) || 0;
            const takeRate = parseFloat(row.querySelector('.ss-takerate').value) || 0;
            
            const totalPrice = price * unit;
            const discountedPrice = totalPrice * (1 - discount / 100);
            const revenue = discountedPrice * (1 - takeRate / 100);
            const totalCost = cogs + shipping;
            const profit = revenue - totalCost;
            const margin = revenue > 0 ? (profit / revenue * 100) : 0;
            
            row.querySelector('.ss-total').textContent = '$' + discountedPrice.toFixed(2);
            row.querySelector('.ss-revenue').textContent = '$' + revenue.toFixed(2);
            const marginSpan = row.querySelector('.ss-margin');
            marginSpan.textContent = margin.toFixed(2) + '%';
            marginSpan.style.color = margin >= 60 ? '#1db954' : margin >= 40 ? '#ffc107' : '#dc2626';
            
            return { revenue, cogs: totalCost, profit };
        }

        function recalculateAll() {
            let totalRevenue = 0;
            let totalCogs = 0;
            let totalProfit = 0;
            
            document.querySelectorAll('.spreadsheet-row').forEach(row => {
                const result = calculateRowMargin(row);
                totalRevenue += result.revenue;
                totalCogs += result.cogs;
                totalProfit += result.profit;
            });
            
            const blendedMargin = totalRevenue > 0 ? (totalProfit / totalRevenue * 100) : 0;
            
            document.getElementById('blended-revenue').textContent = '$' + totalRevenue.toFixed(2);
            document.getElementById('blended-margin').textContent = blendedMargin.toFixed(2) + '%';
            document.getElementById('summary-revenue').textContent = '$' + totalRevenue.toFixed(2);
            document.getElementById('summary-cogs').textContent = '$' + totalCogs.toFixed(2);
            document.getElementById('summary-margin').textContent = blendedMargin.toFixed(2) + '%';
            document.getElementById('summary-profit').textContent = '$' + totalProfit.toFixed(2);
        }

        function addSpreadsheetRow() {
            const tbody = document.getElementById('spreadsheet-body');
            const newRow = document.createElement('tr');
            newRow.className = 'spreadsheet-row';
            newRow.style.borderBottom = '1px solid rgba(255,255,255,0.05)';
            newRow.innerHTML = `
                <td style="padding: 12px 16px;"><input type="text" value="" placeholder="Product" class="ss-input ss-product" style="width: 100%; background: transparent; border: 1px solid transparent; color: #fff; padding: 8px; border-radius: 4px; font-size: 13px;"></td>
                <td style="padding: 12px 8px; text-align: center;"><input type="number" value="1" class="ss-input ss-unit" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                <td style="padding: 12px 8px; text-align: center;"><input type="number" value="0" step="0.01" class="ss-input ss-price" style="width: 80px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                <td style="padding: 12px 8px; text-align: center;"><input type="number" value="0" step="0.01" class="ss-input ss-cogs" style="width: 80px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                <td style="padding: 12px 8px; text-align: center;"><input type="number" value="0" class="ss-input ss-discount" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                <td style="padding: 12px 8px; text-align: center;"><input type="number" value="0" step="0.01" class="ss-input ss-shipping" style="width: 70px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                <td style="padding: 12px 8px; text-align: center;"><span class="ss-total" style="font-weight: 600; color: #fff;">$0.00</span></td>
                <td style="padding: 12px 8px; text-align: center;"><input type="number" value="30" class="ss-input ss-takerate" style="width: 60px; background: #282828; border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 8px; border-radius: 4px; text-align: center; font-size: 13px;"></td>
                <td style="padding: 12px 8px; text-align: center;"><span class="ss-revenue" style="font-weight: 600; color: #3b82f6;">$0.00</span></td>
                <td style="padding: 12px 8px; text-align: center;"><span class="ss-margin" style="font-weight: 700; font-size: 14px; color: #1db954;">0.00%</span></td>
                <td style="padding: 12px 8px; text-align: center;"><button onclick="deleteRow(this)" style="background: none; border: none; color: #666; cursor: pointer; font-size: 16px;"></button></td>
            `;
            tbody.appendChild(newRow);
            attachRowListeners(newRow);
        }

        function deleteRow(btn) {
            const row = btn.closest('tr');
            row.remove();
            recalculateAll();
        }

        function attachRowListeners(row) {
            row.querySelectorAll('.ss-input').forEach(input => {
                input.addEventListener('input', function() {
                    calculateRowMargin(row);
                    recalculateAll();
                });
            });
        }

        function exportToCSV() {
            let csv = 'Product,Unit,Price,COGS,Discount%,Shipping,Total,TakeRate%,Revenue,Margin\n';
            document.querySelectorAll('.spreadsheet-row').forEach(row => {
                const product = row.querySelector('.ss-product').value;
                const unit = row.querySelector('.ss-unit').value;
                const price = row.querySelector('.ss-price').value;
                const cogs = row.querySelector('.ss-cogs').value;
                const discount = row.querySelector('.ss-discount').value;
                const shipping = row.querySelector('.ss-shipping').value;
                const total = row.querySelector('.ss-total').textContent;
                const takeRate = row.querySelector('.ss-takerate').value;
                const revenue = row.querySelector('.ss-revenue').textContent;
                const margin = row.querySelector('.ss-margin').textContent;
                csv += `${product},${unit},${price},${cogs},${discount},${shipping},${total},${takeRate},${revenue},${margin}\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'margin-calculator.csv';
            a.click();
        }

        // Initialize spreadsheet listeners
        document.querySelectorAll('.spreadsheet-row').forEach(row => {
            attachRowListeners(row);
        });

        // Channel View Mode Toggle
        const channelViewMode = document.getElementById('channel-view-mode');
        if (channelViewMode) {
            channelViewMode.addEventListener('change', function() {
                const singleView = document.getElementById('single-channel-view');
                const multiView = document.getElementById('multi-channel-view');
                const singleSelectWrap = document.getElementById('single-channel-select-wrap');
                
                if (this.value === 'single-channel') {
                    if (singleView) singleView.style.display = 'block';
                    if (multiView) multiView.style.display = 'none';
                    if (singleSelectWrap) singleSelectWrap.style.display = 'block';
                } else {
                    if (singleView) singleView.style.display = 'none';
                    if (multiView) multiView.style.display = 'block';
                    if (singleSelectWrap) singleSelectWrap.style.display = 'none';
                }
            });
        }

        // Single Channel Select
        const singleChannelSelect = document.getElementById('single-channel-select');
        if (singleChannelSelect) {
            singleChannelSelect.addEventListener('change', function() {
                const channelNames = {
                    'internal-google': ' Internal Google',
                    'external': ' External',
                    'tigertail': ' TigerTail',
                    'meta': ' Meta',
                    'youtube': ' YouTube',
                    'ret-subscription': ' Ret Subscription',
                    'ret-sms': ' Ret SMS',
                    'ret-email': ' Ret Email'
                };
                const title = document.getElementById('single-channel-title');
                if (title) {
                    title.textContent = channelNames[this.value] + ' - All Products';
                }
            });
        }

        // Pricing Mode Toggle (Base vs Sale vs Compare)
        document.querySelectorAll('.pricing-mode-toggle').forEach(btn => {
            btn.addEventListener('click', function() {
                // Update button styles
                document.querySelectorAll('.pricing-mode-toggle').forEach(b => {
                    b.style.background = 'transparent';
                    b.style.color = '#fff';
                });
                this.style.background = '#1db954';
                this.style.color = '#000';
                
                const mode = this.dataset.mode;
                
                // Show/hide pricing content based on mode
                document.querySelectorAll('.channel-pricing-card').forEach(card => {
                    const salePricing = card.querySelector('.sale-pricing');
                    const basePricing = card.querySelector('.base-pricing');
                    const comparePricing = card.querySelector('.compare-pricing');
                    const saleBadge = card.querySelector('.sale-badge');
                    
                    if (salePricing) salePricing.style.display = mode === 'sale' ? 'block' : 'none';
                    if (basePricing) basePricing.style.display = mode === 'base' ? 'block' : 'none';
                    if (comparePricing) comparePricing.style.display = mode === 'compare' ? 'block' : 'none';
                    if (saleBadge) saleBadge.style.display = mode === 'sale' ? 'inline-block' : 'none';
                });
            });
        });

        // Margin Calculator Function
        function calculateMargin() {
            const price = parseFloat(document.getElementById('calc-price').value) || 0;
            const cogs = parseFloat(document.getElementById('calc-cogs').value) || 0;
            const shipping = parseFloat(document.getElementById('calc-shipping').value) || 0;
            const takeRate = parseFloat(document.getElementById('calc-takerate').value) || 0;
            const discount = parseFloat(document.getElementById('calc-discount').value) || 0;
            
            // Calculate final price after discount
            const finalPrice = price * (1 - discount / 100);
            
            // Calculate revenue after take rate
            const revenue = finalPrice * (1 - takeRate / 100);
            
            // Calculate total cost
            const totalCost = cogs + shipping;
            
            // Calculate margin
            const profit = revenue - totalCost;
            const margin = revenue > 0 ? (profit / revenue * 100) : 0;
            
            // Display results
            document.getElementById('calc-results').style.display = 'block';
            document.getElementById('calc-final-price').textContent = '$' + finalPrice.toFixed(2);
            document.getElementById('calc-total-cost').textContent = '$' + totalCost.toFixed(2);
            document.getElementById('calc-revenue').textContent = '$' + revenue.toFixed(2);
            document.getElementById('calc-margin').textContent = margin.toFixed(2) + '%';
            document.getElementById('calc-margin').style.color = margin >= 60 ? '#1db954' : margin >= 40 ? '#ffc107' : '#dc2626';
        }

        // Scanner Filter Functionality
        const scannerProductFilter = document.getElementById('scanner-product-filter');
        const scannerChannelFilter = document.getElementById('scanner-channel-filter');
        const scannerStatusFilter = document.getElementById('scanner-status-filter');

        function filterScanner() {
            const productFilter = scannerProductFilter ? scannerProductFilter.value : 'all';
            const channelFilter = scannerChannelFilter ? scannerChannelFilter.value : 'all';
            const statusFilter = scannerStatusFilter ? scannerStatusFilter.value : 'all';

            // Filter scanner cards by channel
            document.querySelectorAll('.scanner-card[data-channel]').forEach(card => {
                const cardChannel = card.dataset.channel;
                if (channelFilter === 'all' || cardChannel === channelFilter) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });

            // Filter product items within visible cards
            document.querySelectorAll('.scan-result-item[data-product]').forEach(item => {
                const itemProduct = item.dataset.product;
                let showItem = true;

                if (productFilter !== 'all' && itemProduct !== productFilter) {
                    showItem = false;
                }

                // Status filter
                if (statusFilter !== 'all') {
                    const hasMatch = item.querySelector('.approval-status.approved');
                    const hasMismatch = item.querySelector('.approval-status.rejected');
                    if (statusFilter === 'match' && !hasMatch) showItem = false;
                    if (statusFilter === 'mismatch' && !hasMismatch) showItem = false;
                }

                item.style.display = showItem ? 'flex' : 'none';
            });
        }

        if (scannerProductFilter) scannerProductFilter.addEventListener('change', filterScanner);
        if (scannerChannelFilter) scannerChannelFilter.addEventListener('change', filterScanner);
        if (scannerStatusFilter) scannerStatusFilter.addEventListener('change', filterScanner);
    </script>

    <!-- Login System -->
    <script>
        // User database
        const users = [
            { id: 1, username: 'admin', password: 'admin123', name: 'Admin User', role: 'admin' },
            { id: 2, username: 'sarah', password: 'sarah123', name: 'Sarah Mitchell', role: 'channel_owner' },
            { id: 3, username: 'mike', password: 'mike123', name: 'Mike Thompson', role: 'channel_owner' },
            { id: 4, username: 'web', password: 'web123', name: 'Web Team', role: 'web_team' }
        ];

        let currentUser = null;

        // Check for existing session on load
        document.addEventListener('DOMContentLoaded', function() {
            const savedUser = localStorage.getItem('nativepath_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showApp();
            }
            
            // Allow Enter key to submit login
            document.getElementById('login-password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleLogin();
                }
            });
            document.getElementById('login-username').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleLogin();
                }
            });
        });

        function handleLogin() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            const errorEl = document.getElementById('login-error');
            
            const user = users.find(u => u.username === username && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('nativepath_user', JSON.stringify(user));
                errorEl.classList.remove('show');
                showApp();
            } else {
                errorEl.classList.add('show');
            }
        }

        function showApp() {
            document.getElementById('login-overlay').classList.add('hidden');
            document.getElementById('app-container').style.display = 'flex';
            
            // Update user info in sidebar
            document.getElementById('user-avatar').textContent = currentUser.name.charAt(0);
            document.getElementById('user-name').textContent = currentUser.name;
            document.getElementById('user-role').textContent = currentUser.role === 'admin' ? 'Administrator' : 
                                                               currentUser.role === 'channel_owner' ? 'Channel Owner' : 
                                                               currentUser.role === 'web_team' ? 'Web Team' : currentUser.role;
            
            // Show admin nav if admin
            if (currentUser.role === 'admin') {
                document.getElementById('admin-nav').style.display = 'flex';
            } else {
                document.getElementById('admin-nav').style.display = 'none';
            }
        }

        // Toggle Sidebar Pin
        function toggleSidebarPin() {
            const sidebar = document.getElementById('main-sidebar');
            const pinBtn = document.getElementById('pinButton');
            
            sidebar.classList.toggle('pinned');
            pinBtn.classList.toggle('pinned');
            
            if (sidebar.classList.contains('pinned')) {
                pinBtn.querySelector('span:last-child').textContent = 'Unpin sidebar';
            } else {
                pinBtn.querySelector('span:last-child').textContent = 'Pin sidebar';
            }
        }

        function handleLogout() {
            currentUser = null;
            localStorage.removeItem('nativepath_user');
            document.getElementById('login-overlay').classList.remove('hidden');
            document.getElementById('app-container').style.display = 'none';
            document.getElementById('login-username').value = '';
            document.getElementById('login-password').value = '';
            document.getElementById('login-error').classList.remove('show');
        }

        // Override the old admin access function
        function handleAdminAccess() {
            // Now handled through login - do nothing or show message
            alert('Please login with admin credentials to access admin features.');
        }

        // A/B Test Modal Functions
        function openAddTestModal() {
            document.getElementById('add-test-modal').style.display = 'flex';
        }
        
        function closeAddTestModal() {
            document.getElementById('add-test-modal').style.display = 'none';
        }

        // Products Tab Switcher
        function switchProductsTab(tab, btn) {
            // Update active button
            document.querySelectorAll('.products-tab').forEach(t => t.classList.remove('active'));
            btn.classList.add('active');
            
            // Show/hide content
            document.querySelectorAll('.products-tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById('products-' + tab + '-tab').classList.add('active');
            
            // Initialize calendar if switching to launches
            if (tab === 'launches') {
                initLaunchCalendar();
                // Show admin buttons
                if (currentUser && currentUser.role === 'admin') {
                    const addBtn = document.getElementById('add-launch-btn');
                    const addBtnBottom = document.getElementById('add-launch-btn-bottom');
                    if (addBtn) addBtn.style.display = 'block';
                    if (addBtnBottom) addBtnBottom.style.display = 'block';
                    document.querySelectorAll('.launch-edit-btn').forEach(btn => btn.style.display = 'block');
                }
            }
        }

        // Testing Tab Switcher
        function switchTestingTab(tab, btn) {
            // Update active button in Testing tabs
            const testingTabs = btn.closest('.content-body').querySelectorAll('.products-tab');
            testingTabs.forEach(t => t.classList.remove('active'));
            btn.classList.add('active');
            
            // Show/hide Testing tab content
            document.getElementById('testing-tests-tab').classList.toggle('active', tab === 'tests');
            document.getElementById('testing-ai-insights-tab').classList.toggle('active', tab === 'ai-insights');
        }

        // Show Trends Modal
        function showTrendsModal() {
            // Create a more sophisticated modal instead of alert
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 1000;';
            
            modal.innerHTML = `
                <div style="background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 32px; max-width: 500px; position: relative;">
                    <button onclick="this.closest('.modal-overlay').remove()" style="position: absolute; top: 16px; right: 16px; background: none; border: none; color: #888; font-size: 24px; cursor: pointer; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 4px; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'; this.style.color='#fff'" onmouseout="this.style.background='none'; this.style.color='#888'"></button>
                    
                    <div style="text-align: center; margin-bottom: 24px;">
                        <div style="font-size: 48px; margin-bottom: 12px;"></div>
                        <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 8px;">Trends Visualization</h3>
                        <p style="color: #888; font-size: 14px;">Coming Soon</p>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); border-radius: 8px; padding: 20px; margin-bottom: 20px;">
                        <div style="font-size: 13px; color: #b3b3b3; line-height: 1.8;">
                            <div style="margin-bottom: 12px;"><strong style="color: #1db954;"></strong> Launch performance over time</div>
                            <div style="margin-bottom: 12px;"><strong style="color: #1db954;"></strong> Interactive comparison charts</div>
                            <div style="margin-bottom: 12px;"><strong style="color: #1db954;"></strong> Seasonal trend analysis</div>
                            <div><strong style="color: #1db954;"></strong> Channel performance breakdowns</div>
                        </div>
                    </div>
                    
                    <button onclick="this.closest('.modal-overlay').remove()" style="width: 100%; padding: 12px; background: #1db954; border: none; border-radius: 8px; color: #000; font-size: 14px; font-weight: 600; cursor: pointer;">Got it</button>
                </div>
            `;
            
            modal.onclick = (e) => {
                if (e.target === modal) modal.remove();
            };
            
            document.body.appendChild(modal);
        }

        // Update Performance Comparison
        function updatePerformanceComparison() {
            const comparison = document.getElementById('perf-compare-filter').value;
            const comparisonLabels = {
                'target': 'vs Target',
                'last-week': 'vs Last Week',
                'last-month': 'vs Last Month',
                'last-year': 'vs Last Year'
            };
            
            // Update the displayed comparison label
            const vsTargetElements = document.querySelectorAll('[style*="vs Target"]');
            vsTargetElements.forEach(el => {
                if (el.textContent.includes('vs Target')) {
                    el.textContent = comparisonLabels[comparison];
                }
            });
            
            // Show visual feedback
            const dropdown = document.getElementById('perf-compare-filter');
            const originalBg = dropdown.style.background;
            dropdown.style.background = 'rgba(29, 185, 84, 0.2)';
            dropdown.style.borderColor = 'rgba(29, 185, 84, 0.4)';
            
            setTimeout(() => {
                dropdown.style.background = originalBg;
                dropdown.style.borderColor = 'rgba(255,255,255,0.1)';
            }, 500);
        }

        // Search Pages Function
        function searchPages() {
            const searchInput = document.getElementById('page-search-input');
            if (!searchInput) return;
            
            const searchTerm = searchInput.value.toLowerCase().trim();
            const rows = document.querySelectorAll('#page-manager-view tbody tr');
            let visibleCount = 0;
            
            rows.forEach(row => {
                // Get page name and URL from the row
                const nameCell = row.querySelector('td:first-child');
                if (!nameCell) return;
                
                const pageName = nameCell.querySelector('div:first-child')?.textContent.toLowerCase() || '';
                const pageUrl = nameCell.querySelector('div:last-child')?.textContent.toLowerCase() || '';
                
                // Check if search term matches
                if (searchTerm === '') {
                    // Show all if search is empty
                    row.style.display = '';
                    visibleCount++;
                } else if (pageUrl === searchTerm) {
                    // Exact URL match
                    row.style.display = '';
                    visibleCount++;
                } else if (pageName.includes(searchTerm) || pageUrl.includes(searchTerm)) {
                    // Partial match
                    row.style.display = '';
                    visibleCount++;
                } else {
                    row.style.display = 'none';
                }
            });
            
            // Update count display if it exists
            const countDisplay = document.querySelector('#page-manager-view .content-body > div:first-child > div:last-child');
            if (countDisplay) {
                countDisplay.innerHTML = `Showing <strong style="color: #fff;">${visibleCount}</strong> pages`;
            }
        }

        // Search Tests Function
        function searchTests() {
            const searchInput = document.getElementById('test-search-input');
            if (!searchInput) return;
            
            const searchTerm = searchInput.value.toLowerCase().trim();
            const testCards = document.querySelectorAll('#testing-tests-tab .test-card');
            let visibleCount = 0;
            
            testCards.forEach(card => {
                // Get test name and CID
                const testName = card.querySelector('h3')?.textContent.toLowerCase() || '';
                const cidElement = card.querySelector('[style*="monospace"]');
                const cid = cidElement?.textContent.toLowerCase() || '';
                
                // Check if search term matches
                if (searchTerm === '') {
                    card.style.display = '';
                    visibleCount++;
                } else if (testName.includes(searchTerm) || cid.includes(searchTerm)) {
                    card.style.display = '';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Show message if no results
            const container = document.getElementById('testing-tests-tab');
            let noResults = container.querySelector('.no-results-message');
            
            if (visibleCount === 0 && searchTerm !== '') {
                if (!noResults) {
                    noResults = document.createElement('div');
                    noResults.className = 'no-results-message empty-state';
                    noResults.innerHTML = `
                        <div class="empty-icon"></div>
                        <div class="empty-title">No tests found</div>
                        <div class="empty-description">Try adjusting your search or filters</div>
                    `;
                    container.appendChild(noResults);
                }
                noResults.style.display = 'flex';
            } else if (noResults) {
                noResults.style.display = 'none';
            }
        }

        // Open Test Detail Modal
        function openTestDetailModal(testId) {
            // Sample test data - in real app this would come from API
            const testData = {
                '1317': {
                    name: 'Free Shipping Threshold Test',
                    cid: 'CID 1317',
                    dates: [
                        { date: '12/19 - 12/21/25', lpid: '12/19/25 - TEST - Shipping 1 (8077)', clicks: 204, sales: 16, conv: '7.84%', epc: '$9.51', paid: '$1,940.95', earned: '$1,940.95', net: '$0.00', aov: '$121.31' },
                        { date: '12/22/25', lpid: '12/19/25 - Control (8078)', clicks: 205, sales: 12, conv: '5.85%', epc: '$5.82', paid: '$959.94', earned: '$1,192.68', net: '$232.74', aov: '$99.39' },
                        { date: '12/22/25', lpid: '12/19/25 - TEST - Shipping 1 (8077)', clicks: 85, sales: 6, conv: '7.06%', epc: '$4.27', paid: '$362.97', earned: '$362.97', net: '$0.00', aov: '$60.50' },
                        { date: '12/23 - 12/28/25', lpid: '12/19/25 - TEST - Shipping 1 (8077)', clicks: 582, sales: 45, conv: '7.73%', epc: '$7.02', paid: '$4,079.80', earned: '$4,084.79', net: '$4.99', aov: '$90.77' }
                    ],
                    summary: {
                        testClicks: 2004,
                        testSales: 159,
                        testConv: '7.93%',
                        testEpc: '$8.37',
                        controlClicks: 2000,
                        controlSales: 154,
                        controlConv: '7.70%',
                        controlEpc: '$7.93',
                        convDelta: '0.23%',
                        epcDelta: '$0.44',
                        confidence: '38%'
                    }
                },
                '1829': {
                    name: 'LP Angle Test - Energy vs Joint Pain',
                    cid: 'CID 1829',
                    dates: [
                        { date: '1/2/26', lpid: 'A: Energy Angle', clicks: 342, sales: 14, conv: '4.09%', epc: '$3.64', aov: '$89.00' },
                        { date: '1/2/26', lpid: 'B: Joint Pain Angle', clicks: 338, sales: 18, conv: '5.33%', epc: '$5.01', aov: '$94.00' }
                    ],
                    summary: {
                        testClicks: 338,
                        testSales: 18,
                        testConv: '5.33%',
                        testEpc: '$5.01',
                        controlClicks: 342,
                        controlSales: 14,
                        controlConv: '4.09%',
                        controlEpc: '$3.64',
                        convDelta: '1.24%',
                        epcDelta: '$1.37',
                        confidence: '18%'
                    }
                }
            };
            
            const test = testData[testId];
            if (!test) {
                alert('Test data not found');
                return;
            }
            
            // Create modal
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); display: flex; align-items: center; justify-content: center; z-index: 1000; padding: 20px; overflow-y: auto;';
            
            modal.innerHTML = `
                <div style="background: #1a1a1a; border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; max-width: 1200px; width: 100%; max-height: 90vh; overflow-y: auto; position: relative;">
                    <div style="position: sticky; top: 0; background: #1a1a1a; border-bottom: 1px solid rgba(255,255,255,0.1); padding: 24px; z-index: 10;">
                        <button onclick="this.closest('.modal-overlay').remove()" style="position: absolute; top: 16px; right: 16px; background: none; border: none; color: #888; font-size: 24px; cursor: pointer; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 4px; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'; this.style.color='#fff'" onmouseout="this.style.background='none'; this.style.color='#888'"></button>
                        <h2 style="font-size: 20px; font-weight: 700; margin-bottom: 8px;">${test.name}</h2>
                        <div style="font-family: monospace; color: #888; font-size: 13px;">${test.cid}</div>
                    </div>
                    
                    <div style="padding: 24px;">
                        <!-- Summary Stats -->
                        <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); border-radius: 8px; padding: 20px; margin-bottom: 24px;">
                            <h3 style="font-size: 14px; color: #888; font-weight: 600; margin-bottom: 16px;">TEST SUMMARY</h3>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                                <div>
                                    <div style="font-size: 11px; color: #666; margin-bottom: 4px;">Conversion Delta</div>
                                    <div style="font-size: 24px; font-weight: 700; color: #1db954;">${test.summary.convDelta}</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #666; margin-bottom: 4px;">EPC Delta</div>
                                    <div style="font-size: 24px; font-weight: 700; color: #1db954;">${test.summary.epcDelta}</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: #666; margin-bottom: 4px;">Statistical Confidence</div>
                                    <div style="font-size: 24px; font-weight: 700; color: ${test.summary.confidence.includes('18') ? '#ef4444' : '#eab308'};">${test.summary.confidence}</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Detailed Data Table -->
                        <div style="background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.06); border-radius: 8px; overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr style="background: rgba(255,255,255,0.03);">
                                        <th style="padding: 12px; text-align: left; font-size: 11px; color: #888; font-weight: 600;">DATE</th>
                                        <th style="padding: 12px; text-align: left; font-size: 11px; color: #888; font-weight: 600;">LPID</th>
                                        <th style="padding: 12px; text-align: right; font-size: 11px; color: #888; font-weight: 600;">CLICKS</th>
                                        <th style="padding: 12px; text-align: right; font-size: 11px; color: #888; font-weight: 600;">SALES</th>
                                        <th style="padding: 12px; text-align: right; font-size: 11px; color: #888; font-weight: 600;">CONV %</th>
                                        <th style="padding: 12px; text-align: right; font-size: 11px; color: #888; font-weight: 600;">EPC</th>
                                        <th style="padding: 12px; text-align: right; font-size: 11px; color: #888; font-weight: 600;">AOV</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${test.dates.map((row, idx) => `
                                        <tr style="border-top: 1px solid rgba(255,255,255,0.05);">
                                            <td style="padding: 12px; font-size: 13px;">${row.date}</td>
                                            <td style="padding: 12px; font-size: 12px; color: #888;">${row.lpid}</td>
                                            <td style="padding: 12px; text-align: right; font-weight: 600;">${row.clicks}</td>
                                            <td style="padding: 12px; text-align: right; font-weight: 600;">${row.sales}</td>
                                            <td style="padding: 12px; text-align: right; font-weight: 600; color: #1db954;">${row.conv}</td>
                                            <td style="padding: 12px; text-align: right; font-weight: 600;">${row.epc}</td>
                                            <td style="padding: 12px; text-align: right; font-weight: 600;">${row.aov}</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;
            
            modal.onclick = (e) => {
                if (e.target === modal) modal.remove();
            };
            
            document.body.appendChild(modal);
        }


        // Modal Tab Switcher
        function switchModalTab(tab, btn) {
            // Update active button
            document.querySelectorAll('.modal-tab').forEach(t => t.classList.remove('active'));
            btn.classList.add('active');
            
            // Show/hide content
            document.querySelectorAll('.modal-tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById('modal-tab-' + tab).classList.add('active');
        }

        // Launch Calendar
        let currentLaunchMonth = new Date(2026, 0, 1); // Jan 2026
        
        function initLaunchCalendar() {
            renderLaunchCalendar();
        }
        
        function changeLaunchMonth(delta) {
            currentLaunchMonth.setMonth(currentLaunchMonth.getMonth() + delta);
            renderLaunchCalendar();
        }
        
        function renderLaunchCalendar() {
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            
            const monthTitle = document.getElementById('launch-calendar-month');
            const grid = document.getElementById('launch-calendar-grid');
            
            // Guard clause - exit if elements don't exist yet
            if (!monthTitle || !grid) {
                console.warn('Launch calendar elements not found');
                return;
            }
            
            monthTitle.textContent = monthNames[currentLaunchMonth.getMonth()] + ' ' + currentLaunchMonth.getFullYear();
            grid.innerHTML = '';
            
            const year = currentLaunchMonth.getFullYear();
            const month = currentLaunchMonth.getMonth();
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date();
            
            // Launch data with launchId for modal
            const launches = {
                '2026-01-15': { name: 'Collagen Gummies', status: 'on-track', launchId: 'gummies' },
                '2026-01-22': { name: 'Vitamin D3 + K2', status: 'delayed', launchId: 'vitamind' },
                '2026-02-01': { name: 'Collagen v3.0', status: 'on-track', launchId: 'collagenv3' },
                '2026-02-05': { name: 'Vitamin D3 + K2', status: 'delayed', launchId: 'vitamind' },
                '2026-02-14': { name: 'Probiotic 50B', status: 'planning', launchId: 'probiotic' }
            };
            
            // Previous month days
            const prevMonthDays = new Date(year, month, 0).getDate();
            for (let i = firstDay - 1; i >= 0; i--) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'calendar-day other-month';
                dayDiv.innerHTML = '<span class="calendar-day-num">' + (prevMonthDays - i) + '</span>';
                grid.appendChild(dayDiv);
            }
            
            // Current month days
            for (let day = 1; day <= daysInMonth; day++) {
                const dayDiv = document.createElement('div');
                const dateStr = year + '-' + String(month + 1).padStart(2, '0') + '-' + String(day).padStart(2, '0');
                const isToday = today.getDate() === day && today.getMonth() === month && today.getFullYear() === year;
                
                dayDiv.className = 'calendar-day' + (isToday ? ' today' : '');
                dayDiv.innerHTML = '<span class="calendar-day-num">' + day + '</span>';
                
                if (launches[dateStr]) {
                    const launch = launches[dateStr];
                    const launchDiv = document.createElement('div');
                    launchDiv.className = 'calendar-launch ' + launch.status;
                    launchDiv.textContent = launch.name;
                    launchDiv.style.cursor = 'pointer';
                    launchDiv.onclick = function(e) {
                        e.stopPropagation();
                        openLaunchDetail(launch.launchId);
                    };
                    dayDiv.appendChild(launchDiv);
                }
                
                grid.appendChild(dayDiv);
            }
            
            // Next month days to fill grid
            const totalCells = grid.children.length;
            const remaining = 42 - totalCells; // 6 rows x 7 days
            for (let i = 1; i <= remaining; i++) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'calendar-day other-month';
                dayDiv.innerHTML = '<span class="calendar-day-num">' + i + '</span>';
                grid.appendChild(dayDiv);
            }
        }

        // Jump to Today Function (works for both calendars)
        function jumpToToday(calendarType) {
            const today = new Date();
            if (calendarType === 'launch') {
                currentLaunchMonth = today;
                renderLaunchCalendar();
            } else if (calendarType === 'campaign') {
                currentCampaignMonth = today;
                renderCampaignCalendar();
            }
        }

        // Search Launches Function
        function searchLaunches() {
            const searchInput = document.getElementById('launches-search-input');
            if (!searchInput) return;
            
            const searchTerm = searchInput.value.toLowerCase().trim();
            const launchCards = document.querySelectorAll('#launches-view .content-body > div:last-child > div > div[onclick*="openLaunchDetail"]');
            let visibleCount = 0;
            
            launchCards.forEach(card => {
                // Get launch name from card
                const nameElement = card.querySelector('[style*="font-size: 16px"]');
                const launchName = nameElement?.textContent.toLowerCase() || '';
                
                // Get product name
                const productElement = card.querySelector('[style*="color: #888"]');
                const product = productElement?.textContent.toLowerCase() || '';
                
                // Check if search term matches
                if (searchTerm === '') {
                    card.style.display = '';
                    visibleCount++;
                } else if (launchName.includes(searchTerm) || product.includes(searchTerm)) {
                    card.style.display = '';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Launch Modal Functions
        function openEditLaunchModal(launchId) {
            document.getElementById('edit-launch-modal').style.display = 'block';
        }
        
        function closeEditLaunchModal() {
            document.getElementById('edit-launch-modal').style.display = 'none';
        }
        
        function saveLaunchEdit() {
            alert('Launch updated successfully! (Demo mode)');
            closeEditLaunchModal();
        }
        
        // Switch between launch display options
        function showLaunchesOption(option) {
            // Hide all options
            ['a', 'b', 'c', 'd'].forEach(opt => {
                const el = document.getElementById('launches-option-' + opt);
                if (el) el.style.display = 'none';
            });
            // Show selected option
            const selected = document.getElementById('launches-option-' + option);
            if (selected) selected.style.display = 'block';
        }

        // Open Launch Detail Modal
        function openLaunchDetail(launchId) {
            const launchData = {
                gummies: {
                    icon: '',
                    name: 'Collagen Gummies',
                    meta: 'SKU: COL-GUM-60  New Product',
                    status: 'On Track',
                    statusColor: '#1db954',
                    originalDate: 'Jan 15, 2026',
                    currentDate: 'Jan 15, 2026',
                    currentDateColor: '#1db954',
                    price: '$39.99',
                    margin: '68%',
                    inventory: '5,000 units',
                    retAllocation: '60%',
                    acqAllocation: '40%',
                    notes: 'New gummy format for collagen delivery. Target audience: customers who prefer gummies over powders.'
                },
                vitamind: {
                    icon: '',
                    name: 'Vitamin D3 + K2',
                    meta: 'SKU: VIT-D3K2-90  New Product',
                    status: 'Delayed',
                    statusColor: '#eab308',
                    originalDate: 'Jan 22, 2026',
                    currentDate: 'Feb 5, 2026',
                    currentDateColor: '#eab308',
                    price: '$29.99',
                    margin: '72%',
                    inventory: '3,500 units',
                    retAllocation: '50%',
                    acqAllocation: '50%',
                    notes: 'High-potency D3 with K2 for optimal absorption. Delayed due to packaging supplier issue. New ETA confirmed.'
                },
                collagenv3: {
                    icon: '',
                    name: 'Collagen Peptides v3.0',
                    meta: 'SKU: COL-25-V3  Reformulation',
                    status: 'On Track',
                    statusColor: '#1db954',
                    originalDate: 'Feb 1, 2026',
                    currentDate: 'Feb 1, 2026',
                    currentDateColor: '#1db954',
                    price: '$33.99',
                    margin: '65%',
                    inventory: '10,000 units',
                    retAllocation: '70%',
                    acqAllocation: '30%',
                    notes: 'Updated formulation with improved solubility. Same price point as v2.0. Marketing to emphasize "new and improved" messaging.'
                },
                probiotic: {
                    icon: '',
                    name: 'Probiotic 50B',
                    meta: 'SKU: PRO-50B-30  New Product',
                    status: 'Planning',
                    statusColor: '#3b82f6',
                    originalDate: 'Feb 14, 2026',
                    currentDate: 'Feb 14, 2026',
                    currentDateColor: '#3b82f6',
                    price: '$44.99',
                    margin: '70%',
                    inventory: '4,000 units',
                    retAllocation: '55%',
                    acqAllocation: '45%',
                    notes: '50 billion CFU with 12 strains. Valentine\'s Day launch timing for "love your gut" campaign. Shelf-stable formula.'
                }
            };
            
            const data = launchData[launchId] || launchData.gummies;
            
            document.getElementById('launch-detail-icon').textContent = data.icon;
            document.getElementById('launch-detail-name').textContent = data.name;
            document.getElementById('launch-detail-meta').textContent = data.meta;
            document.getElementById('launch-detail-status').textContent = data.status;
            document.getElementById('launch-detail-status').style.background = `rgba(${hexToRgb(data.statusColor)}, 0.15)`;
            document.getElementById('launch-detail-status').style.color = data.statusColor;
            document.getElementById('launch-detail-original-date').textContent = data.originalDate;
            document.getElementById('launch-detail-current-date').textContent = data.currentDate;
            document.getElementById('launch-detail-current-date').style.color = data.currentDateColor;
            document.getElementById('launch-detail-price').textContent = data.price;
            document.getElementById('launch-detail-margin').textContent = data.margin;
            document.getElementById('launch-detail-inventory').textContent = data.inventory;
            document.getElementById('launch-detail-ret').textContent = data.retAllocation;
            document.getElementById('launch-detail-acq').textContent = data.acqAllocation;
            document.getElementById('launch-detail-notes').textContent = data.notes;
            
            // Show admin actions if admin
            if (currentUser && currentUser.role === 'admin') {
                document.getElementById('launch-detail-admin-actions').style.display = 'block';
            }
            
            document.getElementById('launch-detail-modal').style.display = 'block';
        }
        
        // Helper function to convert hex to rgb
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` : '255, 255, 255';
        }

        // Toggle Performance Views
        function showPerformanceView(view) {
            // Hide all views
            document.getElementById('perf-view-aggregated').style.display = 'none';
            document.getElementById('perf-view-by-channel').style.display = 'none';
            document.getElementById('perf-view-by-product').style.display = 'none';
            
            // Reset all buttons
            document.getElementById('perf-btn-aggregated').style.background = 'rgba(255,255,255,0.1)';
            document.getElementById('perf-btn-aggregated').style.color = '#888';
            document.getElementById('perf-btn-by-channel').style.background = 'rgba(255,255,255,0.1)';
            document.getElementById('perf-btn-by-channel').style.color = '#888';
            document.getElementById('perf-btn-by-product').style.background = 'rgba(255,255,255,0.1)';
            document.getElementById('perf-btn-by-product').style.color = '#888';
            
            // Show selected view and highlight button
            if (view === 'aggregated') {
                document.getElementById('perf-view-aggregated').style.display = 'block';
                document.getElementById('perf-btn-aggregated').style.background = '#1db954';
                document.getElementById('perf-btn-aggregated').style.color = '#000';
            } else if (view === 'by-channel') {
                document.getElementById('perf-view-by-channel').style.display = 'block';
                document.getElementById('perf-btn-by-channel').style.background = '#1db954';
                document.getElementById('perf-btn-by-channel').style.color = '#000';
            } else if (view === 'by-product') {
                document.getElementById('perf-view-by-product').style.display = 'block';
                document.getElementById('perf-btn-by-product').style.background = '#1db954';
                document.getElementById('perf-btn-by-product').style.color = '#000';
            }
        }
        
        // Time Filter for Performance
        function updatePerformanceTimeFilter() {
            const filter = document.getElementById('perf-time-filter').value;
            // In production this would fetch/filter data based on time period
            console.log('Filter changed to:', filter);
            // For demo, just show an alert if custom is selected
            if (filter === 'custom') {
                alert('Custom date range picker would open here');
            }
        }
        
        function closeLaunchDetail() {
            document.getElementById('launch-detail-modal').style.display = 'none';
        }

        // Navigate to Launches tab from sidebar notification
        function navigateToLaunches() {
            // Show products view
            document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
            document.querySelector('[data-view="products"]').classList.add('active');
            document.querySelectorAll('.view').forEach(view => view.classList.remove('active'));
            document.getElementById('products-view').classList.add('active');
            
            // Switch to Launches tab
            switchProductsTab('launches', document.querySelector('.products-tab:nth-child(2)'));
        }

        function openAddLaunchModal() {
            document.getElementById('add-launch-modal').style.display = 'block';
        }
        
        function closeAddLaunchModal() {
            document.getElementById('add-launch-modal').style.display = 'none';
        }
        
        function saveNewLaunch() {
            const name = document.getElementById('new-launch-name').value;
            const sku = document.getElementById('new-launch-sku').value;
            const date = document.getElementById('new-launch-date').value;
            
            if (!name || !sku || !date) {
                alert('Please fill in Product Name, SKU, and Launch Date');
                return;
            }
            
            const formattedDate = new Date(date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            
            alert(` Launch Added Successfully!\n\nProduct: ${name}\nSKU: ${sku}\nLaunch Date: ${formattedDate}\nStatus: Planning\n\n(In production, this would save to the database)`);
            
            // Clear form
            document.getElementById('new-launch-name').value = '';
            document.getElementById('new-launch-sku').value = '';
            document.getElementById('new-launch-date').value = '';
            document.getElementById('new-launch-price').value = '';
            document.getElementById('new-launch-inventory').value = '';
            document.getElementById('new-launch-notes').value = '';
            
            closeAddLaunchModal();
        }

        // Campaign Calendar
        let currentCampaignMonth = new Date(2026, 0, 1);
        
        function changeCampaignMonth(delta) {
            currentCampaignMonth.setMonth(currentCampaignMonth.getMonth() + delta);
            renderCampaignCalendar();
        }
        
        function renderCampaignCalendar() {
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('campaign-calendar-title').textContent = monthNames[currentCampaignMonth.getMonth()] + ' ' + currentCampaignMonth.getFullYear();
            
            const grid = document.getElementById('campaign-calendar-grid');
            if (!grid) return;
            grid.innerHTML = '';
            
            const year = currentCampaignMonth.getFullYear();
            const month = currentCampaignMonth.getMonth();
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date();
            
            // Previous month days
            const prevMonthDays = new Date(year, month, 0).getDate();
            for (let i = firstDay - 1; i >= 0; i--) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'campaign-cal-day other';
                dayDiv.innerHTML = '<span class="campaign-cal-num">' + (prevMonthDays - i) + '</span>';
                grid.appendChild(dayDiv);
            }
            
            // Current month days
            for (let day = 1; day <= daysInMonth; day++) {
                const dayDiv = document.createElement('div');
                const isToday = today.getDate() === day && today.getMonth() === month && today.getFullYear() === year;
                
                dayDiv.className = 'campaign-cal-day' + (isToday ? ' today' : '');
                dayDiv.innerHTML = '<span class="campaign-cal-num">' + day + '</span>';
                
                // Check for Valentine's range - with campaign name
                if (year === 2026 && month === 0) {
                    if (day >= 13 && day <= 24) {
                        dayDiv.innerHTML += '<div class="campaign-cal-event prep" onclick="showCampaignDetail(\'valentines\'); event.stopPropagation();" title="Valentine\'s Day Prep Phase">VDay Prep</div>';
                    } else if (day >= 25) {
                        dayDiv.innerHTML += '<div class="campaign-cal-event live" onclick="showCampaignDetail(\'valentines\'); event.stopPropagation();" title="Valentine\'s Day Campaign Live">VDay Live</div>';
                    }
                }
                if (year === 2026 && month === 1) {
                    if (day <= 14) {
                        dayDiv.innerHTML += '<div class="campaign-cal-event live" onclick="showCampaignDetail(\'valentines\'); event.stopPropagation();" title="Valentine\'s Day Campaign Live">VDay Live</div>';
                    }
                    if (day >= 15 && day <= 28) {
                        dayDiv.innerHTML += '<div class="campaign-cal-event prep" onclick="showCampaignDetail(\'spring\'); event.stopPropagation();" title="Spring Renewal Prep">Spring Prep</div>';
                    }
                }
                if (year === 2026 && month === 2) {
                    if (day >= 1 && day <= 21) {
                        dayDiv.innerHTML += '<div class="campaign-cal-event live" onclick="showCampaignDetail(\'spring\'); event.stopPropagation();" title="Spring Renewal Live">Spring Live</div>';
                    }
                }
                
                // Click on day shows tooltip or opens first campaign
                dayDiv.onclick = function() {
                    const events = this.querySelectorAll('.campaign-cal-event');
                    if (events.length > 0) {
                        events[0].click();
                    }
                };
                
                grid.appendChild(dayDiv);
            }
            
            // Fill remaining
            const remaining = 42 - grid.children.length;
            for (let i = 1; i <= remaining; i++) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'campaign-cal-day other';
                dayDiv.innerHTML = '<span class="campaign-cal-num">' + i + '</span>';
                grid.appendChild(dayDiv);
            }
        }
        
        function showCampaignDetail(campaignId) {
            // Campaign data
            const campaigns = {
                'valentines': {
                    code: 'VDAY-26',
                    icon: '',
                    name: "Valentine's Day 2026",
                    dates: 'Jan 25 - Feb 14, 2026',
                    status: 'active',
                    statusText: ' Live',
                    offers: 3,
                    pages: 8,
                    live: 6,
                    dev: 2
                },
                'evergreen': {
                    code: 'EVRGN',
                    icon: '',
                    name: 'Evergreen',
                    dates: 'Always active  Base pricing',
                    status: 'active',
                    statusText: ' Active',
                    offers: 5,
                    pages: 28,
                    live: 25,
                    dev: 3
                },
                'spring': {
                    code: 'SPRNG-26',
                    icon: '',
                    name: 'Spring Renewal',
                    dates: 'Mar 1 - Mar 21, 2026',
                    status: 'upcoming',
                    statusText: ' Upcoming',
                    offers: 0,
                    pages: 0,
                    live: 0,
                    dev: 0
                },
                'summer': {
                    code: 'SUMR-26',
                    icon: '',
                    name: 'Summer Sale',
                    dates: 'Jun 1 - Aug 31, 2026',
                    status: 'planning',
                    statusText: ' Planning',
                    offers: 0,
                    pages: 0,
                    live: 0,
                    dev: 0
                }
            };
            
            const campaign = campaigns[campaignId] || campaigns['valentines'];
            
            // Update modal content
            document.getElementById('campaign-modal-code').textContent = campaign.code;
            document.getElementById('campaign-modal-icon').textContent = campaign.icon;
            document.getElementById('campaign-modal-title').textContent = campaign.name;
            document.getElementById('campaign-modal-dates').textContent = campaign.dates;
            
            const statusEl = document.getElementById('campaign-modal-status');
            statusEl.textContent = campaign.statusText;
            statusEl.className = 'campaign-modal-status ' + campaign.status;
            
            document.getElementById('campaign-stat-offers').textContent = campaign.offers;
            document.getElementById('campaign-stat-pages').textContent = campaign.pages;
            document.getElementById('campaign-stat-live').textContent = campaign.live;
            document.getElementById('campaign-stat-dev').textContent = campaign.dev;
            
            // Show modal
            document.getElementById('campaign-detail-modal').style.display = 'block';
        }
        
        // Filter campaign pages
        function filterCampaignPages(filter, chip) {
            // Update active chip
            document.querySelectorAll('.campaign-page-filter').forEach(c => c.classList.remove('active'));
            chip.classList.add('active');
            
            // Filter pages
            document.querySelectorAll('.campaign-page-item').forEach(item => {
                if (filter === 'all') {
                    item.style.display = 'flex';
                } else if (filter === 'live' && item.dataset.status === 'live') {
                    item.style.display = 'flex';
                } else if (filter === 'dev' && item.dataset.status === 'dev') {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }
        
        // Initialize campaign calendar on page load
        document.addEventListener('DOMContentLoaded', function() {
            if (document.getElementById('campaign-calendar-grid')) {
                renderCampaignCalendar();
            }
        });

        // Product Filter Function - Updated for cards
        function filterProducts(filter, btn) {
            // Update active button in Type group only
            btn.parentElement.querySelectorAll('.filter-chip').forEach(chip => {
                chip.classList.remove('active');
            });
            btn.classList.add('active');
            
            // Filter products (cards)
            const cards = document.querySelectorAll('.product-card-new');
            cards.forEach(card => {
                const category = card.dataset.category;
                
                if (filter === 'all') {
                    card.style.display = 'block';
                } else if (filter === 'gifts') {
                    card.style.display = (card.dataset.gift === 'true') ? 'block' : 'none';
                } else {
                    card.style.display = (category === filter) ? 'block' : 'none';
                }
            });
            updateProductCount();
        }

        // Status Filter Function
        function filterProductsStatus(filter, btn) {
            // Update active button in Status group only
            btn.parentElement.querySelectorAll('.filter-chip').forEach(chip => {
                chip.classList.remove('active');
            });
            btn.classList.add('active');
            
            // Filter products by status
            const cards = document.querySelectorAll('.product-card-new');
            cards.forEach(card => {
                const status = card.dataset.status;
                
                if (filter === 'all') {
                    card.style.display = 'block';
                } else {
                    card.style.display = (status === filter) ? 'block' : 'none';
                }
            });
            updateProductCount();
        }

        // Free Gift Filter Toggle
        function filterFreeGifts(btn) {
            btn.classList.toggle('active');
            const showGiftsOnly = btn.classList.contains('active');
            
            const cards = document.querySelectorAll('.product-card-new');
            cards.forEach(card => {
                if (showGiftsOnly) {
                    card.style.display = (card.dataset.gift === 'true') ? 'block' : 'none';
                } else {
                    card.style.display = 'block';
                }
            });
            updateProductCount();
        }

        // Update product count display
        function updateProductCount() {
            const visibleCards = document.querySelectorAll('.product-card-new[style*="display: block"], .product-card-new:not([style*="display"])');
            const countSpan = document.querySelector('.products-results-count span');
            if (countSpan) {
                countSpan.textContent = visibleCards.length;
            }
        }

        // Toggle between grid and list view
        function toggleProductView(view, btn) {
            btn.parentElement.querySelectorAll('.products-view-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            const container = document.getElementById('products-list');
            if (view === 'list') {
                container.classList.remove('products-card-grid');
                container.style.display = 'flex';
                container.style.flexDirection = 'column';
                container.style.gap = '8px';
            } else {
                container.classList.add('products-card-grid');
                container.style.display = '';
                container.style.flexDirection = '';
                container.style.gap = '';
            }
        }

        // Product Detail Modal Functions
        function openProductDetail(productId) {
            document.getElementById('product-detail-modal').style.display = 'block';
            
            // Reset to overview tab
            document.querySelectorAll('.modal-tab').forEach(t => t.classList.remove('active'));
            document.querySelector('.modal-tab').classList.add('active');
            document.querySelectorAll('.modal-tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById('modal-tab-overview').classList.add('active');
            
            // Show admin edit button if admin
            if (currentUser && currentUser.role === 'admin') {
                document.getElementById('product-admin-actions').style.display = 'block';
            } else {
                document.getElementById('product-admin-actions').style.display = 'none';
            }
        }
        
        function closeProductDetail() {
            document.getElementById('product-detail-modal').style.display = 'none';
        }
        
        function openProductEditModal() {
            document.getElementById('product-edit-modal').style.display = 'block';
        }
        
        function closeProductEditModal() {
            document.getElementById('product-edit-modal').style.display = 'none';
        }
        
        function saveProductEdit() {
            // In a real app, this would save to a database
            alert('Changes saved successfully! (Demo mode - changes not persisted)');
            closeProductEditModal();
        }

        // Close modal when clicking overlay (outside modal content)
        function closeModalOnOverlay(event, modalId) {
            if (event.target.id === modalId || event.target.classList.contains('modal-overlay')) {
                document.getElementById(modalId).style.display = 'none';
            }
        }

        // Close any modal by clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal-overlay')) {
                e.target.style.display = 'none';
            }
        });

        // Close modals with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal-overlay').forEach(modal => {
                    modal.style.display = 'none';
                });
                // Also close older style modals
                const oldModals = ['offer-detail-modal', 'add-test-modal', 'page-detail-modal'];
                oldModals.forEach(id => {
                    const modal = document.getElementById(id);
                    if (modal) modal.style.display = 'none';
                });
            }
        });
    </script>
</body>
</html>